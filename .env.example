# Blipee OS Environment Variables
# Copy this file to .env.local and fill in your values

# ====================
# CORE SERVICES (Required)
# ====================

# Supabase
# Get these from your Supabase project settings
NEXT_PUBLIC_SUPABASE_URL=https://your-project.supabase.co
NEXT_PUBLIC_SUPABASE_ANON_KEY=your-anon-key

# Supabase Service Role Key (Required for server-side operations)
# Get this from your Supabase project settings > API
# IMPORTANT: Keep this secret! Never expose it client-side
SUPABASE_SERVICE_KEY=your-service-role-key

# ====================
# AI PROVIDERS (at least one required)
# ====================

# OpenAI - https://platform.openai.com
OPENAI_API_KEY=sk-...

# Anthropic - https://console.anthropic.com
ANTHROPIC_API_KEY=sk-ant-...

# DeepSeek - https://platform.deepseek.com (Recommended - Fast & Affordable)
DEEPSEEK_API_KEY=...

# ====================
# FEATURE FLAGS (for safe deployment)
# ====================

# Vercel AI SDK Integration (Smart Provider Routing)
# Set to 'true' to enable Vercel AI with smart routing
# Production: false (disabled by default)
# Preview/Dev: true (enabled for testing)
NEXT_PUBLIC_ENABLE_VERCEL_AI=false

# Gradual rollout percentage (0-100)
# 0 = disabled for all users
# 1 = enabled for 1% of users
# 50 = enabled for 50% of users
# 100 = enabled for all users
NEXT_PUBLIC_VERCEL_AI_ROLLOUT_PERCENTAGE=0

# Beta organizations (comma-separated org IDs)
# These orgs get early access regardless of rollout percentage
# Example: org_abc123,org_def456,org_ghi789
NEXT_PUBLIC_VERCEL_AI_BETA_ORGS=

# ====================
# CACHING & PERFORMANCE (Optional but recommended for production)
# ====================

# Upstash Redis (Recommended for production)
# Get these from your Upstash console: https://console.upstash.com
UPSTASH_REDIS_REST_URL=https://your-redis.upstash.io
UPSTASH_REDIS_REST_TOKEN=your-token

# Local Redis Configuration (for development)
REDIS_HOST=localhost
REDIS_PORT=6379
REDIS_PASSWORD=
REDIS_DB=0

# Redis Cluster (Optional)
REDIS_CLUSTER_ENABLED=false
REDIS_CLUSTER_NODES=redis1:6379,redis2:6379,redis3:6379

# Redis TLS (for production)
REDIS_TLS_ENABLED=false

# Cache Settings
REDIS_MAX_MEMORY=2gb
CACHE_WARMUP=false

# Database Connection Pooling (PgBouncer)
PGBOUNCER_HOST=localhost
PGBOUNCER_PORT=6432
SUPABASE_DB_HOST=db.supabase.co
SUPABASE_DB_USER=postgres
SUPABASE_DB_PASSWORD=your-db-password

# Read Replica URLs (comma-separated)
SUPABASE_READ_REPLICA_URLS=

# ====================
# EXTERNAL DATA APIS (Optional but recommended)
# ====================

# Weather Data - OpenWeatherMap
# Get key at: https://openweathermap.org/api
OPENWEATHERMAP_API_KEY=

# Carbon Interface - https://www.carboninterface.com/
CARBON_INTERFACE_API_KEY=

# Electricity Maps - https://api.electricitymap.org/
ELECTRICITY_MAPS_API_KEY=

# Climatiq - https://www.climatiq.io/
CLIMATIQ_API_KEY=

# Carbon Market API - For carbon credit data
CARBON_MARKET_API_KEY=

# Regulatory Compliance API - For regulatory data
REGULATORY_API_KEY=

# ====================
# APPLICATION
# ====================

NEXT_PUBLIC_APP_URL=http://localhost:3000
NEXT_PUBLIC_SITE_URL=http://localhost:3000

# ====================
# DEMO CREDENTIALS (Optional)
# ====================

# Pre-configured demo user for testing
DEMO_USER_EMAIL=demo@blipee.com
DEMO_USER_PASSWORD=DemoPassword123!

# ====================
# AUTHENTICATION (Optional)
# ====================

# NextAuth
NEXTAUTH_SECRET=your-secret-here
NEXTAUTH_URL=http://localhost:3000

# Google OAuth
GOOGLE_CLIENT_ID=
GOOGLE_CLIENT_SECRET=

# GitHub OAuth  
GITHUB_CLIENT_ID=
GITHUB_CLIENT_SECRET=

# Multi-Factor Authentication
MFA_ENCRYPTION_KEY=your-32-character-encryption-key
MFA_ISSUER_NAME=Blipee OS

# ====================
# EMAIL CONFIGURATION (Required for user invitations)
# ====================

# SMTP Settings (Gmail recommended for production)
# Generate app password: https://myaccount.google.com/apppasswords
# IMPORTANT: Use an App Password, not your Google account password
SMTP_SERVER=smtp.gmail.com
SMTP_PORT=587
SMTP_USER=your-email@blipee.com
SMTP_PASSWORD=your-app-password-here

# Alternative: Use Resend for transactional emails
RESEND_API_KEY=
EMAIL_FROM=noreply@yourdomain.com

# ====================
# OPTIONAL SERVICES
# ====================

# Analytics
NEXT_PUBLIC_VERCEL_ANALYTICS_ID=

# Error Tracking
SENTRY_DSN=

# ====================
# FEATURE FLAGS
# ====================

NEXT_PUBLIC_ENABLE_VOICE_INPUT=true
NEXT_PUBLIC_ENABLE_3D_VIEWS=true
NEXT_PUBLIC_ENABLE_MOCK_DATA=true
NEXT_PUBLIC_ENABLE_DOCUMENT_PARSING=true
NEXT_PUBLIC_ENABLE_REAL_TIME_DATA=true

# ====================
# LOGGING & MONITORING
# ====================

# Log level: debug, info, warn, error
LOG_LEVEL=info

# Pretty print logs (useful in development)
LOG_PRETTY=false

# Service name for log identification
LOG_SERVICE_NAME=blipee-os

# Sensitive paths to redact (comma-separated)
LOG_REDACT_PATHS=password,token,apiKey,secret,authorization,cookie

# HTTP Request/Response Logging
LOG_HTTP_ENABLED=true
LOG_HTTP_EXCLUDE_PATHS=/_next,/favicon.ico,/health
LOG_HTTP_SANITIZE_HEADERS=authorization,cookie,x-api-key

# Database Query Logging
LOG_DATABASE_ENABLED=true
LOG_DATABASE_SLOW_THRESHOLD=3000
LOG_DATABASE_ALL=false

# AI Operations Logging
LOG_AI_ENABLED=true
LOG_AI_TOKENS=true
LOG_AI_COSTS=true
LOG_AI_CACHE=false

# Performance Monitoring
LOG_PERFORMANCE_ENABLED=true
LOG_PERFORMANCE_MEMORY_INTERVAL=300000
LOG_PERFORMANCE_STATS_INTERVAL=600000

# External Logging Services (Optional)
DATADOG_API_KEY=
ELASTICSEARCH_URL=
LOKI_URL=

# ====================
# DISTRIBUTED TRACING (OpenTelemetry)
# ====================

# Enable/disable tracing
OTEL_ENABLED=true

# Service identification
OTEL_SERVICE_NAME=blipee-os
OTEL_SERVICE_VERSION=1.0.0

# Exporter configuration
OTEL_EXPORTER_OTLP_ENDPOINT=http://localhost:4318
OTEL_EXPORTER_OTLP_TRACES_ENDPOINT=http://localhost:4318/v1/traces
OTEL_EXPORTER_OTLP_METRICS_ENDPOINT=http://localhost:4318/v1/metrics

# Optional: Authentication headers (JSON format)
# OTEL_EXPORTER_OTLP_HEADERS='{"Authorization":"Bearer YOUR_TOKEN"}'

# Sampling rate (0.0 to 1.0)
OTEL_SAMPLING_RATE=1.0

# ====================
# ENVIRONMENT
# ====================

# Environment: development, test, production
# Usually set automatically by the platform
NODE_ENV=development