
> blipee-os@1.0.0 test:coverage
> NODE_OPTIONS='--experimental-vm-modules' jest --config jest.config.mjs --coverage

  console.log
    [dotenv@17.0.1] injecting env (31) from .env.test ‚Äì [tip] encrypt with dotenvx: https://dotenvx.com

      at _log (node_modules/dotenv/lib/main.js:102:11)

(node:257290) ExperimentalWarning: VM Modules is an experimental feature and might change at any time
(Use `node --trace-warnings ...` to show where the warning was created)
FAIL src/components/dynamic/__tests__/ChartComponent.test.tsx
  ChartComponent
    ‚úï should render line chart (86 ms)
    ‚úï should render bar chart (12 ms)
    ‚úï should render pie chart (11 ms)
    ‚úï should render area chart (14 ms)
    ‚úï should handle multiple series (10 ms)
    ‚úï should handle empty data gracefully (13 ms)
    ‚úï should apply custom styling (13 ms)
    ‚úï should render with custom dimensions (10 ms)
    ‚úï should format values correctly (12 ms)

  ‚óè ChartComponent ‚Ä∫ should render line chart

    TestingLibraryElementError: Unable to find an element with the text: Energy Usage Over Time. This could be because the text is broken up by multiple elements. In this case, you can provide a function for your text matcher to make your matcher more flexible.

    Ignored nodes: comments, script, style
    [36m<body>[39m
      [36m<div>[39m
        [36m<div[39m
          [33mclass[39m=[32m"glass-card glass-card-default light-mode:bg-white/70 light-mode:border-gray-200"[39m
          [33mstyle[39m=[32m"background: rgba(255, 255, 255, 0.02); border: 1px solid rgba(255, 255, 255, 0.05); border-radius: 1rem; padding: 1.5rem; box-shadow: 0 4px 16px rgba(0, 0, 0, 0.15);"[39m
        [36m>[39m
          [36m<div[39m
            [33mclass[39m=[32m"w-full h-64"[39m
          [36m>[39m
            [36m<div[39m
              [33mclass[39m=[32m"recharts-responsive-container"[39m
              [33mstyle[39m=[32m"width: 100%; height: 100%; min-width: 0;"[39m
            [36m>[39m
              [36m<div[39m
                [33mclass[39m=[32m"recharts-wrapper"[39m
                [33mstyle[39m=[32m"position: relative; cursor: default; width: 100%; height: 100%; max-height: 100px; max-width: 100px;"[39m
              [36m>[39m
                [36m<svg[39m
                  [33mclass[39m=[32m"recharts-surface"[39m
                  [33mheight[39m=[32m"100"[39m
                  [33mstyle[39m=[32m"width: 100%; height: 100%;"[39m
                  [33mviewBox[39m=[32m"0 0 100 100"[39m
                  [33mwidth[39m=[32m"100"[39m
                [36m>[39m
                  [36m<title />[39m
                  [36m<desc />[39m
                  [36m<defs>[39m
                    [36m<clippath[39m
                      [33mid[39m=[32m"recharts1-clip"[39m
                    [36m>[39m
                      [36m<rect[39m
                        [33mheight[39m=[32m"60"[39m
                        [33mwidth[39m=[32m"30"[39m
                        [33mx[39m=[32m"65"[39m
                        [33my[39m=[32m"5"[39m
                      [36m/>[39m
                    [36m</clippath>[39m
                  [36m</defs>[39m
                  [36m<g[39m
                    [33mclass[39m=[32m"recharts-cartesian-grid"[39m
                  [36m>[39m
                    [36m<g[39m
                      [33mclass[39m=[32m"recharts-cartesian-grid-horizontal"[39m
                    [36m>[39m
                      [36m<line[39m
                        [33mfill[39m=[32m"none"[39m
                        [33mheight[39m=[32m"60"[39m
                        [33mstroke[39m=[32m"#1e293b"[39m
                        [33mstroke-dasharray[39m=[32m"3 3"[39m
                        [33mwidth[39m=[32m"30"[39m
                        [33mx[39m=[32m"65"[39m
                        [33mx1[39m=[32m"65"[39m
                        [33mx2[39m=[32m"95"[39m
                        [33my[39m=[32m"5"[39m
                        [33my1[39m=[32m"5"[39m
                        [33my2[39m=[32m"5"[39m
                      [36m/>[39m
                      [36m<line[39m
                        [33mfill[39m=[32m"none"[39m
                        [33mheight[39m=[32m"60"[39m
                        [33mstroke[39m=[32m"#1e293b"[39m
                        [33mstroke-dasharray[39m=[32m"3 3"[39m
                        [33mwidth[39m=[32m"30"[39m
                        [33mx[39m=[32m"65"[39m
                        [33mx1[39m=[32m"65"[39m
                        [33mx2[39m=[32m"95"[39m
                        [33my[39m=[32m"5"[39m
                        [33my1[39m=[32m"65"[39m
                        [33my2[39m=[32m"65"[39m
                      [36m/>[39m
                    [36m</g>[39m
                    [36m<g[39m
                      [33mclass[39m=[32m"recharts-cartesian-grid-vertical"[39m
                    [36m>[39m
                      [36m<line[39m
                        [33mfill[39m=[32m"none"[39m
                        [33mheight[39m=[32m"60"[39m
                        [33mstroke[39m=[32m"#1e293b"[39m
                        [33mstroke-dasharray[39m=[32m"3 3"[39m
                        [33mwidth[39m=[32m"30"[39m
                        [33mx[39m=[32m"65"[39m
                        [33mx1[39m=[32m"65"[39m
                        [33mx2[39m=[32m"65"[39m
                        [33my[39m=[32m"5"[39m
                        [33my1[39m=[32m"5"[39m
                        [33my2[39m=[32m"65"[39m
                      [36m/>[39m
                      [36m<line[39m
                        [33mfill[39m=[32m"none"[39m
                        [33mheight[39m=[32m"60"[39m
                        [33mstroke[39m=[32m"#1e293b"[39m
                        [33mstroke-dasharray[39m=[32m"3 3"[39m
                        [33mwidth[39m=[32m"30"[39m
                        [33mx[39m=[32m"65"[39m
                        [33mx1[39m=[32m"95"[39m
                        [33mx2[39m=[32m"95"[39m
                        [33my[39m=[32m"5"[39m
                        [33my1[39m=[32m"5"[39m
                        [33my2[39m=[32m"65"[39m
                      [36m/>[39m
                    [36m</g>[39m
                  [36m</g>[39m
                [36m</svg>[39m
                [36m<div[39m
                  [33mclass[39m=[32m"recharts-tooltip-wrapper"[39m
                  [33mstyle[39m=[32m"visibility: hidden; pointer-events: none; position: absolute; top: 0px; left: 0px;"[39m
                  [33mtabindex[39m=[32m"-1"[39m
                [36m>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"recharts-default-tooltip"[39m
                    [33mstyle[39m=[32m"margin: 0px; padding: 10px; background-color: rgb(30, 41, 59); white-space: nowrap; border-radius: 8px; box-shadow: none;"[39m
                  [36m>[39m
                    [36m<p[39m
                      [33mclass[39m=[32m"recharts-tooltip-label"[39m
                      [33mstyle[39m=[32m"margin: 0px; color: rgb(241, 245, 249);"[39m
                    [36m/>[39m
                  [36m</div>[39m
                [36m</div>[39m
              [36m</div>[39m
            [36m</div>[39m
          [36m</div>[39m
        [36m</div>[39m
      [36m</div>[39m
    [36m</body>[39m

    [0m [90m 80 |[39m     render([33m<[39m[33mChartComponent[39m {[33m...[39mmockLineData} [33m/[39m[33m>[39m)[33m;[39m
     [90m 81 |[39m     
    [31m[1m>[22m[39m[90m 82 |[39m     expect(screen[33m.[39mgetByText([32m'Energy Usage Over Time'[39m))[33m.[39mtoBeInTheDocument()[33m;[39m
     [90m    |[39m                   [31m[1m^[22m[39m
     [90m 83 |[39m     expect(screen[33m.[39mgetByTestId([32m'line-chart'[39m))[33m.[39mtoBeInTheDocument()[33m;[39m
     [90m 84 |[39m     expect(screen[33m.[39mgetByTestId([32m'line'[39m))[33m.[39mtoBeInTheDocument()[33m;[39m
     [90m 85 |[39m   })[33m;[39m[0m

      at Object.getElementError (node_modules/@testing-library/dom/dist/config.js:37:19)
      at node_modules/@testing-library/dom/dist/query-helpers.js:76:38
      at node_modules/@testing-library/dom/dist/query-helpers.js:52:17
      at node_modules/@testing-library/dom/dist/query-helpers.js:95:19
      at Object.getByText (src/components/dynamic/__tests__/ChartComponent.test.tsx:82:19)

  ‚óè ChartComponent ‚Ä∫ should render bar chart

    TestingLibraryElementError: Unable to find an element with the text: Monthly Energy Consumption. This could be because the text is broken up by multiple elements. In this case, you can provide a function for your text matcher to make your matcher more flexible.

    Ignored nodes: comments, script, style
    [36m<body>[39m
      [36m<div>[39m
        [36m<div[39m
          [33mclass[39m=[32m"glass-card glass-card-default light-mode:bg-white/70 light-mode:border-gray-200"[39m
          [33mstyle[39m=[32m"background: rgba(255, 255, 255, 0.02); border: 1px solid rgba(255, 255, 255, 0.05); border-radius: 1rem; padding: 1.5rem; box-shadow: 0 4px 16px rgba(0, 0, 0, 0.15);"[39m
        [36m>[39m
          [36m<div[39m
            [33mclass[39m=[32m"w-full h-64"[39m
          [36m>[39m
            [36m<div[39m
              [33mclass[39m=[32m"recharts-responsive-container"[39m
              [33mstyle[39m=[32m"width: 100%; height: 100%; min-width: 0;"[39m
            [36m>[39m
              [36m<div[39m
                [33mclass[39m=[32m"recharts-wrapper"[39m
                [33mstyle[39m=[32m"position: relative; cursor: default; width: 100%; height: 100%; max-height: 100px; max-width: 100px;"[39m
              [36m>[39m
                [36m<svg[39m
                  [33mclass[39m=[32m"recharts-surface"[39m
                  [33mheight[39m=[32m"100"[39m
                  [33mstyle[39m=[32m"width: 100%; height: 100%;"[39m
                  [33mviewBox[39m=[32m"0 0 100 100"[39m
                  [33mwidth[39m=[32m"100"[39m
                [36m>[39m
                  [36m<title />[39m
                  [36m<desc />[39m
                  [36m<defs>[39m
                    [36m<clippath[39m
                      [33mid[39m=[32m"recharts4-clip"[39m
                    [36m>[39m
                      [36m<rect[39m
                        [33mheight[39m=[32m"60"[39m
                        [33mwidth[39m=[32m"30"[39m
                        [33mx[39m=[32m"65"[39m
                        [33my[39m=[32m"5"[39m
                      [36m/>[39m
                    [36m</clippath>[39m
                  [36m</defs>[39m
                  [36m<g[39m
                    [33mclass[39m=[32m"recharts-cartesian-grid"[39m
                  [36m>[39m
                    [36m<g[39m
                      [33mclass[39m=[32m"recharts-cartesian-grid-horizontal"[39m
                    [36m>[39m
                      [36m<line[39m
                        [33mfill[39m=[32m"none"[39m
                        [33mheight[39m=[32m"60"[39m
                        [33mstroke[39m=[32m"#1e293b"[39m
                        [33mstroke-dasharray[39m=[32m"3 3"[39m
                        [33mwidth[39m=[32m"30"[39m
                        [33mx[39m=[32m"65"[39m
                        [33mx1[39m=[32m"65"[39m
                        [33mx2[39m=[32m"95"[39m
                        [33my[39m=[32m"5"[39m
                        [33my1[39m=[32m"5"[39m
                        [33my2[39m=[32m"5"[39m
                      [36m/>[39m
                      [36m<line[39m
                        [33mfill[39m=[32m"none"[39m
                        [33mheight[39m=[32m"60"[39m
                        [33mstroke[39m=[32m"#1e293b"[39m
                        [33mstroke-dasharray[39m=[32m"3 3"[39m
                        [33mwidth[39m=[32m"30"[39m
                        [33mx[39m=[32m"65"[39m
                        [33mx1[39m=[32m"65"[39m
                        [33mx2[39m=[32m"95"[39m
                        [33my[39m=[32m"5"[39m
                        [33my1[39m=[32m"65"[39m
                        [33my2[39m=[32m"65"[39m
                      [36m/>[39m
                    [36m</g>[39m
                    [36m<g[39m
                      [33mclass[39m=[32m"recharts-cartesian-grid-vertical"[39m
                    [36m>[39m
                      [36m<line[39m
                        [33mfill[39m=[32m"none"[39m
                        [33mheight[39m=[32m"60"[39m
                        [33mstroke[39m=[32m"#1e293b"[39m
                        [33mstroke-dasharray[39m=[32m"3 3"[39m
                        [33mwidth[39m=[32m"30"[39m
                        [33mx[39m=[32m"65"[39m
                        [33mx1[39m=[32m"65"[39m
                        [33mx2[39m=[32m"65"[39m
                        [33my[39m=[32m"5"[39m
                        [33my1[39m=[32m"5"[39m
                        [33my2[39m=[32m"65"[39m
                      [36m/>[39m
                      [36m<line[39m
                        [33mfill[39m=[32m"none"[39m
                        [33mheight[39m=[32m"60"[39m
                        [33mstroke[39m=[32m"#1e293b"[39m
                        [33mstroke-dasharray[39m=[32m"3 3"[39m
                        [33mwidth[39m=[32m"30"[39m
                        [33mx[39m=[32m"65"[39m
                        [33mx1[39m=[32m"95"[39m
                        [33mx2[39m=[32m"95"[39m
                        [33my[39m=[32m"5"[39m
                        [33my1[39m=[32m"5"[39m
                        [33my2[39m=[32m"65"[39m
                      [36m/>[39m
                    [36m</g>[39m
                  [36m</g>[39m
                [36m</svg>[39m
                [36m<div[39m
                  [33mclass[39m=[32m"recharts-tooltip-wrapper"[39m
                  [33mstyle[39m=[32m"visibility: hidden; pointer-events: none; position: absolute; top: 0px; left: 0px;"[39m
                  [33mtabindex[39m=[32m"-1"[39m
                [36m>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"recharts-default-tooltip"[39m
                    [33mstyle[39m=[32m"margin: 0px; padding: 10px; background-color: rgb(30, 41, 59); white-space: nowrap; border-radius: 8px; box-shadow: none;"[39m
                  [36m>[39m
                    [36m<p[39m
                      [33mclass[39m=[32m"recharts-tooltip-label"[39m
                      [33mstyle[39m=[32m"margin: 0px; color: rgb(241, 245, 249);"[39m
                    [36m/>[39m
                  [36m</div>[39m
                [36m</div>[39m
              [36m</div>[39m
            [36m</div>[39m
          [36m</div>[39m
        [36m</div>[39m
      [36m</div>[39m
    [36m</body>[39m

    [0m [90m 88 |[39m     render([33m<[39m[33mChartComponent[39m {[33m...[39mmockBarData} [33m/[39m[33m>[39m)[33m;[39m
     [90m 89 |[39m     
    [31m[1m>[22m[39m[90m 90 |[39m     expect(screen[33m.[39mgetByText([32m'Monthly Energy Consumption'[39m))[33m.[39mtoBeInTheDocument()[33m;[39m
     [90m    |[39m                   [31m[1m^[22m[39m
     [90m 91 |[39m     expect(screen[33m.[39mgetByTestId([32m'bar-chart'[39m))[33m.[39mtoBeInTheDocument()[33m;[39m
     [90m 92 |[39m     expect(screen[33m.[39mgetByTestId([32m'bar'[39m))[33m.[39mtoBeInTheDocument()[33m;[39m
     [90m 93 |[39m   })[33m;[39m[0m

      at Object.getElementError (node_modules/@testing-library/dom/dist/config.js:37:19)
      at node_modules/@testing-library/dom/dist/query-helpers.js:76:38
      at node_modules/@testing-library/dom/dist/query-helpers.js:52:17
      at node_modules/@testing-library/dom/dist/query-helpers.js:95:19
      at Object.getByText (src/components/dynamic/__tests__/ChartComponent.test.tsx:90:19)

  ‚óè ChartComponent ‚Ä∫ should render pie chart

    TestingLibraryElementError: Unable to find an element with the text: Energy Distribution. This could be because the text is broken up by multiple elements. In this case, you can provide a function for your text matcher to make your matcher more flexible.

    Ignored nodes: comments, script, style
    [36m<body>[39m
      [36m<div>[39m
        [36m<div[39m
          [33mclass[39m=[32m"glass-card glass-card-default light-mode:bg-white/70 light-mode:border-gray-200"[39m
          [33mstyle[39m=[32m"background: rgba(255, 255, 255, 0.02); border: 1px solid rgba(255, 255, 255, 0.05); border-radius: 1rem; padding: 1.5rem; box-shadow: 0 4px 16px rgba(0, 0, 0, 0.15);"[39m
        [36m>[39m
          [36m<div[39m
            [33mclass[39m=[32m"w-full h-64"[39m
          [36m>[39m
            [36m<div[39m
              [33mclass[39m=[32m"recharts-responsive-container"[39m
              [33mstyle[39m=[32m"width: 100%; height: 100%; min-width: 0;"[39m
            [36m>[39m
              [36m<div[39m
                [33mclass[39m=[32m"recharts-wrapper"[39m
                [33mstyle[39m=[32m"position: relative; cursor: default; width: 100%; height: 100%; max-height: 100px; max-width: 100px;"[39m
              [36m>[39m
                [36m<svg[39m
                  [33mclass[39m=[32m"recharts-surface"[39m
                  [33mheight[39m=[32m"100"[39m
                  [33mstyle[39m=[32m"width: 100%; height: 100%;"[39m
                  [33mviewBox[39m=[32m"0 0 100 100"[39m
                  [33mwidth[39m=[32m"100"[39m
                [36m>[39m
                  [36m<title />[39m
                  [36m<desc />[39m
                  [36m<defs>[39m
                    [36m<clippath[39m
                      [33mid[39m=[32m"recharts7-clip"[39m
                    [36m>[39m
                      [36m<rect[39m
                        [33mheight[39m=[32m"60"[39m
                        [33mwidth[39m=[32m"30"[39m
                        [33mx[39m=[32m"65"[39m
                        [33my[39m=[32m"5"[39m
                      [36m/>[39m
                    [36m</clippath>[39m
                  [36m</defs>[39m
                  [36m<g[39m
                    [33mclass[39m=[32m"recharts-cartesian-grid"[39m
                  [36m>[39m
                    [36m<g[39m
                      [33mclass[39m=[32m"recharts-cartesian-grid-horizontal"[39m
                    [36m>[39m
                      [36m<line[39m
                        [33mfill[39m=[32m"none"[39m
                        [33mheight[39m=[32m"60"[39m
                        [33mstroke[39m=[32m"#1e293b"[39m
                        [33mstroke-dasharray[39m=[32m"3 3"[39m
                        [33mwidth[39m=[32m"30"[39m
                        [33mx[39m=[32m"65"[39m
                        [33mx1[39m=[32m"65"[39m
                        [33mx2[39m=[32m"95"[39m
                        [33my[39m=[32m"5"[39m
                        [33my1[39m=[32m"5"[39m
                        [33my2[39m=[32m"5"[39m
                      [36m/>[39m
                      [36m<line[39m
                        [33mfill[39m=[32m"none"[39m
                        [33mheight[39m=[32m"60"[39m
                        [33mstroke[39m=[32m"#1e293b"[39m
                        [33mstroke-dasharray[39m=[32m"3 3"[39m
                        [33mwidth[39m=[32m"30"[39m
                        [33mx[39m=[32m"65"[39m
                        [33mx1[39m=[32m"65"[39m
                        [33mx2[39m=[32m"95"[39m
                        [33my[39m=[32m"5"[39m
                        [33my1[39m=[32m"65"[39m
                        [33my2[39m=[32m"65"[39m
                      [36m/>[39m
                    [36m</g>[39m
                    [36m<g[39m
                      [33mclass[39m=[32m"recharts-cartesian-grid-vertical"[39m
                    [36m>[39m
                      [36m<line[39m
                        [33mfill[39m=[32m"none"[39m
                        [33mheight[39m=[32m"60"[39m
                        [33mstroke[39m=[32m"#1e293b"[39m
                        [33mstroke-dasharray[39m=[32m"3 3"[39m
                        [33mwidth[39m=[32m"30"[39m
                        [33mx[39m=[32m"65"[39m
                        [33mx1[39m=[32m"65"[39m
                        [33mx2[39m=[32m"65"[39m
                        [33my[39m=[32m"5"[39m
                        [33my1[39m=[32m"5"[39m
                        [33my2[39m=[32m"65"[39m
                      [36m/>[39m
                      [36m<line[39m
                        [33mfill[39m=[32m"none"[39m
                        [33mheight[39m=[32m"60"[39m
                        [33mstroke[39m=[32m"#1e293b"[39m
                        [33mstroke-dasharray[39m=[32m"3 3"[39m
                        [33mwidth[39m=[32m"30"[39m
                        [33mx[39m=[32m"65"[39m
                        [33mx1[39m=[32m"95"[39m
                        [33mx2[39m=[32m"95"[39m
                        [33my[39m=[32m"5"[39m
                        [33my1[39m=[32m"5"[39m
                        [33my2[39m=[32m"65"[39m
                      [36m/>[39m
                    [36m</g>[39m
                  [36m</g>[39m
                [36m</svg>[39m
                [36m<div[39m
                  [33mclass[39m=[32m"recharts-tooltip-wrapper"[39m
                  [33mstyle[39m=[32m"visibility: hidden; pointer-events: none; position: absolute; top: 0px; left: 0px;"[39m
                  [33mtabindex[39m=[32m"-1"[39m
                [36m>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"recharts-default-tooltip"[39m
                    [33mstyle[39m=[32m"margin: 0px; padding: 10px; background-color: rgb(30, 41, 59); white-space: nowrap; border-radius: 8px; box-shadow: none;"[39m
                  [36m>[39m
                    [36m<p[39m
                      [33mclass[39m=[32m"recharts-tooltip-label"[39m
                      [33mstyle[39m=[32m"margin: 0px; color: rgb(241, 245, 249);"[39m
                    [36m/>[39m
                  [36m</div>[39m
                [36m</div>[39m
              [36m</div>[39m
            [36m</div>[39m
          [36m</div>[39m
        [36m</div>[39m
      [36m</div>[39m
    [36m</body>[39m

    [0m [90m  96 |[39m     render([33m<[39m[33mChartComponent[39m {[33m...[39mmockPieData} [33m/[39m[33m>[39m)[33m;[39m
     [90m  97 |[39m     
    [31m[1m>[22m[39m[90m  98 |[39m     expect(screen[33m.[39mgetByText([32m'Energy Distribution'[39m))[33m.[39mtoBeInTheDocument()[33m;[39m
     [90m     |[39m                   [31m[1m^[22m[39m
     [90m  99 |[39m     expect(screen[33m.[39mgetByTestId([32m'pie-chart'[39m))[33m.[39mtoBeInTheDocument()[33m;[39m
     [90m 100 |[39m     expect(screen[33m.[39mgetByTestId([32m'pie'[39m))[33m.[39mtoBeInTheDocument()[33m;[39m
     [90m 101 |[39m   })[33m;[39m[0m

      at Object.getElementError (node_modules/@testing-library/dom/dist/config.js:37:19)
      at node_modules/@testing-library/dom/dist/query-helpers.js:76:38
      at node_modules/@testing-library/dom/dist/query-helpers.js:52:17
      at node_modules/@testing-library/dom/dist/query-helpers.js:95:19
      at Object.getByText (src/components/dynamic/__tests__/ChartComponent.test.tsx:98:19)

  ‚óè ChartComponent ‚Ä∫ should render area chart

    TestingLibraryElementError: Unable to find an element by: [data-testid="area-chart"]

    Ignored nodes: comments, script, style
    [36m<body>[39m
      [36m<div>[39m
        [36m<div[39m
          [33mclass[39m=[32m"glass-card glass-card-default light-mode:bg-white/70 light-mode:border-gray-200"[39m
          [33mstyle[39m=[32m"background: rgba(255, 255, 255, 0.02); border: 1px solid rgba(255, 255, 255, 0.05); border-radius: 1rem; padding: 1.5rem; box-shadow: 0 4px 16px rgba(0, 0, 0, 0.15);"[39m
        [36m>[39m
          [36m<div[39m
            [33mclass[39m=[32m"w-full h-64"[39m
          [36m>[39m
            [36m<div[39m
              [33mclass[39m=[32m"recharts-responsive-container"[39m
              [33mstyle[39m=[32m"width: 100%; height: 100%; min-width: 0;"[39m
            [36m>[39m
              [36m<div[39m
                [33mclass[39m=[32m"recharts-wrapper"[39m
                [33mstyle[39m=[32m"position: relative; cursor: default; width: 100%; height: 100%; max-height: 100px; max-width: 100px;"[39m
              [36m>[39m
                [36m<svg[39m
                  [33mclass[39m=[32m"recharts-surface"[39m
                  [33mheight[39m=[32m"100"[39m
                  [33mstyle[39m=[32m"width: 100%; height: 100%;"[39m
                  [33mviewBox[39m=[32m"0 0 100 100"[39m
                  [33mwidth[39m=[32m"100"[39m
                [36m>[39m
                  [36m<title />[39m
                  [36m<desc />[39m
                  [36m<defs>[39m
                    [36m<clippath[39m
                      [33mid[39m=[32m"recharts10-clip"[39m
                    [36m>[39m
                      [36m<rect[39m
                        [33mheight[39m=[32m"60"[39m
                        [33mwidth[39m=[32m"30"[39m
                        [33mx[39m=[32m"65"[39m
                        [33my[39m=[32m"5"[39m
                      [36m/>[39m
                    [36m</clippath>[39m
                  [36m</defs>[39m
                  [36m<g[39m
                    [33mclass[39m=[32m"recharts-cartesian-grid"[39m
                  [36m>[39m
                    [36m<g[39m
                      [33mclass[39m=[32m"recharts-cartesian-grid-horizontal"[39m
                    [36m>[39m
                      [36m<line[39m
                        [33mfill[39m=[32m"none"[39m
                        [33mheight[39m=[32m"60"[39m
                        [33mstroke[39m=[32m"#1e293b"[39m
                        [33mstroke-dasharray[39m=[32m"3 3"[39m
                        [33mwidth[39m=[32m"30"[39m
                        [33mx[39m=[32m"65"[39m
                        [33mx1[39m=[32m"65"[39m
                        [33mx2[39m=[32m"95"[39m
                        [33my[39m=[32m"5"[39m
                        [33my1[39m=[32m"5"[39m
                        [33my2[39m=[32m"5"[39m
                      [36m/>[39m
                      [36m<line[39m
                        [33mfill[39m=[32m"none"[39m
                        [33mheight[39m=[32m"60"[39m
                        [33mstroke[39m=[32m"#1e293b"[39m
                        [33mstroke-dasharray[39m=[32m"3 3"[39m
                        [33mwidth[39m=[32m"30"[39m
                        [33mx[39m=[32m"65"[39m
                        [33mx1[39m=[32m"65"[39m
                        [33mx2[39m=[32m"95"[39m
                        [33my[39m=[32m"5"[39m
                        [33my1[39m=[32m"65"[39m
                        [33my2[39m=[32m"65"[39m
                      [36m/>[39m
                    [36m</g>[39m
                    [36m<g[39m
                      [33mclass[39m=[32m"recharts-cartesian-grid-vertical"[39m
                    [36m>[39m
                      [36m<line[39m
                        [33mfill[39m=[32m"none"[39m
                        [33mheight[39m=[32m"60"[39m
                        [33mstroke[39m=[32m"#1e293b"[39m
                        [33mstroke-dasharray[39m=[32m"3 3"[39m
                        [33mwidth[39m=[32m"30"[39m
                        [33mx[39m=[32m"65"[39m
                        [33mx1[39m=[32m"65"[39m
                        [33mx2[39m=[32m"65"[39m
                        [33my[39m=[32m"5"[39m
                        [33my1[39m=[32m"5"[39m
                        [33my2[39m=[32m"65"[39m
                      [36m/>[39m
                      [36m<line[39m
                        [33mfill[39m=[32m"none"[39m
                        [33mheight[39m=[32m"60"[39m
                        [33mstroke[39m=[32m"#1e293b"[39m
                        [33mstroke-dasharray[39m=[32m"3 3"[39m
                        [33mwidth[39m=[32m"30"[39m
                        [33mx[39m=[32m"65"[39m
                        [33mx1[39m=[32m"95"[39m
                        [33mx2[39m=[32m"95"[39m
                        [33my[39m=[32m"5"[39m
                        [33my1[39m=[32m"5"[39m
                        [33my2[39m=[32m"65"[39m
                      [36m/>[39m
                    [36m</g>[39m
                  [36m</g>[39m
                [36m</svg>[39m
                [36m<div[39m
                  [33mclass[39m=[32m"recharts-tooltip-wrapper"[39m
                  [33mstyle[39m=[32m"visibility: hidden; pointer-events: none; position: absolute; top: 0px; left: 0px;"[39m
                  [33mtabindex[39m=[32m"-1"[39m
                [36m>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"recharts-default-tooltip"[39m
                    [33mstyle[39m=[32m"margin: 0px; padding: 10px; background-color: rgb(30, 41, 59); white-space: nowrap; border-radius: 8px; box-shadow: none;"[39m
                  [36m>[39m
                    [36m<p[39m
                      [33mclass[39m=[32m"recharts-tooltip-label"[39m
                      [33mstyle[39m=[32m"margin: 0px; color: rgb(241, 245, 249);"[39m
                    [36m/>[39m
                  [36m</div>[39m
                [36m</div>[39m
              [36m</div>[39m
            [36m</div>[39m
          [36m</div>[39m
        [36m</div>[39m
      [36m</div>[39m
    [36m</body>[39m

    [0m [90m 109 |[39m     render([33m<[39m[33mChartComponent[39m {[33m...[39mareaData} [33m/[39m[33m>[39m)[33m;[39m
     [90m 110 |[39m     
    [31m[1m>[22m[39m[90m 111 |[39m     expect(screen[33m.[39mgetByTestId([32m'area-chart'[39m))[33m.[39mtoBeInTheDocument()[33m;[39m
     [90m     |[39m                   [31m[1m^[22m[39m
     [90m 112 |[39m     expect(screen[33m.[39mgetByTestId([32m'area'[39m))[33m.[39mtoBeInTheDocument()[33m;[39m
     [90m 113 |[39m   })[33m;[39m
     [90m 114 |[39m[0m

      at Object.getElementError (node_modules/@testing-library/dom/dist/config.js:37:19)
      at node_modules/@testing-library/dom/dist/query-helpers.js:76:38
      at node_modules/@testing-library/dom/dist/query-helpers.js:52:17
      at node_modules/@testing-library/dom/dist/query-helpers.js:95:19
      at Object.getByTestId (src/components/dynamic/__tests__/ChartComponent.test.tsx:111:19)

  ‚óè ChartComponent ‚Ä∫ should handle multiple series

    TestingLibraryElementError: Unable to find an element with the text: Multi-Series Chart. This could be because the text is broken up by multiple elements. In this case, you can provide a function for your text matcher to make your matcher more flexible.

    Ignored nodes: comments, script, style
    [36m<body>[39m
      [36m<div>[39m
        [36m<div[39m
          [33mclass[39m=[32m"glass-card glass-card-default light-mode:bg-white/70 light-mode:border-gray-200"[39m
          [33mstyle[39m=[32m"background: rgba(255, 255, 255, 0.02); border: 1px solid rgba(255, 255, 255, 0.05); border-radius: 1rem; padding: 1.5rem; box-shadow: 0 4px 16px rgba(0, 0, 0, 0.15);"[39m
        [36m>[39m
          [36m<div[39m
            [33mclass[39m=[32m"w-full h-64"[39m
          [36m>[39m
            [36m<div[39m
              [33mclass[39m=[32m"recharts-responsive-container"[39m
              [33mstyle[39m=[32m"width: 100%; height: 100%; min-width: 0;"[39m
            [36m>[39m
              [36m<div[39m
                [33mclass[39m=[32m"recharts-wrapper"[39m
                [33mstyle[39m=[32m"position: relative; cursor: default; width: 100%; height: 100%; max-height: 100px; max-width: 100px;"[39m
              [36m>[39m
                [36m<svg[39m
                  [33mclass[39m=[32m"recharts-surface"[39m
                  [33mheight[39m=[32m"100"[39m
                  [33mstyle[39m=[32m"width: 100%; height: 100%;"[39m
                  [33mviewBox[39m=[32m"0 0 100 100"[39m
                  [33mwidth[39m=[32m"100"[39m
                [36m>[39m
                  [36m<title />[39m
                  [36m<desc />[39m
                  [36m<defs>[39m
                    [36m<clippath[39m
                      [33mid[39m=[32m"recharts13-clip"[39m
                    [36m>[39m
                      [36m<rect[39m
                        [33mheight[39m=[32m"60"[39m
                        [33mwidth[39m=[32m"30"[39m
                        [33mx[39m=[32m"65"[39m
                        [33my[39m=[32m"5"[39m
                      [36m/>[39m
                    [36m</clippath>[39m
                  [36m</defs>[39m
                  [36m<g[39m
                    [33mclass[39m=[32m"recharts-cartesian-grid"[39m
                  [36m>[39m
                    [36m<g[39m
                      [33mclass[39m=[32m"recharts-cartesian-grid-horizontal"[39m
                    [36m>[39m
                      [36m<line[39m
                        [33mfill[39m=[32m"none"[39m
                        [33mheight[39m=[32m"60"[39m
                        [33mstroke[39m=[32m"#1e293b"[39m
                        [33mstroke-dasharray[39m=[32m"3 3"[39m
                        [33mwidth[39m=[32m"30"[39m
                        [33mx[39m=[32m"65"[39m
                        [33mx1[39m=[32m"65"[39m
                        [33mx2[39m=[32m"95"[39m
                        [33my[39m=[32m"5"[39m
                        [33my1[39m=[32m"5"[39m
                        [33my2[39m=[32m"5"[39m
                      [36m/>[39m
                      [36m<line[39m
                        [33mfill[39m=[32m"none"[39m
                        [33mheight[39m=[32m"60"[39m
                        [33mstroke[39m=[32m"#1e293b"[39m
                        [33mstroke-dasharray[39m=[32m"3 3"[39m
                        [33mwidth[39m=[32m"30"[39m
                        [33mx[39m=[32m"65"[39m
                        [33mx1[39m=[32m"65"[39m
                        [33mx2[39m=[32m"95"[39m
                        [33my[39m=[32m"5"[39m
                        [33my1[39m=[32m"65"[39m
                        [33my2[39m=[32m"65"[39m
                      [36m/>[39m
                    [36m</g>[39m
                    [36m<g[39m
                      [33mclass[39m=[32m"recharts-cartesian-grid-vertical"[39m
                    [36m>[39m
                      [36m<line[39m
                        [33mfill[39m=[32m"none"[39m
                        [33mheight[39m=[32m"60"[39m
                        [33mstroke[39m=[32m"#1e293b"[39m
                        [33mstroke-dasharray[39m=[32m"3 3"[39m
                        [33mwidth[39m=[32m"30"[39m
                        [33mx[39m=[32m"65"[39m
                        [33mx1[39m=[32m"65"[39m
                        [33mx2[39m=[32m"65"[39m
                        [33my[39m=[32m"5"[39m
                        [33my1[39m=[32m"5"[39m
                        [33my2[39m=[32m"65"[39m
                      [36m/>[39m
                      [36m<line[39m
                        [33mfill[39m=[32m"none"[39m
                        [33mheight[39m=[32m"60"[39m
                        [33mstroke[39m=[32m"#1e293b"[39m
                        [33mstroke-dasharray[39m=[32m"3 3"[39m
                        [33mwidth[39m=[32m"30"[39m
                        [33mx[39m=[32m"65"[39m
                        [33mx1[39m=[32m"95"[39m
                        [33mx2[39m=[32m"95"[39m
                        [33my[39m=[32m"5"[39m
                        [33my1[39m=[32m"5"[39m
                        [33my2[39m=[32m"65"[39m
                      [36m/>[39m
                    [36m</g>[39m
                  [36m</g>[39m
                [36m</svg>[39m
                [36m<div[39m
                  [33mclass[39m=[32m"recharts-tooltip-wrapper"[39m
                  [33mstyle[39m=[32m"visibility: hidden; pointer-events: none; position: absolute; top: 0px; left: 0px;"[39m
                  [33mtabindex[39m=[32m"-1"[39m
                [36m>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"recharts-default-tooltip"[39m
                    [33mstyle[39m=[32m"margin: 0px; padding: 10px; background-color: rgb(30, 41, 59); white-space: nowrap; border-radius: 8px; box-shadow: none;"[39m
                  [36m>[39m
                    [36m<p[39m
                      [33mclass[39m=[32m"recharts-tooltip-label"[39m
                      [33mstyle[39m=[32m"margin: 0px; color: rgb(241, 245, 249);"[39m
                    [36m/>[39m
                  [36m</div>[39m
                [36m</div>[39m
              [36m</div>[39m
            [36m</div>[39m
          [36m</div>[39m
        [36m</div>[39m
      [36m</div>[39m
    [36m</body>[39m

    [0m [90m 139 |[39m     render([33m<[39m[33mChartComponent[39m {[33m...[39mmultiSeriesData} [33m/[39m[33m>[39m)[33m;[39m
     [90m 140 |[39m     
    [31m[1m>[22m[39m[90m 141 |[39m     expect(screen[33m.[39mgetByText([32m'Multi-Series Chart'[39m))[33m.[39mtoBeInTheDocument()[33m;[39m
     [90m     |[39m                   [31m[1m^[22m[39m
     [90m 142 |[39m     [90m// Should render multiple lines[39m
     [90m 143 |[39m     expect(screen[33m.[39mgetAllByTestId([32m'line'[39m))[33m.[39mtoHaveLength([35m2[39m)[33m;[39m
     [90m 144 |[39m   })[33m;[39m[0m

      at Object.getElementError (node_modules/@testing-library/dom/dist/config.js:37:19)
      at node_modules/@testing-library/dom/dist/query-helpers.js:76:38
      at node_modules/@testing-library/dom/dist/query-helpers.js:52:17
      at node_modules/@testing-library/dom/dist/query-helpers.js:95:19
      at Object.getByText (src/components/dynamic/__tests__/ChartComponent.test.tsx:141:19)

  ‚óè ChartComponent ‚Ä∫ should handle empty data gracefully

    TestingLibraryElementError: Unable to find an element with the text: Empty Chart. This could be because the text is broken up by multiple elements. In this case, you can provide a function for your text matcher to make your matcher more flexible.

    Ignored nodes: comments, script, style
    [36m<body>[39m
      [36m<div>[39m
        [36m<div[39m
          [33mclass[39m=[32m"glass-card glass-card-default light-mode:bg-white/70 light-mode:border-gray-200"[39m
          [33mstyle[39m=[32m"background: rgba(255, 255, 255, 0.02); border: 1px solid rgba(255, 255, 255, 0.05); border-radius: 1rem; padding: 1.5rem; box-shadow: 0 4px 16px rgba(0, 0, 0, 0.15);"[39m
        [36m>[39m
          [36m<div[39m
            [33mclass[39m=[32m"w-full h-64"[39m
          [36m>[39m
            [36m<div[39m
              [33mclass[39m=[32m"recharts-responsive-container"[39m
              [33mstyle[39m=[32m"width: 100%; height: 100%; min-width: 0;"[39m
            [36m>[39m
              [36m<div[39m
                [33mclass[39m=[32m"recharts-wrapper"[39m
                [33mstyle[39m=[32m"position: relative; cursor: default; width: 100%; height: 100%; max-height: 100px; max-width: 100px;"[39m
              [36m>[39m
                [36m<svg[39m
                  [33mclass[39m=[32m"recharts-surface"[39m
                  [33mheight[39m=[32m"100"[39m
                  [33mstyle[39m=[32m"width: 100%; height: 100%;"[39m
                  [33mviewBox[39m=[32m"0 0 100 100"[39m
                  [33mwidth[39m=[32m"100"[39m
                [36m>[39m
                  [36m<title />[39m
                  [36m<desc />[39m
                  [36m<defs>[39m
                    [36m<clippath[39m
                      [33mid[39m=[32m"recharts16-clip"[39m
                    [36m>[39m
                      [36m<rect[39m
                        [33mheight[39m=[32m"60"[39m
                        [33mwidth[39m=[32m"30"[39m
                        [33mx[39m=[32m"65"[39m
                        [33my[39m=[32m"5"[39m
                      [36m/>[39m
                    [36m</clippath>[39m
                  [36m</defs>[39m
                  [36m<g[39m
                    [33mclass[39m=[32m"recharts-cartesian-grid"[39m
                  [36m>[39m
                    [36m<g[39m
                      [33mclass[39m=[32m"recharts-cartesian-grid-horizontal"[39m
                    [36m>[39m
                      [36m<line[39m
                        [33mfill[39m=[32m"none"[39m
                        [33mheight[39m=[32m"60"[39m
                        [33mstroke[39m=[32m"#1e293b"[39m
                        [33mstroke-dasharray[39m=[32m"3 3"[39m
                        [33mwidth[39m=[32m"30"[39m
                        [33mx[39m=[32m"65"[39m
                        [33mx1[39m=[32m"65"[39m
                        [33mx2[39m=[32m"95"[39m
                        [33my[39m=[32m"5"[39m
                        [33my1[39m=[32m"5"[39m
                        [33my2[39m=[32m"5"[39m
                      [36m/>[39m
                      [36m<line[39m
                        [33mfill[39m=[32m"none"[39m
                        [33mheight[39m=[32m"60"[39m
                        [33mstroke[39m=[32m"#1e293b"[39m
                        [33mstroke-dasharray[39m=[32m"3 3"[39m
                        [33mwidth[39m=[32m"30"[39m
                        [33mx[39m=[32m"65"[39m
                        [33mx1[39m=[32m"65"[39m
                        [33mx2[39m=[32m"95"[39m
                        [33my[39m=[32m"5"[39m
                        [33my1[39m=[32m"65"[39m
                        [33my2[39m=[32m"65"[39m
                      [36m/>[39m
                    [36m</g>[39m
                    [36m<g[39m
                      [33mclass[39m=[32m"recharts-cartesian-grid-vertical"[39m
                    [36m>[39m
                      [36m<line[39m
                        [33mfill[39m=[32m"none"[39m
                        [33mheight[39m=[32m"60"[39m
                        [33mstroke[39m=[32m"#1e293b"[39m
                        [33mstroke-dasharray[39m=[32m"3 3"[39m
                        [33mwidth[39m=[32m"30"[39m
                        [33mx[39m=[32m"65"[39m
                        [33mx1[39m=[32m"65"[39m
                        [33mx2[39m=[32m"65"[39m
                        [33my[39m=[32m"5"[39m
                        [33my1[39m=[32m"5"[39m
                        [33my2[39m=[32m"65"[39m
                      [36m/>[39m
                      [36m<line[39m
                        [33mfill[39m=[32m"none"[39m
                        [33mheight[39m=[32m"60"[39m
                        [33mstroke[39m=[32m"#1e293b"[39m
                        [33mstroke-dasharray[39m=[32m"3 3"[39m
                        [33mwidth[39m=[32m"30"[39m
                        [33mx[39m=[32m"65"[39m
                        [33mx1[39m=[32m"95"[39m
                        [33mx2[39m=[32m"95"[39m
                        [33my[39m=[32m"5"[39m
                        [33my1[39m=[32m"5"[39m
                        [33my2[39m=[32m"65"[39m
                      [36m/>[39m
                    [36m</g>[39m
                  [36m</g>[39m
                [36m</svg>[39m
                [36m<div[39m
                  [33mclass[39m=[32m"recharts-tooltip-wrapper"[39m
                  [33mstyle[39m=[32m"visibility: hidden; pointer-events: none; position: absolute; top: 0px; left: 0px;"[39m
                  [33mtabindex[39m=[32m"-1"[39m
                [36m>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"recharts-default-tooltip"[39m
                    [33mstyle[39m=[32m"margin: 0px; padding: 10px; background-color: rgb(30, 41, 59); white-space: nowrap; border-radius: 8px; box-shadow: none;"[39m
                  [36m>[39m
                    [36m<p[39m
                      [33mclass[39m=[32m"recharts-tooltip-label"[39m
                      [33mstyle[39m=[32m"margin: 0px; color: rgb(241, 245, 249);"[39m
                    [36m/>[39m
                  [36m</div>[39m
                [36m</div>[39m
              [36m</div>[39m
            [36m</div>[39m
          [36m</div>[39m
        [36m</div>[39m
      [36m</div>[39m
    [36m</body>[39m

    [0m [90m 155 |[39m     render([33m<[39m[33mChartComponent[39m {[33m...[39memptyData} [33m/[39m[33m>[39m)[33m;[39m
     [90m 156 |[39m     
    [31m[1m>[22m[39m[90m 157 |[39m     expect(screen[33m.[39mgetByText([32m'Empty Chart'[39m))[33m.[39mtoBeInTheDocument()[33m;[39m
     [90m     |[39m                   [31m[1m^[22m[39m
     [90m 158 |[39m     expect(screen[33m.[39mgetByText([32m'No data available'[39m))[33m.[39mtoBeInTheDocument()[33m;[39m
     [90m 159 |[39m   })[33m;[39m
     [90m 160 |[39m[0m

      at Object.getElementError (node_modules/@testing-library/dom/dist/config.js:37:19)
      at node_modules/@testing-library/dom/dist/query-helpers.js:76:38
      at node_modules/@testing-library/dom/dist/query-helpers.js:52:17
      at node_modules/@testing-library/dom/dist/query-helpers.js:95:19
      at Object.getByText (src/components/dynamic/__tests__/ChartComponent.test.tsx:157:19)

  ‚óè ChartComponent ‚Ä∫ should apply custom styling

    expect(element).toHaveClass("backdrop-blur-xl")

    Expected the element to have class:
      backdrop-blur-xl
    Received:
      glass-card glass-card-default light-mode:bg-white/70 light-mode:border-gray-200

    [0m [90m 163 |[39m     
     [90m 164 |[39m     [36mconst[39m chartContainer [33m=[39m container[33m.[39mfirstChild[33m;[39m
    [31m[1m>[22m[39m[90m 165 |[39m     expect(chartContainer)[33m.[39mtoHaveClass([32m'backdrop-blur-xl'[39m)[33m;[39m
     [90m     |[39m                            [31m[1m^[22m[39m
     [90m 166 |[39m     expect(chartContainer)[33m.[39mtoHaveClass([32m'bg-white/[0.02]'[39m)[33m;[39m
     [90m 167 |[39m     expect(chartContainer)[33m.[39mtoHaveClass([32m'border-white/[0.05]'[39m)[33m;[39m
     [90m 168 |[39m   })[33m;[39m[0m

      at Object.toHaveClass (src/components/dynamic/__tests__/ChartComponent.test.tsx:165:28)

  ‚óè ChartComponent ‚Ä∫ should render with custom dimensions

    TestingLibraryElementError: Unable to find an element by: [data-testid="responsive-container"]

    Ignored nodes: comments, script, style
    [36m<body>[39m
      [36m<div>[39m
        [36m<div[39m
          [33mclass[39m=[32m"glass-card glass-card-default light-mode:bg-white/70 light-mode:border-gray-200"[39m
          [33mstyle[39m=[32m"background: rgba(255, 255, 255, 0.02); border: 1px solid rgba(255, 255, 255, 0.05); border-radius: 1rem; padding: 1.5rem; box-shadow: 0 4px 16px rgba(0, 0, 0, 0.15);"[39m
        [36m>[39m
          [36m<div[39m
            [33mclass[39m=[32m"w-full h-64"[39m
          [36m>[39m
            [36m<div[39m
              [33mclass[39m=[32m"recharts-responsive-container"[39m
              [33mstyle[39m=[32m"width: 100%; height: 100%; min-width: 0;"[39m
            [36m>[39m
              [36m<div[39m
                [33mclass[39m=[32m"recharts-wrapper"[39m
                [33mstyle[39m=[32m"position: relative; cursor: default; width: 100%; height: 100%; max-height: 100px; max-width: 100px;"[39m
              [36m>[39m
                [36m<svg[39m
                  [33mclass[39m=[32m"recharts-surface"[39m
                  [33mheight[39m=[32m"100"[39m
                  [33mstyle[39m=[32m"width: 100%; height: 100%;"[39m
                  [33mviewBox[39m=[32m"0 0 100 100"[39m
                  [33mwidth[39m=[32m"100"[39m
                [36m>[39m
                  [36m<title />[39m
                  [36m<desc />[39m
                  [36m<defs>[39m
                    [36m<clippath[39m
                      [33mid[39m=[32m"recharts22-clip"[39m
                    [36m>[39m
                      [36m<rect[39m
                        [33mheight[39m=[32m"60"[39m
                        [33mwidth[39m=[32m"30"[39m
                        [33mx[39m=[32m"65"[39m
                        [33my[39m=[32m"5"[39m
                      [36m/>[39m
                    [36m</clippath>[39m
                  [36m</defs>[39m
                  [36m<g[39m
                    [33mclass[39m=[32m"recharts-cartesian-grid"[39m
                  [36m>[39m
                    [36m<g[39m
                      [33mclass[39m=[32m"recharts-cartesian-grid-horizontal"[39m
                    [36m>[39m
                      [36m<line[39m
                        [33mfill[39m=[32m"none"[39m
                        [33mheight[39m=[32m"60"[39m
                        [33mstroke[39m=[32m"#1e293b"[39m
                        [33mstroke-dasharray[39m=[32m"3 3"[39m
                        [33mwidth[39m=[32m"30"[39m
                        [33mx[39m=[32m"65"[39m
                        [33mx1[39m=[32m"65"[39m
                        [33mx2[39m=[32m"95"[39m
                        [33my[39m=[32m"5"[39m
                        [33my1[39m=[32m"5"[39m
                        [33my2[39m=[32m"5"[39m
                      [36m/>[39m
                      [36m<line[39m
                        [33mfill[39m=[32m"none"[39m
                        [33mheight[39m=[32m"60"[39m
                        [33mstroke[39m=[32m"#1e293b"[39m
                        [33mstroke-dasharray[39m=[32m"3 3"[39m
                        [33mwidth[39m=[32m"30"[39m
                        [33mx[39m=[32m"65"[39m
                        [33mx1[39m=[32m"65"[39m
                        [33mx2[39m=[32m"95"[39m
                        [33my[39m=[32m"5"[39m
                        [33my1[39m=[32m"65"[39m
                        [33my2[39m=[32m"65"[39m
                      [36m/>[39m
                    [36m</g>[39m
                    [36m<g[39m
                      [33mclass[39m=[32m"recharts-cartesian-grid-vertical"[39m
                    [36m>[39m
                      [36m<line[39m
                        [33mfill[39m=[32m"none"[39m
                        [33mheight[39m=[32m"60"[39m
                        [33mstroke[39m=[32m"#1e293b"[39m
                        [33mstroke-dasharray[39m=[32m"3 3"[39m
                        [33mwidth[39m=[32m"30"[39m
                        [33mx[39m=[32m"65"[39m
                        [33mx1[39m=[32m"65"[39m
                        [33mx2[39m=[32m"65"[39m
                        [33my[39m=[32m"5"[39m
                        [33my1[39m=[32m"5"[39m
                        [33my2[39m=[32m"65"[39m
                      [36m/>[39m
                      [36m<line[39m
                        [33mfill[39m=[32m"none"[39m
                        [33mheight[39m=[32m"60"[39m
                        [33mstroke[39m=[32m"#1e293b"[39m
                        [33mstroke-dasharray[39m=[32m"3 3"[39m
                        [33mwidth[39m=[32m"30"[39m
                        [33mx[39m=[32m"65"[39m
                        [33mx1[39m=[32m"95"[39m
                        [33mx2[39m=[32m"95"[39m
                        [33my[39m=[32m"5"[39m
                        [33my1[39m=[32m"5"[39m
                        [33my2[39m=[32m"65"[39m
                      [36m/>[39m
                    [36m</g>[39m
                  [36m</g>[39m
                [36m</svg>[39m
                [36m<div[39m
                  [33mclass[39m=[32m"recharts-tooltip-wrapper"[39m
                  [33mstyle[39m=[32m"visibility: hidden; pointer-events: none; position: absolute; top: 0px; left: 0px;"[39m
                  [33mtabindex[39m=[32m"-1"[39m
                [36m>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"recharts-default-tooltip"[39m
                    [33mstyle[39m=[32m"margin: 0px; padding: 10px; background-color: rgb(30, 41, 59); white-space: nowrap; border-radius: 8px; box-shadow: none;"[39m
                  [36m>[39m
                    [36m<p[39m
                      [33mclass[39m=[32m"recharts-tooltip-label"[39m
                      [33mstyle[39m=[32m"margin: 0px; color: rgb(241, 245, 249);"[39m
                    [36m/>[39m
                  [36m</div>[39m
                [36m</div>[39m
              [36m</div>[39m
            [36m</div>[39m
          [36m</div>[39m
        [36m</div>[39m
      [36m</div>[39m
    [36m</body>[39m

    [0m [90m 180 |[39m     render([33m<[39m[33mChartComponent[39m {[33m...[39mcustomData} [33m/[39m[33m>[39m)[33m;[39m
     [90m 181 |[39m     
    [31m[1m>[22m[39m[90m 182 |[39m     [36mconst[39m container [33m=[39m screen[33m.[39mgetByTestId([32m'responsive-container'[39m)[33m;[39m
     [90m     |[39m                              [31m[1m^[22m[39m
     [90m 183 |[39m     expect(container)[33m.[39mtoBeInTheDocument()[33m;[39m
     [90m 184 |[39m   })[33m;[39m
     [90m 185 |[39m[0m

      at Object.getElementError (node_modules/@testing-library/dom/dist/config.js:37:19)
      at node_modules/@testing-library/dom/dist/query-helpers.js:76:38
      at node_modules/@testing-library/dom/dist/query-helpers.js:52:17
      at node_modules/@testing-library/dom/dist/query-helpers.js:95:19
      at Object.getByTestId (src/components/dynamic/__tests__/ChartComponent.test.tsx:182:30)

  ‚óè ChartComponent ‚Ä∫ should format values correctly

    TestingLibraryElementError: Unable to find an element with the text: Temperature. This could be because the text is broken up by multiple elements. In this case, you can provide a function for your text matcher to make your matcher more flexible.

    Ignored nodes: comments, script, style
    [36m<body>[39m
      [36m<div>[39m
        [36m<div[39m
          [33mclass[39m=[32m"glass-card glass-card-default light-mode:bg-white/70 light-mode:border-gray-200"[39m
          [33mstyle[39m=[32m"background: rgba(255, 255, 255, 0.02); border: 1px solid rgba(255, 255, 255, 0.05); border-radius: 1rem; padding: 1.5rem; box-shadow: 0 4px 16px rgba(0, 0, 0, 0.15);"[39m
        [36m>[39m
          [36m<div[39m
            [33mclass[39m=[32m"w-full h-64"[39m
          [36m>[39m
            [36m<div[39m
              [33mclass[39m=[32m"recharts-responsive-container"[39m
              [33mstyle[39m=[32m"width: 100%; height: 100%; min-width: 0;"[39m
            [36m>[39m
              [36m<div[39m
                [33mclass[39m=[32m"recharts-wrapper"[39m
                [33mstyle[39m=[32m"position: relative; cursor: default; width: 100%; height: 100%; max-height: 100px; max-width: 100px;"[39m
              [36m>[39m
                [36m<svg[39m
                  [33mclass[39m=[32m"recharts-surface"[39m
                  [33mheight[39m=[32m"100"[39m
                  [33mstyle[39m=[32m"width: 100%; height: 100%;"[39m
                  [33mviewBox[39m=[32m"0 0 100 100"[39m
                  [33mwidth[39m=[32m"100"[39m
                [36m>[39m
                  [36m<title />[39m
                  [36m<desc />[39m
                  [36m<defs>[39m
                    [36m<clippath[39m
                      [33mid[39m=[32m"recharts25-clip"[39m
                    [36m>[39m
                      [36m<rect[39m
                        [33mheight[39m=[32m"60"[39m
                        [33mwidth[39m=[32m"30"[39m
                        [33mx[39m=[32m"65"[39m
                        [33my[39m=[32m"5"[39m
                      [36m/>[39m
                    [36m</clippath>[39m
                  [36m</defs>[39m
                  [36m<g[39m
                    [33mclass[39m=[32m"recharts-cartesian-grid"[39m
                  [36m>[39m
                    [36m<g[39m
                      [33mclass[39m=[32m"recharts-cartesian-grid-horizontal"[39m
                    [36m>[39m
                      [36m<line[39m
                        [33mfill[39m=[32m"none"[39m
                        [33mheight[39m=[32m"60"[39m
                        [33mstroke[39m=[32m"#1e293b"[39m
                        [33mstroke-dasharray[39m=[32m"3 3"[39m
                        [33mwidth[39m=[32m"30"[39m
                        [33mx[39m=[32m"65"[39m
                        [33mx1[39m=[32m"65"[39m
                        [33mx2[39m=[32m"95"[39m
                        [33my[39m=[32m"5"[39m
                        [33my1[39m=[32m"5"[39m
                        [33my2[39m=[32m"5"[39m
                      [36m/>[39m
                      [36m<line[39m
                        [33mfill[39m=[32m"none"[39m
                        [33mheight[39m=[32m"60"[39m
                        [33mstroke[39m=[32m"#1e293b"[39m
                        [33mstroke-dasharray[39m=[32m"3 3"[39m
                        [33mwidth[39m=[32m"30"[39m
                        [33mx[39m=[32m"65"[39m
                        [33mx1[39m=[32m"65"[39m
                        [33mx2[39m=[32m"95"[39m
                        [33my[39m=[32m"5"[39m
                        [33my1[39m=[32m"65"[39m
                        [33my2[39m=[32m"65"[39m
                      [36m/>[39m
                    [36m</g>[39m
                    [36m<g[39m
                      [33mclass[39m=[32m"recharts-cartesian-grid-vertical"[39m
                    [36m>[39m
                      [36m<line[39m
                        [33mfill[39m=[32m"none"[39m
                        [33mheight[39m=[32m"60"[39m
                        [33mstroke[39m=[32m"#1e293b"[39m
                        [33mstroke-dasharray[39m=[32m"3 3"[39m
                        [33mwidth[39m=[32m"30"[39m
                        [33mx[39m=[32m"65"[39m
                        [33mx1[39m=[32m"65"[39m
                        [33mx2[39m=[32m"65"[39m
                        [33my[39m=[32m"5"[39m
                        [33my1[39m=[32m"5"[39m
                        [33my2[39m=[32m"65"[39m
                      [36m/>[39m
                      [36m<line[39m
                        [33mfill[39m=[32m"none"[39m
                        [33mheight[39m=[32m"60"[39m
                        [33mstroke[39m=[32m"#1e293b"[39m
                        [33mstroke-dasharray[39m=[32m"3 3"[39m
                        [33mwidth[39m=[32m"30"[39m
                        [33mx[39m=[32m"65"[39m
                        [33mx1[39m=[32m"95"[39m
                        [33mx2[39m=[32m"95"[39m
                        [33my[39m=[32m"5"[39m
                        [33my1[39m=[32m"5"[39m
                        [33my2[39m=[32m"65"[39m
                      [36m/>[39m
                    [36m</g>[39m
                  [36m</g>[39m
                [36m</svg>[39m
                [36m<div[39m
                  [33mclass[39m=[32m"recharts-tooltip-wrapper"[39m
                  [33mstyle[39m=[32m"visibility: hidden; pointer-events: none; position: absolute; top: 0px; left: 0px;"[39m
                  [33mtabindex[39m=[32m"-1"[39m
                [36m>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"recharts-default-tooltip"[39m
                    [33mstyle[39m=[32m"margin: 0px; padding: 10px; background-color: rgb(30, 41, 59); white-space: nowrap; border-radius: 8px; box-shadow: none;"[39m
                  [36m>[39m
                    [36m<p[39m
                      [33mclass[39m=[32m"recharts-tooltip-label"[39m
                      [33mstyle[39m=[32m"margin: 0px; color: rgb(241, 245, 249);"[39m
                    [36m/>[39m
                  [36m</div>[39m
                [36m</div>[39m
              [36m</div>[39m
            [36m</div>[39m
          [36m</div>[39m
        [36m</div>[39m
      [36m</div>[39m
    [36m</body>[39m

    [0m [90m 201 |[39m     render([33m<[39m[33mChartComponent[39m {[33m...[39mdataWithUnits} [33m/[39m[33m>[39m)[33m;[39m
     [90m 202 |[39m     
    [31m[1m>[22m[39m[90m 203 |[39m     expect(screen[33m.[39mgetByText([32m'Temperature'[39m))[33m.[39mtoBeInTheDocument()[33m;[39m
     [90m     |[39m                   [31m[1m^[22m[39m
     [90m 204 |[39m     [90m// Unit should be included in the chart somehow[39m
     [90m 205 |[39m   })[33m;[39m
     [90m 206 |[39m })[33m;[39m[0m

      at Object.getElementError (node_modules/@testing-library/dom/dist/config.js:37:19)
      at node_modules/@testing-library/dom/dist/query-helpers.js:76:38
      at node_modules/@testing-library/dom/dist/query-helpers.js:52:17
      at node_modules/@testing-library/dom/dist/query-helpers.js:95:19
      at Object.getByText (src/components/dynamic/__tests__/ChartComponent.test.tsx:203:19)

  console.log
    [dotenv@17.0.1] injecting env (31) from .env.test ‚Äì [tip] encrypt with dotenvx: https://dotenvx.com

      at _log (node_modules/dotenv/lib/main.js:102:11)

  console.error
    Warning: React.jsx: type is invalid -- expected a string (for built-in components) or a class/function (for composite components) but got: object.
    
    Check the render method of `OptimizedImage`.
        at src (/workspaces/blipee-os/src/components/optimized/OptimizedImage.tsx:22:3)

      243 |       return;
      244 |     }
    > 245 |     originalError.call(console, ...args);
          |                   ^
      246 |   };
      247 |   
      248 |   console.warn = (...args) => {

      at console.call [as error] (jest.setup.enterprise.js:245:19)
      at printWarning (node_modules/react/cjs/react-jsx-runtime.development.js:87:30)
      at error (node_modules/react/cjs/react-jsx-runtime.development.js:61:7)
      at jsxWithValidation (node_modules/react/cjs/react-jsx-runtime.development.js:1245:7)
      at jsxWithValidationDynamic (node_modules/react/cjs/react-jsx-runtime.development.js:1320:12)
      at _jsx (src/components/optimized/OptimizedImage.tsx:80:7)
      at renderWithHooks (node_modules/react-dom/cjs/react-dom.development.js:15486:18)
      at mountIndeterminateComponent (node_modules/react-dom/cjs/react-dom.development.js:20103:13)
      at beginWork (node_modules/react-dom/cjs/react-dom.development.js:21626:16)
      at beginWork$1 (node_modules/react-dom/cjs/react-dom.development.js:27465:14)
      at performUnitOfWork (node_modules/react-dom/cjs/react-dom.development.js:26599:12)
      at workLoopSync (node_modules/react-dom/cjs/react-dom.development.js:26505:5)
      at renderRootSync (node_modules/react-dom/cjs/react-dom.development.js:26473:7)
      at performConcurrentWorkOnRoot (node_modules/react-dom/cjs/react-dom.development.js:25777:74)
      at flushActQueue (node_modules/react/cjs/react.development.js:2667:24)
      at act (node_modules/react/cjs/react.development.js:2582:11)
      at node_modules/@testing-library/react/dist/act-compat.js:47:25
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:190:26)
      at render (node_modules/@testing-library/react/dist/pure.js:292:10)
      at Object.render (src/components/optimized/__tests__/OptimizedImage.test.tsx:21:5)

  console.error
    Error: Uncaught [Error: Element type is invalid: expected a string (for built-in components) or a class/function (for composite components) but got: object.
    
    Check the render method of `OptimizedImage`.]
        at reportException (/workspaces/blipee-os/node_modules/jsdom/lib/jsdom/living/helpers/runtime-script-errors.js:66:24)
        at innerInvokeEventListeners (/workspaces/blipee-os/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:353:9)
        at invokeEventListeners (/workspaces/blipee-os/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:286:3)
        at HTMLUnknownElementImpl._dispatch (/workspaces/blipee-os/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:233:9)
        at HTMLUnknownElementImpl.dispatchEvent (/workspaces/blipee-os/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:104:17)
        at HTMLUnknownElement.dispatchEvent (/workspaces/blipee-os/node_modules/jsdom/lib/jsdom/living/generated/EventTarget.js:241:34)
        at Object.invokeGuardedCallbackDev (/workspaces/blipee-os/node_modules/react-dom/cjs/react-dom.development.js:4213:16)
        at invokeGuardedCallback (/workspaces/blipee-os/node_modules/react-dom/cjs/react-dom.development.js:4277:31)
        at beginWork$1 (/workspaces/blipee-os/node_modules/react-dom/cjs/react-dom.development.js:27490:7)
        at performUnitOfWork (/workspaces/blipee-os/node_modules/react-dom/cjs/react-dom.development.js:26599:12)
        at workLoopSync (/workspaces/blipee-os/node_modules/react-dom/cjs/react-dom.development.js:26505:5)
        at renderRootSync (/workspaces/blipee-os/node_modules/react-dom/cjs/react-dom.development.js:26473:7)
        at performConcurrentWorkOnRoot (/workspaces/blipee-os/node_modules/react-dom/cjs/react-dom.development.js:25777:74)
        at flushActQueue (/workspaces/blipee-os/node_modules/react/cjs/react.development.js:2667:24)
        at act (/workspaces/blipee-os/node_modules/react/cjs/react.development.js:2582:11)
        at /workspaces/blipee-os/node_modules/@testing-library/react/dist/act-compat.js:47:25
        at renderRoot (/workspaces/blipee-os/node_modules/@testing-library/react/dist/pure.js:190:26)
        at render (/workspaces/blipee-os/node_modules/@testing-library/react/dist/pure.js:292:10)
        at Object.render (/workspaces/blipee-os/src/components/optimized/__tests__/OptimizedImage.test.tsx:21:5)
        at Promise.then.completed (/workspaces/blipee-os/node_modules/jest-circus/build/utils.js:298:28)
        at new Promise (<anonymous>)
        at callAsyncCircusFn (/workspaces/blipee-os/node_modules/jest-circus/build/utils.js:231:10)
        at _callCircusTest (/workspaces/blipee-os/node_modules/jest-circus/build/run.js:316:40)
        at _runTest (/workspaces/blipee-os/node_modules/jest-circus/build/run.js:252:3)
        at _runTestsForDescribeBlock (/workspaces/blipee-os/node_modules/jest-circus/build/run.js:126:9)
        at _runTestsForDescribeBlock (/workspaces/blipee-os/node_modules/jest-circus/build/run.js:121:9)
        at run (/workspaces/blipee-os/node_modules/jest-circus/build/run.js:71:3)
        at runAndTransformResultsToJestFormat (/workspaces/blipee-os/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)
        at jestAdapter (/workspaces/blipee-os/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)
        at runTestInternal (/workspaces/blipee-os/node_modules/jest-runner/build/runTest.js:367:16)
        at runTest (/workspaces/blipee-os/node_modules/jest-runner/build/runTest.js:444:34) {
      detail: Error: Element type is invalid: expected a string (for built-in components) or a class/function (for composite components) but got: object.
      
      Check the render method of `OptimizedImage`.
          at createFiberFromTypeAndProps (/workspaces/blipee-os/node_modules/react-dom/cjs/react-dom.development.js:28478:17)
          at createFiberFromElement (/workspaces/blipee-os/node_modules/react-dom/cjs/react-dom.development.js:28504:15)
          at createChild (/workspaces/blipee-os/node_modules/react-dom/cjs/react-dom.development.js:13345:28)
          at reconcileChildrenArray (/workspaces/blipee-os/node_modules/react-dom/cjs/react-dom.development.js:13640:25)
          at reconcileChildFibers (/workspaces/blipee-os/node_modules/react-dom/cjs/react-dom.development.js:14057:16)
          at reconcileChildren (/workspaces/blipee-os/node_modules/react-dom/cjs/react-dom.development.js:19186:28)
          at updateHostComponent (/workspaces/blipee-os/node_modules/react-dom/cjs/react-dom.development.js:19953:3)
          at beginWork (/workspaces/blipee-os/node_modules/react-dom/cjs/react-dom.development.js:21657:14)
          at HTMLUnknownElement.callCallback (/workspaces/blipee-os/node_modules/react-dom/cjs/react-dom.development.js:4164:14)
          at HTMLUnknownElement.callTheUserObjectsOperation (/workspaces/blipee-os/node_modules/jsdom/lib/jsdom/living/generated/EventListener.js:26:30)
          at innerInvokeEventListeners (/workspaces/blipee-os/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:350:25)
          at invokeEventListeners (/workspaces/blipee-os/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:286:3)
          at HTMLUnknownElementImpl._dispatch (/workspaces/blipee-os/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:233:9)
          at HTMLUnknownElementImpl.dispatchEvent (/workspaces/blipee-os/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:104:17)
          at HTMLUnknownElement.dispatchEvent (/workspaces/blipee-os/node_modules/jsdom/lib/jsdom/living/generated/EventTarget.js:241:34)
          at Object.invokeGuardedCallbackDev (/workspaces/blipee-os/node_modules/react-dom/cjs/react-dom.development.js:4213:16)
          at invokeGuardedCallback (/workspaces/blipee-os/node_modules/react-dom/cjs/react-dom.development.js:4277:31)
          at beginWork$1 (/workspaces/blipee-os/node_modules/react-dom/cjs/react-dom.development.js:27490:7)
          at performUnitOfWork (/workspaces/blipee-os/node_modules/react-dom/cjs/react-dom.development.js:26599:12)
          at workLoopSync (/workspaces/blipee-os/node_modules/react-dom/cjs/react-dom.development.js:26505:5)
          at renderRootSync (/workspaces/blipee-os/node_modules/react-dom/cjs/react-dom.development.js:26473:7)
          at performConcurrentWorkOnRoot (/workspaces/blipee-os/node_modules/react-dom/cjs/react-dom.development.js:25777:74)
          at flushActQueue (/workspaces/blipee-os/node_modules/react/cjs/react.development.js:2667:24)
          at act (/workspaces/blipee-os/node_modules/react/cjs/react.development.js:2582:11)
          at /workspaces/blipee-os/node_modules/@testing-library/react/dist/act-compat.js:47:25
          at renderRoot (/workspaces/blipee-os/node_modules/@testing-library/react/dist/pure.js:190:26)
          at render (/workspaces/blipee-os/node_modules/@testing-library/react/dist/pure.js:292:10)
          at Object.render (/workspaces/blipee-os/src/components/optimized/__tests__/OptimizedImage.test.tsx:21:5)
          at Promise.then.completed (/workspaces/blipee-os/node_modules/jest-circus/build/utils.js:298:28)
          at new Promise (<anonymous>)
          at callAsyncCircusFn (/workspaces/blipee-os/node_modules/jest-circus/build/utils.js:231:10)
          at _callCircusTest (/workspaces/blipee-os/node_modules/jest-circus/build/run.js:316:40)
          at _runTest (/workspaces/blipee-os/node_modules/jest-circus/build/run.js:252:3)
          at _runTestsForDescribeBlock (/workspaces/blipee-os/node_modules/jest-circus/build/run.js:126:9)
          at _runTestsForDescribeBlock (/workspaces/blipee-os/node_modules/jest-circus/build/run.js:121:9)
          at run (/workspaces/blipee-os/node_modules/jest-circus/build/run.js:71:3)
          at runAndTransformResultsToJestFormat (/workspaces/blipee-os/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)
          at jestAdapter (/workspaces/blipee-os/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)
          at runTestInternal (/workspaces/blipee-os/node_modules/jest-runner/build/runTest.js:367:16)
          at runTest (/workspaces/blipee-os/node_modules/jest-runner/build/runTest.js:444:34),
      type: 'unhandled exception'
    }

      243 |       return;
      244 |     }
    > 245 |     originalError.call(console, ...args);
          |                   ^
      246 |   };
      247 |   
      248 |   console.warn = (...args) => {

      at console.call [as error] (jest.setup.enterprise.js:245:19)
      at VirtualConsole.<anonymous> (node_modules/@jest/environment-jsdom-abstract/build/index.js:78:23)
      at reportException (node_modules/jsdom/lib/jsdom/living/helpers/runtime-script-errors.js:70:28)
      at innerInvokeEventListeners (node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:353:9)
      at invokeEventListeners (node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:286:3)
      at HTMLUnknownElementImpl._dispatch (node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:233:9)
      at HTMLUnknownElementImpl.dispatchEvent (node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:104:17)
      at HTMLUnknownElement.dispatchEvent (node_modules/jsdom/lib/jsdom/living/generated/EventTarget.js:241:34)
      at Object.invokeGuardedCallbackDev (node_modules/react-dom/cjs/react-dom.development.js:4213:16)
      at invokeGuardedCallback (node_modules/react-dom/cjs/react-dom.development.js:4277:31)
      at beginWork$1 (node_modules/react-dom/cjs/react-dom.development.js:27490:7)
      at performUnitOfWork (node_modules/react-dom/cjs/react-dom.development.js:26599:12)
      at workLoopSync (node_modules/react-dom/cjs/react-dom.development.js:26505:5)
      at renderRootSync (node_modules/react-dom/cjs/react-dom.development.js:26473:7)
      at performConcurrentWorkOnRoot (node_modules/react-dom/cjs/react-dom.development.js:25777:74)
      at flushActQueue (node_modules/react/cjs/react.development.js:2667:24)
      at act (node_modules/react/cjs/react.development.js:2582:11)
      at node_modules/@testing-library/react/dist/act-compat.js:47:25
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:190:26)
      at render (node_modules/@testing-library/react/dist/pure.js:292:10)
      at Object.render (src/components/optimized/__tests__/OptimizedImage.test.tsx:21:5)

  console.error
    Warning: React.jsx: type is invalid -- expected a string (for built-in components) or a class/function (for composite components) but got: object.
    
    Check the render method of `OptimizedImage`.
        at src (/workspaces/blipee-os/src/components/optimized/OptimizedImage.tsx:22:3)

      243 |       return;
      244 |     }
    > 245 |     originalError.call(console, ...args);
          |                   ^
      246 |   };
      247 |   
      248 |   console.warn = (...args) => {

      at console.call [as error] (jest.setup.enterprise.js:245:19)
      at printWarning (node_modules/react/cjs/react-jsx-runtime.development.js:87:30)
      at error (node_modules/react/cjs/react-jsx-runtime.development.js:61:7)
      at jsxWithValidation (node_modules/react/cjs/react-jsx-runtime.development.js:1245:7)
      at jsxWithValidationDynamic (node_modules/react/cjs/react-jsx-runtime.development.js:1320:12)
      at _jsx (src/components/optimized/OptimizedImage.tsx:80:7)
      at renderWithHooks (node_modules/react-dom/cjs/react-dom.development.js:15486:18)
      at mountIndeterminateComponent (node_modules/react-dom/cjs/react-dom.development.js:20103:13)
      at beginWork (node_modules/react-dom/cjs/react-dom.development.js:21626:16)
      at beginWork$1 (node_modules/react-dom/cjs/react-dom.development.js:27465:14)
      at performUnitOfWork (node_modules/react-dom/cjs/react-dom.development.js:26599:12)
      at workLoopSync (node_modules/react-dom/cjs/react-dom.development.js:26505:5)
      at renderRootSync (node_modules/react-dom/cjs/react-dom.development.js:26473:7)
      at recoverFromConcurrentError (node_modules/react-dom/cjs/react-dom.development.js:25889:20)
      at performConcurrentWorkOnRoot (node_modules/react-dom/cjs/react-dom.development.js:25789:22)
      at flushActQueue (node_modules/react/cjs/react.development.js:2667:24)
      at act (node_modules/react/cjs/react.development.js:2582:11)
      at node_modules/@testing-library/react/dist/act-compat.js:47:25
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:190:26)
      at render (node_modules/@testing-library/react/dist/pure.js:292:10)
      at Object.render (src/components/optimized/__tests__/OptimizedImage.test.tsx:21:5)

  console.error
    Error: Uncaught [Error: Element type is invalid: expected a string (for built-in components) or a class/function (for composite components) but got: object.
    
    Check the render method of `OptimizedImage`.]
        at reportException (/workspaces/blipee-os/node_modules/jsdom/lib/jsdom/living/helpers/runtime-script-errors.js:66:24)
        at innerInvokeEventListeners (/workspaces/blipee-os/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:353:9)
        at invokeEventListeners (/workspaces/blipee-os/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:286:3)
        at HTMLUnknownElementImpl._dispatch (/workspaces/blipee-os/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:233:9)
        at HTMLUnknownElementImpl.dispatchEvent (/workspaces/blipee-os/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:104:17)
        at HTMLUnknownElement.dispatchEvent (/workspaces/blipee-os/node_modules/jsdom/lib/jsdom/living/generated/EventTarget.js:241:34)
        at Object.invokeGuardedCallbackDev (/workspaces/blipee-os/node_modules/react-dom/cjs/react-dom.development.js:4213:16)
        at invokeGuardedCallback (/workspaces/blipee-os/node_modules/react-dom/cjs/react-dom.development.js:4277:31)
        at beginWork$1 (/workspaces/blipee-os/node_modules/react-dom/cjs/react-dom.development.js:27490:7)
        at performUnitOfWork (/workspaces/blipee-os/node_modules/react-dom/cjs/react-dom.development.js:26599:12)
        at workLoopSync (/workspaces/blipee-os/node_modules/react-dom/cjs/react-dom.development.js:26505:5)
        at renderRootSync (/workspaces/blipee-os/node_modules/react-dom/cjs/react-dom.development.js:26473:7)
        at recoverFromConcurrentError (/workspaces/blipee-os/node_modules/react-dom/cjs/react-dom.development.js:25889:20)
        at performConcurrentWorkOnRoot (/workspaces/blipee-os/node_modules/react-dom/cjs/react-dom.development.js:25789:22)
        at flushActQueue (/workspaces/blipee-os/node_modules/react/cjs/react.development.js:2667:24)
        at act (/workspaces/blipee-os/node_modules/react/cjs/react.development.js:2582:11)
        at /workspaces/blipee-os/node_modules/@testing-library/react/dist/act-compat.js:47:25
        at renderRoot (/workspaces/blipee-os/node_modules/@testing-library/react/dist/pure.js:190:26)
        at render (/workspaces/blipee-os/node_modules/@testing-library/react/dist/pure.js:292:10)
        at Object.render (/workspaces/blipee-os/src/components/optimized/__tests__/OptimizedImage.test.tsx:21:5)
        at Promise.then.completed (/workspaces/blipee-os/node_modules/jest-circus/build/utils.js:298:28)
        at new Promise (<anonymous>)
        at callAsyncCircusFn (/workspaces/blipee-os/node_modules/jest-circus/build/utils.js:231:10)
        at _callCircusTest (/workspaces/blipee-os/node_modules/jest-circus/build/run.js:316:40)
        at _runTest (/workspaces/blipee-os/node_modules/jest-circus/build/run.js:252:3)
        at _runTestsForDescribeBlock (/workspaces/blipee-os/node_modules/jest-circus/build/run.js:126:9)
        at _runTestsForDescribeBlock (/workspaces/blipee-os/node_modules/jest-circus/build/run.js:121:9)
        at run (/workspaces/blipee-os/node_modules/jest-circus/build/run.js:71:3)
        at runAndTransformResultsToJestFormat (/workspaces/blipee-os/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)
        at jestAdapter (/workspaces/blipee-os/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)
        at runTestInternal (/workspaces/blipee-os/node_modules/jest-runner/build/runTest.js:367:16)
        at runTest (/workspaces/blipee-os/node_modules/jest-runner/build/runTest.js:444:34) {
      detail: Error: Element type is invalid: expected a string (for built-in components) or a class/function (for composite components) but got: object.
      
      Check the render method of `OptimizedImage`.
          at createFiberFromTypeAndProps (/workspaces/blipee-os/node_modules/react-dom/cjs/react-dom.development.js:28478:17)
          at createFiberFromElement (/workspaces/blipee-os/node_modules/react-dom/cjs/react-dom.development.js:28504:15)
          at createChild (/workspaces/blipee-os/node_modules/react-dom/cjs/react-dom.development.js:13345:28)
          at reconcileChildrenArray (/workspaces/blipee-os/node_modules/react-dom/cjs/react-dom.development.js:13640:25)
          at reconcileChildFibers (/workspaces/blipee-os/node_modules/react-dom/cjs/react-dom.development.js:14057:16)
          at reconcileChildren (/workspaces/blipee-os/node_modules/react-dom/cjs/react-dom.development.js:19186:28)
          at updateHostComponent (/workspaces/blipee-os/node_modules/react-dom/cjs/react-dom.development.js:19953:3)
          at beginWork (/workspaces/blipee-os/node_modules/react-dom/cjs/react-dom.development.js:21657:14)
          at HTMLUnknownElement.callCallback (/workspaces/blipee-os/node_modules/react-dom/cjs/react-dom.development.js:4164:14)
          at HTMLUnknownElement.callTheUserObjectsOperation (/workspaces/blipee-os/node_modules/jsdom/lib/jsdom/living/generated/EventListener.js:26:30)
          at innerInvokeEventListeners (/workspaces/blipee-os/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:350:25)
          at invokeEventListeners (/workspaces/blipee-os/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:286:3)
          at HTMLUnknownElementImpl._dispatch (/workspaces/blipee-os/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:233:9)
          at HTMLUnknownElementImpl.dispatchEvent (/workspaces/blipee-os/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:104:17)
          at HTMLUnknownElement.dispatchEvent (/workspaces/blipee-os/node_modules/jsdom/lib/jsdom/living/generated/EventTarget.js:241:34)
          at Object.invokeGuardedCallbackDev (/workspaces/blipee-os/node_modules/react-dom/cjs/react-dom.development.js:4213:16)
          at invokeGuardedCallback (/workspaces/blipee-os/node_modules/react-dom/cjs/react-dom.development.js:4277:31)
          at beginWork$1 (/workspaces/blipee-os/node_modules/react-dom/cjs/react-dom.development.js:27490:7)
          at performUnitOfWork (/workspaces/blipee-os/node_modules/react-dom/cjs/react-dom.development.js:26599:12)
          at workLoopSync (/workspaces/blipee-os/node_modules/react-dom/cjs/react-dom.development.js:26505:5)
          at renderRootSync (/workspaces/blipee-os/node_modules/react-dom/cjs/react-dom.development.js:26473:7)
          at recoverFromConcurrentError (/workspaces/blipee-os/node_modules/react-dom/cjs/react-dom.development.js:25889:20)
          at performConcurrentWorkOnRoot (/workspaces/blipee-os/node_modules/react-dom/cjs/react-dom.development.js:25789:22)
          at flushActQueue (/workspaces/blipee-os/node_modules/react/cjs/react.development.js:2667:24)
          at act (/workspaces/blipee-os/node_modules/react/cjs/react.development.js:2582:11)
          at /workspaces/blipee-os/node_modules/@testing-library/react/dist/act-compat.js:47:25
          at renderRoot (/workspaces/blipee-os/node_modules/@testing-library/react/dist/pure.js:190:26)
          at render (/workspaces/blipee-os/node_modules/@testing-library/react/dist/pure.js:292:10)
          at Object.render (/workspaces/blipee-os/src/components/optimized/__tests__/OptimizedImage.test.tsx:21:5)
          at Promise.then.completed (/workspaces/blipee-os/node_modules/jest-circus/build/utils.js:298:28)
          at new Promise (<anonymous>)
          at callAsyncCircusFn (/workspaces/blipee-os/node_modules/jest-circus/build/utils.js:231:10)
          at _callCircusTest (/workspaces/blipee-os/node_modules/jest-circus/build/run.js:316:40)
          at _runTest (/workspaces/blipee-os/node_modules/jest-circus/build/run.js:252:3)
          at _runTestsForDescribeBlock (/workspaces/blipee-os/node_modules/jest-circus/build/run.js:126:9)
          at _runTestsForDescribeBlock (/workspaces/blipee-os/node_modules/jest-circus/build/run.js:121:9)
          at run (/workspaces/blipee-os/node_modules/jest-circus/build/run.js:71:3)
          at runAndTransformResultsToJestFormat (/workspaces/blipee-os/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)
          at jestAdapter (/workspaces/blipee-os/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)
          at runTestInternal (/workspaces/blipee-os/node_modules/jest-runner/build/runTest.js:367:16)
          at runTest (/workspaces/blipee-os/node_modules/jest-runner/build/runTest.js:444:34),
      type: 'unhandled exception'
    }

      243 |       return;
      244 |     }
    > 245 |     originalError.call(console, ...args);
          |                   ^
      246 |   };
      247 |   
      248 |   console.warn = (...args) => {

      at console.call [as error] (jest.setup.enterprise.js:245:19)
      at VirtualConsole.<anonymous> (node_modules/@jest/environment-jsdom-abstract/build/index.js:78:23)
      at reportException (node_modules/jsdom/lib/jsdom/living/helpers/runtime-script-errors.js:70:28)
      at innerInvokeEventListeners (node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:353:9)
      at invokeEventListeners (node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:286:3)
      at HTMLUnknownElementImpl._dispatch (node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:233:9)
      at HTMLUnknownElementImpl.dispatchEvent (node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:104:17)
      at HTMLUnknownElement.dispatchEvent (node_modules/jsdom/lib/jsdom/living/generated/EventTarget.js:241:34)
      at Object.invokeGuardedCallbackDev (node_modules/react-dom/cjs/react-dom.development.js:4213:16)
      at invokeGuardedCallback (node_modules/react-dom/cjs/react-dom.development.js:4277:31)
      at beginWork$1 (node_modules/react-dom/cjs/react-dom.development.js:27490:7)
      at performUnitOfWork (node_modules/react-dom/cjs/react-dom.development.js:26599:12)
      at workLoopSync (node_modules/react-dom/cjs/react-dom.development.js:26505:5)
      at renderRootSync (node_modules/react-dom/cjs/react-dom.development.js:26473:7)
      at recoverFromConcurrentError (node_modules/react-dom/cjs/react-dom.development.js:25889:20)
      at performConcurrentWorkOnRoot (node_modules/react-dom/cjs/react-dom.development.js:25789:22)
      at flushActQueue (node_modules/react/cjs/react.development.js:2667:24)
      at act (node_modules/react/cjs/react.development.js:2582:11)
      at node_modules/@testing-library/react/dist/act-compat.js:47:25
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:190:26)
      at render (node_modules/@testing-library/react/dist/pure.js:292:10)
      at Object.render (src/components/optimized/__tests__/OptimizedImage.test.tsx:21:5)

  console.error
    The above error occurred in the <div> component:
    
        at div
        at src (/workspaces/blipee-os/src/components/optimized/OptimizedImage.tsx:22:3)
    
    Consider adding an error boundary to your tree to customize error handling behavior.
    Visit https://reactjs.org/link/error-boundaries to learn more about error boundaries.

      243 |       return;
      244 |     }
    > 245 |     originalError.call(console, ...args);
          |                   ^
      246 |   };
      247 |   
      248 |   console.warn = (...args) => {

      at console.call [as error] (jest.setup.enterprise.js:245:19)
      at logCapturedError (node_modules/react-dom/cjs/react-dom.development.js:18704:23)
      at update.callback (node_modules/react-dom/cjs/react-dom.development.js:18737:5)
      at callCallback (node_modules/react-dom/cjs/react-dom.development.js:15036:12)
      at commitUpdateQueue (node_modules/react-dom/cjs/react-dom.development.js:15057:9)
      at commitLayoutEffectOnFiber (node_modules/react-dom/cjs/react-dom.development.js:23430:13)
      at commitLayoutMountEffects_complete (node_modules/react-dom/cjs/react-dom.development.js:24727:9)
      at commitLayoutEffects_begin (node_modules/react-dom/cjs/react-dom.development.js:24713:7)
      at commitLayoutEffects (node_modules/react-dom/cjs/react-dom.development.js:24651:3)
      at commitRootImpl (node_modules/react-dom/cjs/react-dom.development.js:26862:5)
      at commitRoot (node_modules/react-dom/cjs/react-dom.development.js:26721:5)
      at finishConcurrentRender (node_modules/react-dom/cjs/react-dom.development.js:25931:9)
      at performConcurrentWorkOnRoot (node_modules/react-dom/cjs/react-dom.development.js:25848:7)
      at flushActQueue (node_modules/react/cjs/react.development.js:2667:24)
      at act (node_modules/react/cjs/react.development.js:2582:11)
      at node_modules/@testing-library/react/dist/act-compat.js:47:25
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:190:26)
      at render (node_modules/@testing-library/react/dist/pure.js:292:10)
      at Object.render (src/components/optimized/__tests__/OptimizedImage.test.tsx:21:5)

  console.error
    Warning: React.jsx: type is invalid -- expected a string (for built-in components) or a class/function (for composite components) but got: object.
    
    Check the render method of `OptimizedImage`.
        at src (/workspaces/blipee-os/src/components/optimized/OptimizedImage.tsx:22:3)

      243 |       return;
      244 |     }
    > 245 |     originalError.call(console, ...args);
          |                   ^
      246 |   };
      247 |   
      248 |   console.warn = (...args) => {

      at console.call [as error] (jest.setup.enterprise.js:245:19)
      at printWarning (node_modules/react/cjs/react-jsx-runtime.development.js:87:30)
      at error (node_modules/react/cjs/react-jsx-runtime.development.js:61:7)
      at jsxWithValidation (node_modules/react/cjs/react-jsx-runtime.development.js:1245:7)
      at jsxWithValidationDynamic (node_modules/react/cjs/react-jsx-runtime.development.js:1320:12)
      at _jsx (src/components/optimized/OptimizedImage.tsx:80:7)
      at renderWithHooks (node_modules/react-dom/cjs/react-dom.development.js:15486:18)
      at mountIndeterminateComponent (node_modules/react-dom/cjs/react-dom.development.js:20103:13)
      at beginWork (node_modules/react-dom/cjs/react-dom.development.js:21626:16)
      at beginWork$1 (node_modules/react-dom/cjs/react-dom.development.js:27465:14)
      at performUnitOfWork (node_modules/react-dom/cjs/react-dom.development.js:26599:12)
      at workLoopSync (node_modules/react-dom/cjs/react-dom.development.js:26505:5)
      at renderRootSync (node_modules/react-dom/cjs/react-dom.development.js:26473:7)
      at performConcurrentWorkOnRoot (node_modules/react-dom/cjs/react-dom.development.js:25777:74)
      at flushActQueue (node_modules/react/cjs/react.development.js:2667:24)
      at act (node_modules/react/cjs/react.development.js:2582:11)
      at node_modules/@testing-library/react/dist/act-compat.js:47:25
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:190:26)
      at render (node_modules/@testing-library/react/dist/pure.js:292:10)
      at Object.render (src/components/optimized/__tests__/OptimizedImage.test.tsx:26:5)

  console.error
    Error: Uncaught [Error: Element type is invalid: expected a string (for built-in components) or a class/function (for composite components) but got: object.
    
    Check the render method of `OptimizedImage`.]
        at reportException (/workspaces/blipee-os/node_modules/jsdom/lib/jsdom/living/helpers/runtime-script-errors.js:66:24)
        at innerInvokeEventListeners (/workspaces/blipee-os/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:353:9)
        at invokeEventListeners (/workspaces/blipee-os/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:286:3)
        at HTMLUnknownElementImpl._dispatch (/workspaces/blipee-os/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:233:9)
        at HTMLUnknownElementImpl.dispatchEvent (/workspaces/blipee-os/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:104:17)
        at HTMLUnknownElement.dispatchEvent (/workspaces/blipee-os/node_modules/jsdom/lib/jsdom/living/generated/EventTarget.js:241:34)
        at Object.invokeGuardedCallbackDev (/workspaces/blipee-os/node_modules/react-dom/cjs/react-dom.development.js:4213:16)
        at invokeGuardedCallback (/workspaces/blipee-os/node_modules/react-dom/cjs/react-dom.development.js:4277:31)
        at beginWork$1 (/workspaces/blipee-os/node_modules/react-dom/cjs/react-dom.development.js:27490:7)
        at performUnitOfWork (/workspaces/blipee-os/node_modules/react-dom/cjs/react-dom.development.js:26599:12)
        at workLoopSync (/workspaces/blipee-os/node_modules/react-dom/cjs/react-dom.development.js:26505:5)
        at renderRootSync (/workspaces/blipee-os/node_modules/react-dom/cjs/react-dom.development.js:26473:7)
        at performConcurrentWorkOnRoot (/workspaces/blipee-os/node_modules/react-dom/cjs/react-dom.development.js:25777:74)
        at flushActQueue (/workspaces/blipee-os/node_modules/react/cjs/react.development.js:2667:24)
        at act (/workspaces/blipee-os/node_modules/react/cjs/react.development.js:2582:11)
        at /workspaces/blipee-os/node_modules/@testing-library/react/dist/act-compat.js:47:25
        at renderRoot (/workspaces/blipee-os/node_modules/@testing-library/react/dist/pure.js:190:26)
        at render (/workspaces/blipee-os/node_modules/@testing-library/react/dist/pure.js:292:10)
        at Object.render (/workspaces/blipee-os/src/components/optimized/__tests__/OptimizedImage.test.tsx:26:5)
        at Promise.then.completed (/workspaces/blipee-os/node_modules/jest-circus/build/utils.js:298:28)
        at new Promise (<anonymous>)
        at callAsyncCircusFn (/workspaces/blipee-os/node_modules/jest-circus/build/utils.js:231:10)
        at _callCircusTest (/workspaces/blipee-os/node_modules/jest-circus/build/run.js:316:40)
        at _runTest (/workspaces/blipee-os/node_modules/jest-circus/build/run.js:252:3)
        at _runTestsForDescribeBlock (/workspaces/blipee-os/node_modules/jest-circus/build/run.js:126:9)
        at _runTestsForDescribeBlock (/workspaces/blipee-os/node_modules/jest-circus/build/run.js:121:9)
        at run (/workspaces/blipee-os/node_modules/jest-circus/build/run.js:71:3)
        at runAndTransformResultsToJestFormat (/workspaces/blipee-os/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)
        at jestAdapter (/workspaces/blipee-os/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)
        at runTestInternal (/workspaces/blipee-os/node_modules/jest-runner/build/runTest.js:367:16)
        at runTest (/workspaces/blipee-os/node_modules/jest-runner/build/runTest.js:444:34) {
      detail: Error: Element type is invalid: expected a string (for built-in components) or a class/function (for composite components) but got: object.
      
      Check the render method of `OptimizedImage`.
          at createFiberFromTypeAndProps (/workspaces/blipee-os/node_modules/react-dom/cjs/react-dom.development.js:28478:17)
          at createFiberFromElement (/workspaces/blipee-os/node_modules/react-dom/cjs/react-dom.development.js:28504:15)
          at createChild (/workspaces/blipee-os/node_modules/react-dom/cjs/react-dom.development.js:13345:28)
          at reconcileChildrenArray (/workspaces/blipee-os/node_modules/react-dom/cjs/react-dom.development.js:13640:25)
          at reconcileChildFibers (/workspaces/blipee-os/node_modules/react-dom/cjs/react-dom.development.js:14057:16)
          at reconcileChildren (/workspaces/blipee-os/node_modules/react-dom/cjs/react-dom.development.js:19186:28)
          at updateHostComponent (/workspaces/blipee-os/node_modules/react-dom/cjs/react-dom.development.js:19953:3)
          at beginWork (/workspaces/blipee-os/node_modules/react-dom/cjs/react-dom.development.js:21657:14)
          at HTMLUnknownElement.callCallback (/workspaces/blipee-os/node_modules/react-dom/cjs/react-dom.development.js:4164:14)
          at HTMLUnknownElement.callTheUserObjectsOperation (/workspaces/blipee-os/node_modules/jsdom/lib/jsdom/living/generated/EventListener.js:26:30)
          at innerInvokeEventListeners (/workspaces/blipee-os/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:350:25)
          at invokeEventListeners (/workspaces/blipee-os/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:286:3)
          at HTMLUnknownElementImpl._dispatch (/workspaces/blipee-os/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:233:9)
          at HTMLUnknownElementImpl.dispatchEvent (/workspaces/blipee-os/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:104:17)
          at HTMLUnknownElement.dispatchEvent (/workspaces/blipee-os/node_modules/jsdom/lib/jsdom/living/generated/EventTarget.js:241:34)
          at Object.invokeGuardedCallbackDev (/workspaces/blipee-os/node_modules/react-dom/cjs/react-dom.development.js:4213:16)
          at invokeGuardedCallback (/workspaces/blipee-os/node_modules/react-dom/cjs/react-dom.development.js:4277:31)
          at beginWork$1 (/workspaces/blipee-os/node_modules/react-dom/cjs/react-dom.development.js:27490:7)
          at performUnitOfWork (/workspaces/blipee-os/node_modules/react-dom/cjs/react-dom.development.js:26599:12)
          at workLoopSync (/workspaces/blipee-os/node_modules/react-dom/cjs/react-dom.development.js:26505:5)
          at renderRootSync (/workspaces/blipee-os/node_modules/react-dom/cjs/react-dom.development.js:26473:7)
          at performConcurrentWorkOnRoot (/workspaces/blipee-os/node_modules/react-dom/cjs/react-dom.development.js:25777:74)
          at flushActQueue (/workspaces/blipee-os/node_modules/react/cjs/react.development.js:2667:24)
          at act (/workspaces/blipee-os/node_modules/react/cjs/react.development.js:2582:11)
          at /workspaces/blipee-os/node_modules/@testing-library/react/dist/act-compat.js:47:25
          at renderRoot (/workspaces/blipee-os/node_modules/@testing-library/react/dist/pure.js:190:26)
          at render (/workspaces/blipee-os/node_modules/@testing-library/react/dist/pure.js:292:10)
          at Object.render (/workspaces/blipee-os/src/components/optimized/__tests__/OptimizedImage.test.tsx:26:5)
          at Promise.then.completed (/workspaces/blipee-os/node_modules/jest-circus/build/utils.js:298:28)
          at new Promise (<anonymous>)
          at callAsyncCircusFn (/workspaces/blipee-os/node_modules/jest-circus/build/utils.js:231:10)
          at _callCircusTest (/workspaces/blipee-os/node_modules/jest-circus/build/run.js:316:40)
          at _runTest (/workspaces/blipee-os/node_modules/jest-circus/build/run.js:252:3)
          at _runTestsForDescribeBlock (/workspaces/blipee-os/node_modules/jest-circus/build/run.js:126:9)
          at _runTestsForDescribeBlock (/workspaces/blipee-os/node_modules/jest-circus/build/run.js:121:9)
          at run (/workspaces/blipee-os/node_modules/jest-circus/build/run.js:71:3)
          at runAndTransformResultsToJestFormat (/workspaces/blipee-os/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)
          at jestAdapter (/workspaces/blipee-os/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)
          at runTestInternal (/workspaces/blipee-os/node_modules/jest-runner/build/runTest.js:367:16)
          at runTest (/workspaces/blipee-os/node_modules/jest-runner/build/runTest.js:444:34),
      type: 'unhandled exception'
    }

      243 |       return;
      244 |     }
    > 245 |     originalError.call(console, ...args);
          |                   ^
      246 |   };
      247 |   
      248 |   console.warn = (...args) => {

      at console.call [as error] (jest.setup.enterprise.js:245:19)
      at VirtualConsole.<anonymous> (node_modules/@jest/environment-jsdom-abstract/build/index.js:78:23)
      at reportException (node_modules/jsdom/lib/jsdom/living/helpers/runtime-script-errors.js:70:28)
      at innerInvokeEventListeners (node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:353:9)
      at invokeEventListeners (node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:286:3)
      at HTMLUnknownElementImpl._dispatch (node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:233:9)
      at HTMLUnknownElementImpl.dispatchEvent (node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:104:17)
      at HTMLUnknownElement.dispatchEvent (node_modules/jsdom/lib/jsdom/living/generated/EventTarget.js:241:34)
      at Object.invokeGuardedCallbackDev (node_modules/react-dom/cjs/react-dom.development.js:4213:16)
      at invokeGuardedCallback (node_modules/react-dom/cjs/react-dom.development.js:4277:31)
      at beginWork$1 (node_modules/react-dom/cjs/react-dom.development.js:27490:7)
      at performUnitOfWork (node_modules/react-dom/cjs/react-dom.development.js:26599:12)
      at workLoopSync (node_modules/react-dom/cjs/react-dom.development.js:26505:5)
      at renderRootSync (node_modules/react-dom/cjs/react-dom.development.js:26473:7)
      at performConcurrentWorkOnRoot (node_modules/react-dom/cjs/react-dom.development.js:25777:74)
      at flushActQueue (node_modules/react/cjs/react.development.js:2667:24)
      at act (node_modules/react/cjs/react.development.js:2582:11)
      at node_modules/@testing-library/react/dist/act-compat.js:47:25
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:190:26)
      at render (node_modules/@testing-library/react/dist/pure.js:292:10)
      at Object.render (src/components/optimized/__tests__/OptimizedImage.test.tsx:26:5)

  console.error
    Warning: React.jsx: type is invalid -- expected a string (for built-in components) or a class/function (for composite components) but got: object.
    
    Check the render method of `OptimizedImage`.
        at src (/workspaces/blipee-os/src/components/optimized/OptimizedImage.tsx:22:3)

      243 |       return;
      244 |     }
    > 245 |     originalError.call(console, ...args);
          |                   ^
      246 |   };
      247 |   
      248 |   console.warn = (...args) => {

      at console.call [as error] (jest.setup.enterprise.js:245:19)
      at printWarning (node_modules/react/cjs/react-jsx-runtime.development.js:87:30)
      at error (node_modules/react/cjs/react-jsx-runtime.development.js:61:7)
      at jsxWithValidation (node_modules/react/cjs/react-jsx-runtime.development.js:1245:7)
      at jsxWithValidationDynamic (node_modules/react/cjs/react-jsx-runtime.development.js:1320:12)
      at _jsx (src/components/optimized/OptimizedImage.tsx:80:7)
      at renderWithHooks (node_modules/react-dom/cjs/react-dom.development.js:15486:18)
      at mountIndeterminateComponent (node_modules/react-dom/cjs/react-dom.development.js:20103:13)
      at beginWork (node_modules/react-dom/cjs/react-dom.development.js:21626:16)
      at beginWork$1 (node_modules/react-dom/cjs/react-dom.development.js:27465:14)
      at performUnitOfWork (node_modules/react-dom/cjs/react-dom.development.js:26599:12)
      at workLoopSync (node_modules/react-dom/cjs/react-dom.development.js:26505:5)
      at renderRootSync (node_modules/react-dom/cjs/react-dom.development.js:26473:7)
      at recoverFromConcurrentError (node_modules/react-dom/cjs/react-dom.development.js:25889:20)
      at performConcurrentWorkOnRoot (node_modules/react-dom/cjs/react-dom.development.js:25789:22)
      at flushActQueue (node_modules/react/cjs/react.development.js:2667:24)
      at act (node_modules/react/cjs/react.development.js:2582:11)
      at node_modules/@testing-library/react/dist/act-compat.js:47:25
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:190:26)
      at render (node_modules/@testing-library/react/dist/pure.js:292:10)
      at Object.render (src/components/optimized/__tests__/OptimizedImage.test.tsx:26:5)

  console.error
    Error: Uncaught [Error: Element type is invalid: expected a string (for built-in components) or a class/function (for composite components) but got: object.
    
    Check the render method of `OptimizedImage`.]
        at reportException (/workspaces/blipee-os/node_modules/jsdom/lib/jsdom/living/helpers/runtime-script-errors.js:66:24)
        at innerInvokeEventListeners (/workspaces/blipee-os/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:353:9)
        at invokeEventListeners (/workspaces/blipee-os/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:286:3)
        at HTMLUnknownElementImpl._dispatch (/workspaces/blipee-os/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:233:9)
        at HTMLUnknownElementImpl.dispatchEvent (/workspaces/blipee-os/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:104:17)
        at HTMLUnknownElement.dispatchEvent (/workspaces/blipee-os/node_modules/jsdom/lib/jsdom/living/generated/EventTarget.js:241:34)
        at Object.invokeGuardedCallbackDev (/workspaces/blipee-os/node_modules/react-dom/cjs/react-dom.development.js:4213:16)
        at invokeGuardedCallback (/workspaces/blipee-os/node_modules/react-dom/cjs/react-dom.development.js:4277:31)
        at beginWork$1 (/workspaces/blipee-os/node_modules/react-dom/cjs/react-dom.development.js:27490:7)
        at performUnitOfWork (/workspaces/blipee-os/node_modules/react-dom/cjs/react-dom.development.js:26599:12)
        at workLoopSync (/workspaces/blipee-os/node_modules/react-dom/cjs/react-dom.development.js:26505:5)
        at renderRootSync (/workspaces/blipee-os/node_modules/react-dom/cjs/react-dom.development.js:26473:7)
        at recoverFromConcurrentError (/workspaces/blipee-os/node_modules/react-dom/cjs/react-dom.development.js:25889:20)
        at performConcurrentWorkOnRoot (/workspaces/blipee-os/node_modules/react-dom/cjs/react-dom.development.js:25789:22)
        at flushActQueue (/workspaces/blipee-os/node_modules/react/cjs/react.development.js:2667:24)
        at act (/workspaces/blipee-os/node_modules/react/cjs/react.development.js:2582:11)
        at /workspaces/blipee-os/node_modules/@testing-library/react/dist/act-compat.js:47:25
        at renderRoot (/workspaces/blipee-os/node_modules/@testing-library/react/dist/pure.js:190:26)
        at render (/workspaces/blipee-os/node_modules/@testing-library/react/dist/pure.js:292:10)
        at Object.render (/workspaces/blipee-os/src/components/optimized/__tests__/OptimizedImage.test.tsx:26:5)
        at Promise.then.completed (/workspaces/blipee-os/node_modules/jest-circus/build/utils.js:298:28)
        at new Promise (<anonymous>)
        at callAsyncCircusFn (/workspaces/blipee-os/node_modules/jest-circus/build/utils.js:231:10)
        at _callCircusTest (/workspaces/blipee-os/node_modules/jest-circus/build/run.js:316:40)
        at _runTest (/workspaces/blipee-os/node_modules/jest-circus/build/run.js:252:3)
        at _runTestsForDescribeBlock (/workspaces/blipee-os/node_modules/jest-circus/build/run.js:126:9)
        at _runTestsForDescribeBlock (/workspaces/blipee-os/node_modules/jest-circus/build/run.js:121:9)
        at run (/workspaces/blipee-os/node_modules/jest-circus/build/run.js:71:3)
        at runAndTransformResultsToJestFormat (/workspaces/blipee-os/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)
        at jestAdapter (/workspaces/blipee-os/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)
        at runTestInternal (/workspaces/blipee-os/node_modules/jest-runner/build/runTest.js:367:16)
        at runTest (/workspaces/blipee-os/node_modules/jest-runner/build/runTest.js:444:34) {
      detail: Error: Element type is invalid: expected a string (for built-in components) or a class/function (for composite components) but got: object.
      
      Check the render method of `OptimizedImage`.
          at createFiberFromTypeAndProps (/workspaces/blipee-os/node_modules/react-dom/cjs/react-dom.development.js:28478:17)
          at createFiberFromElement (/workspaces/blipee-os/node_modules/react-dom/cjs/react-dom.development.js:28504:15)
          at createChild (/workspaces/blipee-os/node_modules/react-dom/cjs/react-dom.development.js:13345:28)
          at reconcileChildrenArray (/workspaces/blipee-os/node_modules/react-dom/cjs/react-dom.development.js:13640:25)
          at reconcileChildFibers (/workspaces/blipee-os/node_modules/react-dom/cjs/react-dom.development.js:14057:16)
          at reconcileChildren (/workspaces/blipee-os/node_modules/react-dom/cjs/react-dom.development.js:19186:28)
          at updateHostComponent (/workspaces/blipee-os/node_modules/react-dom/cjs/react-dom.development.js:19953:3)
          at beginWork (/workspaces/blipee-os/node_modules/react-dom/cjs/react-dom.development.js:21657:14)
          at HTMLUnknownElement.callCallback (/workspaces/blipee-os/node_modules/react-dom/cjs/react-dom.development.js:4164:14)
          at HTMLUnknownElement.callTheUserObjectsOperation (/workspaces/blipee-os/node_modules/jsdom/lib/jsdom/living/generated/EventListener.js:26:30)
          at innerInvokeEventListeners (/workspaces/blipee-os/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:350:25)
          at invokeEventListeners (/workspaces/blipee-os/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:286:3)
          at HTMLUnknownElementImpl._dispatch (/workspaces/blipee-os/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:233:9)
          at HTMLUnknownElementImpl.dispatchEvent (/workspaces/blipee-os/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:104:17)
          at HTMLUnknownElement.dispatchEvent (/workspaces/blipee-os/node_modules/jsdom/lib/jsdom/living/generated/EventTarget.js:241:34)
          at Object.invokeGuardedCallbackDev (/workspaces/blipee-os/node_modules/react-dom/cjs/react-dom.development.js:4213:16)
          at invokeGuardedCallback (/workspaces/blipee-os/node_modules/react-dom/cjs/react-dom.development.js:4277:31)
          at beginWork$1 (/workspaces/blipee-os/node_modules/react-dom/cjs/react-dom.development.js:27490:7)
          at performUnitOfWork (/workspaces/blipee-os/node_modules/react-dom/cjs/react-dom.development.js:26599:12)
          at workLoopSync (/workspaces/blipee-os/node_modules/react-dom/cjs/react-dom.development.js:26505:5)
          at renderRootSync (/workspaces/blipee-os/node_modules/react-dom/cjs/react-dom.development.js:26473:7)
          at recoverFromConcurrentError (/workspaces/blipee-os/node_modules/react-dom/cjs/react-dom.development.js:25889:20)
          at performConcurrentWorkOnRoot (/workspaces/blipee-os/node_modules/react-dom/cjs/react-dom.development.js:25789:22)
          at flushActQueue (/workspaces/blipee-os/node_modules/react/cjs/react.development.js:2667:24)
          at act (/workspaces/blipee-os/node_modules/react/cjs/react.development.js:2582:11)
          at /workspaces/blipee-os/node_modules/@testing-library/react/dist/act-compat.js:47:25
          at renderRoot (/workspaces/blipee-os/node_modules/@testing-library/react/dist/pure.js:190:26)
          at render (/workspaces/blipee-os/node_modules/@testing-library/react/dist/pure.js:292:10)
          at Object.render (/workspaces/blipee-os/src/components/optimized/__tests__/OptimizedImage.test.tsx:26:5)
          at Promise.then.completed (/workspaces/blipee-os/node_modules/jest-circus/build/utils.js:298:28)
          at new Promise (<anonymous>)
          at callAsyncCircusFn (/workspaces/blipee-os/node_modules/jest-circus/build/utils.js:231:10)
          at _callCircusTest (/workspaces/blipee-os/node_modules/jest-circus/build/run.js:316:40)
          at _runTest (/workspaces/blipee-os/node_modules/jest-circus/build/run.js:252:3)
          at _runTestsForDescribeBlock (/workspaces/blipee-os/node_modules/jest-circus/build/run.js:126:9)
          at _runTestsForDescribeBlock (/workspaces/blipee-os/node_modules/jest-circus/build/run.js:121:9)
          at run (/workspaces/blipee-os/node_modules/jest-circus/build/run.js:71:3)
          at runAndTransformResultsToJestFormat (/workspaces/blipee-os/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)
          at jestAdapter (/workspaces/blipee-os/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)
          at runTestInternal (/workspaces/blipee-os/node_modules/jest-runner/build/runTest.js:367:16)
          at runTest (/workspaces/blipee-os/node_modules/jest-runner/build/runTest.js:444:34),
      type: 'unhandled exception'
    }

      243 |       return;
      244 |     }
    > 245 |     originalError.call(console, ...args);
          |                   ^
      246 |   };
      247 |   
      248 |   console.warn = (...args) => {

      at console.call [as error] (jest.setup.enterprise.js:245:19)
      at VirtualConsole.<anonymous> (node_modules/@jest/environment-jsdom-abstract/build/index.js:78:23)
      at reportException (node_modules/jsdom/lib/jsdom/living/helpers/runtime-script-errors.js:70:28)
      at innerInvokeEventListeners (node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:353:9)
      at invokeEventListeners (node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:286:3)
      at HTMLUnknownElementImpl._dispatch (node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:233:9)
      at HTMLUnknownElementImpl.dispatchEvent (node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:104:17)
      at HTMLUnknownElement.dispatchEvent (node_modules/jsdom/lib/jsdom/living/generated/EventTarget.js:241:34)
      at Object.invokeGuardedCallbackDev (node_modules/react-dom/cjs/react-dom.development.js:4213:16)
      at invokeGuardedCallback (node_modules/react-dom/cjs/react-dom.development.js:4277:31)
      at beginWork$1 (node_modules/react-dom/cjs/react-dom.development.js:27490:7)
      at performUnitOfWork (node_modules/react-dom/cjs/react-dom.development.js:26599:12)
      at workLoopSync (node_modules/react-dom/cjs/react-dom.development.js:26505:5)
      at renderRootSync (node_modules/react-dom/cjs/react-dom.development.js:26473:7)
      at recoverFromConcurrentError (node_modules/react-dom/cjs/react-dom.development.js:25889:20)
      at performConcurrentWorkOnRoot (node_modules/react-dom/cjs/react-dom.development.js:25789:22)
      at flushActQueue (node_modules/react/cjs/react.development.js:2667:24)
      at act (node_modules/react/cjs/react.development.js:2582:11)
      at node_modules/@testing-library/react/dist/act-compat.js:47:25
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:190:26)
      at render (node_modules/@testing-library/react/dist/pure.js:292:10)
      at Object.render (src/components/optimized/__tests__/OptimizedImage.test.tsx:26:5)

  console.error
    The above error occurred in the <div> component:
    
        at div
        at src (/workspaces/blipee-os/src/components/optimized/OptimizedImage.tsx:22:3)
    
    Consider adding an error boundary to your tree to customize error handling behavior.
    Visit https://reactjs.org/link/error-boundaries to learn more about error boundaries.

      243 |       return;
      244 |     }
    > 245 |     originalError.call(console, ...args);
          |                   ^
      246 |   };
      247 |   
      248 |   console.warn = (...args) => {

      at console.call [as error] (jest.setup.enterprise.js:245:19)
      at logCapturedError (node_modules/react-dom/cjs/react-dom.development.js:18704:23)
      at update.callback (node_modules/react-dom/cjs/react-dom.development.js:18737:5)
      at callCallback (node_modules/react-dom/cjs/react-dom.development.js:15036:12)
      at commitUpdateQueue (node_modules/react-dom/cjs/react-dom.development.js:15057:9)
      at commitLayoutEffectOnFiber (node_modules/react-dom/cjs/react-dom.development.js:23430:13)
      at commitLayoutMountEffects_complete (node_modules/react-dom/cjs/react-dom.development.js:24727:9)
      at commitLayoutEffects_begin (node_modules/react-dom/cjs/react-dom.development.js:24713:7)
      at commitLayoutEffects (node_modules/react-dom/cjs/react-dom.development.js:24651:3)
      at commitRootImpl (node_modules/react-dom/cjs/react-dom.development.js:26862:5)
      at commitRoot (node_modules/react-dom/cjs/react-dom.development.js:26721:5)
      at finishConcurrentRender (node_modules/react-dom/cjs/react-dom.development.js:25931:9)
      at performConcurrentWorkOnRoot (node_modules/react-dom/cjs/react-dom.development.js:25848:7)
      at flushActQueue (node_modules/react/cjs/react.development.js:2667:24)
      at act (node_modules/react/cjs/react.development.js:2582:11)
      at node_modules/@testing-library/react/dist/act-compat.js:47:25
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:190:26)
      at render (node_modules/@testing-library/react/dist/pure.js:292:10)
      at Object.render (src/components/optimized/__tests__/OptimizedImage.test.tsx:26:5)

  console.error
    Warning: React.jsx: type is invalid -- expected a string (for built-in components) or a class/function (for composite components) but got: object.
    
    Check the render method of `OptimizedImage`.
        at src (/workspaces/blipee-os/src/components/optimized/OptimizedImage.tsx:22:3)

      243 |       return;
      244 |     }
    > 245 |     originalError.call(console, ...args);
          |                   ^
      246 |   };
      247 |   
      248 |   console.warn = (...args) => {

      at console.call [as error] (jest.setup.enterprise.js:245:19)
      at printWarning (node_modules/react/cjs/react-jsx-runtime.development.js:87:30)
      at error (node_modules/react/cjs/react-jsx-runtime.development.js:61:7)
      at jsxWithValidation (node_modules/react/cjs/react-jsx-runtime.development.js:1245:7)
      at jsxWithValidationDynamic (node_modules/react/cjs/react-jsx-runtime.development.js:1320:12)
      at _jsx (src/components/optimized/OptimizedImage.tsx:80:7)
      at renderWithHooks (node_modules/react-dom/cjs/react-dom.development.js:15486:18)
      at mountIndeterminateComponent (node_modules/react-dom/cjs/react-dom.development.js:20103:13)
      at beginWork (node_modules/react-dom/cjs/react-dom.development.js:21626:16)
      at beginWork$1 (node_modules/react-dom/cjs/react-dom.development.js:27465:14)
      at performUnitOfWork (node_modules/react-dom/cjs/react-dom.development.js:26599:12)
      at workLoopSync (node_modules/react-dom/cjs/react-dom.development.js:26505:5)
      at renderRootSync (node_modules/react-dom/cjs/react-dom.development.js:26473:7)
      at performConcurrentWorkOnRoot (node_modules/react-dom/cjs/react-dom.development.js:25777:74)
      at flushActQueue (node_modules/react/cjs/react.development.js:2667:24)
      at act (node_modules/react/cjs/react.development.js:2582:11)
      at node_modules/@testing-library/react/dist/act-compat.js:47:25
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:190:26)
      at render (node_modules/@testing-library/react/dist/pure.js:292:10)
      at Object.render (src/components/optimized/__tests__/OptimizedImage.test.tsx:32:5)

  console.error
    Error: Uncaught [Error: Element type is invalid: expected a string (for built-in components) or a class/function (for composite components) but got: object.
    
    Check the render method of `OptimizedImage`.]
        at reportException (/workspaces/blipee-os/node_modules/jsdom/lib/jsdom/living/helpers/runtime-script-errors.js:66:24)
        at innerInvokeEventListeners (/workspaces/blipee-os/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:353:9)
        at invokeEventListeners (/workspaces/blipee-os/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:286:3)
        at HTMLUnknownElementImpl._dispatch (/workspaces/blipee-os/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:233:9)
        at HTMLUnknownElementImpl.dispatchEvent (/workspaces/blipee-os/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:104:17)
        at HTMLUnknownElement.dispatchEvent (/workspaces/blipee-os/node_modules/jsdom/lib/jsdom/living/generated/EventTarget.js:241:34)
        at Object.invokeGuardedCallbackDev (/workspaces/blipee-os/node_modules/react-dom/cjs/react-dom.development.js:4213:16)
        at invokeGuardedCallback (/workspaces/blipee-os/node_modules/react-dom/cjs/react-dom.development.js:4277:31)
        at beginWork$1 (/workspaces/blipee-os/node_modules/react-dom/cjs/react-dom.development.js:27490:7)
        at performUnitOfWork (/workspaces/blipee-os/node_modules/react-dom/cjs/react-dom.development.js:26599:12)
        at workLoopSync (/workspaces/blipee-os/node_modules/react-dom/cjs/react-dom.development.js:26505:5)
        at renderRootSync (/workspaces/blipee-os/node_modules/react-dom/cjs/react-dom.development.js:26473:7)
        at performConcurrentWorkOnRoot (/workspaces/blipee-os/node_modules/react-dom/cjs/react-dom.development.js:25777:74)
        at flushActQueue (/workspaces/blipee-os/node_modules/react/cjs/react.development.js:2667:24)
        at act (/workspaces/blipee-os/node_modules/react/cjs/react.development.js:2582:11)
        at /workspaces/blipee-os/node_modules/@testing-library/react/dist/act-compat.js:47:25
        at renderRoot (/workspaces/blipee-os/node_modules/@testing-library/react/dist/pure.js:190:26)
        at render (/workspaces/blipee-os/node_modules/@testing-library/react/dist/pure.js:292:10)
        at Object.render (/workspaces/blipee-os/src/components/optimized/__tests__/OptimizedImage.test.tsx:32:5)
        at Promise.then.completed (/workspaces/blipee-os/node_modules/jest-circus/build/utils.js:298:28)
        at new Promise (<anonymous>)
        at callAsyncCircusFn (/workspaces/blipee-os/node_modules/jest-circus/build/utils.js:231:10)
        at _callCircusTest (/workspaces/blipee-os/node_modules/jest-circus/build/run.js:316:40)
        at _runTest (/workspaces/blipee-os/node_modules/jest-circus/build/run.js:252:3)
        at _runTestsForDescribeBlock (/workspaces/blipee-os/node_modules/jest-circus/build/run.js:126:9)
        at _runTestsForDescribeBlock (/workspaces/blipee-os/node_modules/jest-circus/build/run.js:121:9)
        at run (/workspaces/blipee-os/node_modules/jest-circus/build/run.js:71:3)
        at runAndTransformResultsToJestFormat (/workspaces/blipee-os/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)
        at jestAdapter (/workspaces/blipee-os/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)
        at runTestInternal (/workspaces/blipee-os/node_modules/jest-runner/build/runTest.js:367:16)
        at runTest (/workspaces/blipee-os/node_modules/jest-runner/build/runTest.js:444:34) {
      detail: Error: Element type is invalid: expected a string (for built-in components) or a class/function (for composite components) but got: object.
      
      Check the render method of `OptimizedImage`.
          at createFiberFromTypeAndProps (/workspaces/blipee-os/node_modules/react-dom/cjs/react-dom.development.js:28478:17)
          at createFiberFromElement (/workspaces/blipee-os/node_modules/react-dom/cjs/react-dom.development.js:28504:15)
          at createChild (/workspaces/blipee-os/node_modules/react-dom/cjs/react-dom.development.js:13345:28)
          at reconcileChildrenArray (/workspaces/blipee-os/node_modules/react-dom/cjs/react-dom.development.js:13640:25)
          at reconcileChildFibers (/workspaces/blipee-os/node_modules/react-dom/cjs/react-dom.development.js:14057:16)
          at reconcileChildren (/workspaces/blipee-os/node_modules/react-dom/cjs/react-dom.development.js:19186:28)
          at updateHostComponent (/workspaces/blipee-os/node_modules/react-dom/cjs/react-dom.development.js:19953:3)
          at beginWork (/workspaces/blipee-os/node_modules/react-dom/cjs/react-dom.development.js:21657:14)
          at HTMLUnknownElement.callCallback (/workspaces/blipee-os/node_modules/react-dom/cjs/react-dom.development.js:4164:14)
          at HTMLUnknownElement.callTheUserObjectsOperation (/workspaces/blipee-os/node_modules/jsdom/lib/jsdom/living/generated/EventListener.js:26:30)
          at innerInvokeEventListeners (/workspaces/blipee-os/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:350:25)
          at invokeEventListeners (/workspaces/blipee-os/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:286:3)
          at HTMLUnknownElementImpl._dispatch (/workspaces/blipee-os/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:233:9)
          at HTMLUnknownElementImpl.dispatchEvent (/workspaces/blipee-os/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:104:17)
          at HTMLUnknownElement.dispatchEvent (/workspaces/blipee-os/node_modules/jsdom/lib/jsdom/living/generated/EventTarget.js:241:34)
          at Object.invokeGuardedCallbackDev (/workspaces/blipee-os/node_modules/react-dom/cjs/react-dom.development.js:4213:16)
          at invokeGuardedCallback (/workspaces/blipee-os/node_modules/react-dom/cjs/react-dom.development.js:4277:31)
          at beginWork$1 (/workspaces/blipee-os/node_modules/react-dom/cjs/react-dom.development.js:27490:7)
          at performUnitOfWork (/workspaces/blipee-os/node_modules/react-dom/cjs/react-dom.development.js:26599:12)
          at workLoopSync (/workspaces/blipee-os/node_modules/react-dom/cjs/react-dom.development.js:26505:5)
          at renderRootSync (/workspaces/blipee-os/node_modules/react-dom/cjs/react-dom.development.js:26473:7)
          at performConcurrentWorkOnRoot (/workspaces/blipee-os/node_modules/react-dom/cjs/react-dom.development.js:25777:74)
          at flushActQueue (/workspaces/blipee-os/node_modules/react/cjs/react.development.js:2667:24)
          at act (/workspaces/blipee-os/node_modules/react/cjs/react.development.js:2582:11)
          at /workspaces/blipee-os/node_modules/@testing-library/react/dist/act-compat.js:47:25
          at renderRoot (/workspaces/blipee-os/node_modules/@testing-library/react/dist/pure.js:190:26)
          at render (/workspaces/blipee-os/node_modules/@testing-library/react/dist/pure.js:292:10)
          at Object.render (/workspaces/blipee-os/src/components/optimized/__tests__/OptimizedImage.test.tsx:32:5)
          at Promise.then.completed (/workspaces/blipee-os/node_modules/jest-circus/build/utils.js:298:28)
          at new Promise (<anonymous>)
          at callAsyncCircusFn (/workspaces/blipee-os/node_modules/jest-circus/build/utils.js:231:10)
          at _callCircusTest (/workspaces/blipee-os/node_modules/jest-circus/build/run.js:316:40)
          at _runTest (/workspaces/blipee-os/node_modules/jest-circus/build/run.js:252:3)
          at _runTestsForDescribeBlock (/workspaces/blipee-os/node_modules/jest-circus/build/run.js:126:9)
          at _runTestsForDescribeBlock (/workspaces/blipee-os/node_modules/jest-circus/build/run.js:121:9)
          at run (/workspaces/blipee-os/node_modules/jest-circus/build/run.js:71:3)
          at runAndTransformResultsToJestFormat (/workspaces/blipee-os/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)
          at jestAdapter (/workspaces/blipee-os/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)
          at runTestInternal (/workspaces/blipee-os/node_modules/jest-runner/build/runTest.js:367:16)
          at runTest (/workspaces/blipee-os/node_modules/jest-runner/build/runTest.js:444:34),
      type: 'unhandled exception'
    }

      243 |       return;
      244 |     }
    > 245 |     originalError.call(console, ...args);
          |                   ^
      246 |   };
      247 |   
      248 |   console.warn = (...args) => {

      at console.call [as error] (jest.setup.enterprise.js:245:19)
      at VirtualConsole.<anonymous> (node_modules/@jest/environment-jsdom-abstract/build/index.js:78:23)
      at reportException (node_modules/jsdom/lib/jsdom/living/helpers/runtime-script-errors.js:70:28)
      at innerInvokeEventListeners (node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:353:9)
      at invokeEventListeners (node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:286:3)
      at HTMLUnknownElementImpl._dispatch (node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:233:9)
      at HTMLUnknownElementImpl.dispatchEvent (node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:104:17)
      at HTMLUnknownElement.dispatchEvent (node_modules/jsdom/lib/jsdom/living/generated/EventTarget.js:241:34)
      at Object.invokeGuardedCallbackDev (node_modules/react-dom/cjs/react-dom.development.js:4213:16)
      at invokeGuardedCallback (node_modules/react-dom/cjs/react-dom.development.js:4277:31)
      at beginWork$1 (node_modules/react-dom/cjs/react-dom.development.js:27490:7)
      at performUnitOfWork (node_modules/react-dom/cjs/react-dom.development.js:26599:12)
      at workLoopSync (node_modules/react-dom/cjs/react-dom.development.js:26505:5)
      at renderRootSync (node_modules/react-dom/cjs/react-dom.development.js:26473:7)
      at performConcurrentWorkOnRoot (node_modules/react-dom/cjs/react-dom.development.js:25777:74)
      at flushActQueue (node_modules/react/cjs/react.development.js:2667:24)
      at act (node_modules/react/cjs/react.development.js:2582:11)
      at node_modules/@testing-library/react/dist/act-compat.js:47:25
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:190:26)
      at render (node_modules/@testing-library/react/dist/pure.js:292:10)
      at Object.render (src/components/optimized/__tests__/OptimizedImage.test.tsx:32:5)

  console.error
    Warning: React.jsx: type is invalid -- expected a string (for built-in components) or a class/function (for composite components) but got: object.
    
    Check the render method of `OptimizedImage`.
        at src (/workspaces/blipee-os/src/components/optimized/OptimizedImage.tsx:22:3)

      243 |       return;
      244 |     }
    > 245 |     originalError.call(console, ...args);
          |                   ^
      246 |   };
      247 |   
      248 |   console.warn = (...args) => {

      at console.call [as error] (jest.setup.enterprise.js:245:19)
      at printWarning (node_modules/react/cjs/react-jsx-runtime.development.js:87:30)
      at error (node_modules/react/cjs/react-jsx-runtime.development.js:61:7)
      at jsxWithValidation (node_modules/react/cjs/react-jsx-runtime.development.js:1245:7)
      at jsxWithValidationDynamic (node_modules/react/cjs/react-jsx-runtime.development.js:1320:12)
      at _jsx (src/components/optimized/OptimizedImage.tsx:80:7)
      at renderWithHooks (node_modules/react-dom/cjs/react-dom.development.js:15486:18)
      at mountIndeterminateComponent (node_modules/react-dom/cjs/react-dom.development.js:20103:13)
      at beginWork (node_modules/react-dom/cjs/react-dom.development.js:21626:16)
      at beginWork$1 (node_modules/react-dom/cjs/react-dom.development.js:27465:14)
      at performUnitOfWork (node_modules/react-dom/cjs/react-dom.development.js:26599:12)
      at workLoopSync (node_modules/react-dom/cjs/react-dom.development.js:26505:5)
      at renderRootSync (node_modules/react-dom/cjs/react-dom.development.js:26473:7)
      at recoverFromConcurrentError (node_modules/react-dom/cjs/react-dom.development.js:25889:20)
      at performConcurrentWorkOnRoot (node_modules/react-dom/cjs/react-dom.development.js:25789:22)
      at flushActQueue (node_modules/react/cjs/react.development.js:2667:24)
      at act (node_modules/react/cjs/react.development.js:2582:11)
      at node_modules/@testing-library/react/dist/act-compat.js:47:25
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:190:26)
      at render (node_modules/@testing-library/react/dist/pure.js:292:10)
      at Object.render (src/components/optimized/__tests__/OptimizedImage.test.tsx:32:5)

  console.error
    Error: Uncaught [Error: Element type is invalid: expected a string (for built-in components) or a class/function (for composite components) but got: object.
    
    Check the render method of `OptimizedImage`.]
        at reportException (/workspaces/blipee-os/node_modules/jsdom/lib/jsdom/living/helpers/runtime-script-errors.js:66:24)
        at innerInvokeEventListeners (/workspaces/blipee-os/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:353:9)
        at invokeEventListeners (/workspaces/blipee-os/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:286:3)
        at HTMLUnknownElementImpl._dispatch (/workspaces/blipee-os/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:233:9)
        at HTMLUnknownElementImpl.dispatchEvent (/workspaces/blipee-os/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:104:17)
        at HTMLUnknownElement.dispatchEvent (/workspaces/blipee-os/node_modules/jsdom/lib/jsdom/living/generated/EventTarget.js:241:34)
        at Object.invokeGuardedCallbackDev (/workspaces/blipee-os/node_modules/react-dom/cjs/react-dom.development.js:4213:16)
        at invokeGuardedCallback (/workspaces/blipee-os/node_modules/react-dom/cjs/react-dom.development.js:4277:31)
        at beginWork$1 (/workspaces/blipee-os/node_modules/react-dom/cjs/react-dom.development.js:27490:7)
        at performUnitOfWork (/workspaces/blipee-os/node_modules/react-dom/cjs/react-dom.development.js:26599:12)
        at workLoopSync (/workspaces/blipee-os/node_modules/react-dom/cjs/react-dom.development.js:26505:5)
        at renderRootSync (/workspaces/blipee-os/node_modules/react-dom/cjs/react-dom.development.js:26473:7)
        at recoverFromConcurrentError (/workspaces/blipee-os/node_modules/react-dom/cjs/react-dom.development.js:25889:20)
        at performConcurrentWorkOnRoot (/workspaces/blipee-os/node_modules/react-dom/cjs/react-dom.development.js:25789:22)
        at flushActQueue (/workspaces/blipee-os/node_modules/react/cjs/react.development.js:2667:24)
        at act (/workspaces/blipee-os/node_modules/react/cjs/react.development.js:2582:11)
        at /workspaces/blipee-os/node_modules/@testing-library/react/dist/act-compat.js:47:25
        at renderRoot (/workspaces/blipee-os/node_modules/@testing-library/react/dist/pure.js:190:26)
        at render (/workspaces/blipee-os/node_modules/@testing-library/react/dist/pure.js:292:10)
        at Object.render (/workspaces/blipee-os/src/components/optimized/__tests__/OptimizedImage.test.tsx:32:5)
        at Promise.then.completed (/workspaces/blipee-os/node_modules/jest-circus/build/utils.js:298:28)
        at new Promise (<anonymous>)
        at callAsyncCircusFn (/workspaces/blipee-os/node_modules/jest-circus/build/utils.js:231:10)
        at _callCircusTest (/workspaces/blipee-os/node_modules/jest-circus/build/run.js:316:40)
        at _runTest (/workspaces/blipee-os/node_modules/jest-circus/build/run.js:252:3)
        at _runTestsForDescribeBlock (/workspaces/blipee-os/node_modules/jest-circus/build/run.js:126:9)
        at _runTestsForDescribeBlock (/workspaces/blipee-os/node_modules/jest-circus/build/run.js:121:9)
        at run (/workspaces/blipee-os/node_modules/jest-circus/build/run.js:71:3)
        at runAndTransformResultsToJestFormat (/workspaces/blipee-os/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)
        at jestAdapter (/workspaces/blipee-os/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)
        at runTestInternal (/workspaces/blipee-os/node_modules/jest-runner/build/runTest.js:367:16)
        at runTest (/workspaces/blipee-os/node_modules/jest-runner/build/runTest.js:444:34) {
      detail: Error: Element type is invalid: expected a string (for built-in components) or a class/function (for composite components) but got: object.
      
      Check the render method of `OptimizedImage`.
          at createFiberFromTypeAndProps (/workspaces/blipee-os/node_modules/react-dom/cjs/react-dom.development.js:28478:17)
          at createFiberFromElement (/workspaces/blipee-os/node_modules/react-dom/cjs/react-dom.development.js:28504:15)
          at createChild (/workspaces/blipee-os/node_modules/react-dom/cjs/react-dom.development.js:13345:28)
          at reconcileChildrenArray (/workspaces/blipee-os/node_modules/react-dom/cjs/react-dom.development.js:13640:25)
          at reconcileChildFibers (/workspaces/blipee-os/node_modules/react-dom/cjs/react-dom.development.js:14057:16)
          at reconcileChildren (/workspaces/blipee-os/node_modules/react-dom/cjs/react-dom.development.js:19186:28)
          at updateHostComponent (/workspaces/blipee-os/node_modules/react-dom/cjs/react-dom.development.js:19953:3)
          at beginWork (/workspaces/blipee-os/node_modules/react-dom/cjs/react-dom.development.js:21657:14)
          at HTMLUnknownElement.callCallback (/workspaces/blipee-os/node_modules/react-dom/cjs/react-dom.development.js:4164:14)
          at HTMLUnknownElement.callTheUserObjectsOperation (/workspaces/blipee-os/node_modules/jsdom/lib/jsdom/living/generated/EventListener.js:26:30)
          at innerInvokeEventListeners (/workspaces/blipee-os/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:350:25)
          at invokeEventListeners (/workspaces/blipee-os/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:286:3)
          at HTMLUnknownElementImpl._dispatch (/workspaces/blipee-os/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:233:9)
          at HTMLUnknownElementImpl.dispatchEvent (/workspaces/blipee-os/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:104:17)
          at HTMLUnknownElement.dispatchEvent (/workspaces/blipee-os/node_modules/jsdom/lib/jsdom/living/generated/EventTarget.js:241:34)
          at Object.invokeGuardedCallbackDev (/workspaces/blipee-os/node_modules/react-dom/cjs/react-dom.development.js:4213:16)
          at invokeGuardedCallback (/workspaces/blipee-os/node_modules/react-dom/cjs/react-dom.development.js:4277:31)
          at beginWork$1 (/workspaces/blipee-os/node_modules/react-dom/cjs/react-dom.development.js:27490:7)
          at performUnitOfWork (/workspaces/blipee-os/node_modules/react-dom/cjs/react-dom.development.js:26599:12)
          at workLoopSync (/workspaces/blipee-os/node_modules/react-dom/cjs/react-dom.development.js:26505:5)
          at renderRootSync (/workspaces/blipee-os/node_modules/react-dom/cjs/react-dom.development.js:26473:7)
          at recoverFromConcurrentError (/workspaces/blipee-os/node_modules/react-dom/cjs/react-dom.development.js:25889:20)
          at performConcurrentWorkOnRoot (/workspaces/blipee-os/node_modules/react-dom/cjs/react-dom.development.js:25789:22)
          at flushActQueue (/workspaces/blipee-os/node_modules/react/cjs/react.development.js:2667:24)
          at act (/workspaces/blipee-os/node_modules/react/cjs/react.development.js:2582:11)
          at /workspaces/blipee-os/node_modules/@testing-library/react/dist/act-compat.js:47:25
          at renderRoot (/workspaces/blipee-os/node_modules/@testing-library/react/dist/pure.js:190:26)
          at render (/workspaces/blipee-os/node_modules/@testing-library/react/dist/pure.js:292:10)
          at Object.render (/workspaces/blipee-os/src/components/optimized/__tests__/OptimizedImage.test.tsx:32:5)
          at Promise.then.completed (/workspaces/blipee-os/node_modules/jest-circus/build/utils.js:298:28)
          at new Promise (<anonymous>)
          at callAsyncCircusFn (/workspaces/blipee-os/node_modules/jest-circus/build/utils.js:231:10)
          at _callCircusTest (/workspaces/blipee-os/node_modules/jest-circus/build/run.js:316:40)
          at _runTest (/workspaces/blipee-os/node_modules/jest-circus/build/run.js:252:3)
          at _runTestsForDescribeBlock (/workspaces/blipee-os/node_modules/jest-circus/build/run.js:126:9)
          at _runTestsForDescribeBlock (/workspaces/blipee-os/node_modules/jest-circus/build/run.js:121:9)
          at run (/workspaces/blipee-os/node_modules/jest-circus/build/run.js:71:3)
          at runAndTransformResultsToJestFormat (/workspaces/blipee-os/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)
          at jestAdapter (/workspaces/blipee-os/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)
          at runTestInternal (/workspaces/blipee-os/node_modules/jest-runner/build/runTest.js:367:16)
          at runTest (/workspaces/blipee-os/node_modules/jest-runner/build/runTest.js:444:34),
      type: 'unhandled exception'
    }

      243 |       return;
      244 |     }
    > 245 |     originalError.call(console, ...args);
          |                   ^
      246 |   };
      247 |   
      248 |   console.warn = (...args) => {

      at console.call [as error] (jest.setup.enterprise.js:245:19)
      at VirtualConsole.<anonymous> (node_modules/@jest/environment-jsdom-abstract/build/index.js:78:23)
      at reportException (node_modules/jsdom/lib/jsdom/living/helpers/runtime-script-errors.js:70:28)
      at innerInvokeEventListeners (node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:353:9)
      at invokeEventListeners (node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:286:3)
      at HTMLUnknownElementImpl._dispatch (node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:233:9)
      at HTMLUnknownElementImpl.dispatchEvent (node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:104:17)
      at HTMLUnknownElement.dispatchEvent (node_modules/jsdom/lib/jsdom/living/generated/EventTarget.js:241:34)
      at Object.invokeGuardedCallbackDev (node_modules/react-dom/cjs/react-dom.development.js:4213:16)
      at invokeGuardedCallback (node_modules/react-dom/cjs/react-dom.development.js:4277:31)
      at beginWork$1 (node_modules/react-dom/cjs/react-dom.development.js:27490:7)
      at performUnitOfWork (node_modules/react-dom/cjs/react-dom.development.js:26599:12)
      at workLoopSync (node_modules/react-dom/cjs/react-dom.development.js:26505:5)
      at renderRootSync (node_modules/react-dom/cjs/react-dom.development.js:26473:7)
      at recoverFromConcurrentError (node_modules/react-dom/cjs/react-dom.development.js:25889:20)
      at performConcurrentWorkOnRoot (node_modules/react-dom/cjs/react-dom.development.js:25789:22)
      at flushActQueue (node_modules/react/cjs/react.development.js:2667:24)
      at act (node_modules/react/cjs/react.development.js:2582:11)
      at node_modules/@testing-library/react/dist/act-compat.js:47:25
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:190:26)
      at render (node_modules/@testing-library/react/dist/pure.js:292:10)
      at Object.render (src/components/optimized/__tests__/OptimizedImage.test.tsx:32:5)

  console.error
    The above error occurred in the <div> component:
    
        at div
        at src (/workspaces/blipee-os/src/components/optimized/OptimizedImage.tsx:22:3)
    
    Consider adding an error boundary to your tree to customize error handling behavior.
    Visit https://reactjs.org/link/error-boundaries to learn more about error boundaries.

      243 |       return;
      244 |     }
    > 245 |     originalError.call(console, ...args);
          |                   ^
      246 |   };
      247 |   
      248 |   console.warn = (...args) => {

      at console.call [as error] (jest.setup.enterprise.js:245:19)
      at logCapturedError (node_modules/react-dom/cjs/react-dom.development.js:18704:23)
      at update.callback (node_modules/react-dom/cjs/react-dom.development.js:18737:5)
      at callCallback (node_modules/react-dom/cjs/react-dom.development.js:15036:12)
      at commitUpdateQueue (node_modules/react-dom/cjs/react-dom.development.js:15057:9)
      at commitLayoutEffectOnFiber (node_modules/react-dom/cjs/react-dom.development.js:23430:13)
      at commitLayoutMountEffects_complete (node_modules/react-dom/cjs/react-dom.development.js:24727:9)
      at commitLayoutEffects_begin (node_modules/react-dom/cjs/react-dom.development.js:24713:7)
      at commitLayoutEffects (node_modules/react-dom/cjs/react-dom.development.js:24651:3)
      at commitRootImpl (node_modules/react-dom/cjs/react-dom.development.js:26862:5)
      at commitRoot (node_modules/react-dom/cjs/react-dom.development.js:26721:5)
      at finishConcurrentRender (node_modules/react-dom/cjs/react-dom.development.js:25931:9)
      at performConcurrentWorkOnRoot (node_modules/react-dom/cjs/react-dom.development.js:25848:7)
      at flushActQueue (node_modules/react/cjs/react.development.js:2667:24)
      at act (node_modules/react/cjs/react.development.js:2582:11)
      at node_modules/@testing-library/react/dist/act-compat.js:47:25
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:190:26)
      at render (node_modules/@testing-library/react/dist/pure.js:292:10)
      at Object.render (src/components/optimized/__tests__/OptimizedImage.test.tsx:32:5)

  console.error
    Warning: React.jsx: type is invalid -- expected a string (for built-in components) or a class/function (for composite components) but got: object.
    
    Check the render method of `OptimizedImage`.
        at src (/workspaces/blipee-os/src/components/optimized/OptimizedImage.tsx:22:3)

      243 |       return;
      244 |     }
    > 245 |     originalError.call(console, ...args);
          |                   ^
      246 |   };
      247 |   
      248 |   console.warn = (...args) => {

      at console.call [as error] (jest.setup.enterprise.js:245:19)
      at printWarning (node_modules/react/cjs/react-jsx-runtime.development.js:87:30)
      at error (node_modules/react/cjs/react-jsx-runtime.development.js:61:7)
      at jsxWithValidation (node_modules/react/cjs/react-jsx-runtime.development.js:1245:7)
      at jsxWithValidationDynamic (node_modules/react/cjs/react-jsx-runtime.development.js:1320:12)
      at _jsx (src/components/optimized/OptimizedImage.tsx:80:7)
      at renderWithHooks (node_modules/react-dom/cjs/react-dom.development.js:15486:18)
      at mountIndeterminateComponent (node_modules/react-dom/cjs/react-dom.development.js:20103:13)
      at beginWork (node_modules/react-dom/cjs/react-dom.development.js:21626:16)
      at beginWork$1 (node_modules/react-dom/cjs/react-dom.development.js:27465:14)
      at performUnitOfWork (node_modules/react-dom/cjs/react-dom.development.js:26599:12)
      at workLoopSync (node_modules/react-dom/cjs/react-dom.development.js:26505:5)
      at renderRootSync (node_modules/react-dom/cjs/react-dom.development.js:26473:7)
      at performConcurrentWorkOnRoot (node_modules/react-dom/cjs/react-dom.development.js:25777:74)
      at flushActQueue (node_modules/react/cjs/react.development.js:2667:24)
      at act (node_modules/react/cjs/react.development.js:2582:11)
      at node_modules/@testing-library/react/dist/act-compat.js:47:25
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:190:26)
      at render (node_modules/@testing-library/react/dist/pure.js:292:10)
      at Object.render (src/components/optimized/__tests__/OptimizedImage.test.tsx:39:5)

  console.error
    Error: Uncaught [Error: Element type is invalid: expected a string (for built-in components) or a class/function (for composite components) but got: object.
    
    Check the render method of `OptimizedImage`.]
        at reportException (/workspaces/blipee-os/node_modules/jsdom/lib/jsdom/living/helpers/runtime-script-errors.js:66:24)
        at innerInvokeEventListeners (/workspaces/blipee-os/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:353:9)
        at invokeEventListeners (/workspaces/blipee-os/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:286:3)
        at HTMLUnknownElementImpl._dispatch (/workspaces/blipee-os/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:233:9)
        at HTMLUnknownElementImpl.dispatchEvent (/workspaces/blipee-os/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:104:17)
        at HTMLUnknownElement.dispatchEvent (/workspaces/blipee-os/node_modules/jsdom/lib/jsdom/living/generated/EventTarget.js:241:34)
        at Object.invokeGuardedCallbackDev (/workspaces/blipee-os/node_modules/react-dom/cjs/react-dom.development.js:4213:16)
        at invokeGuardedCallback (/workspaces/blipee-os/node_modules/react-dom/cjs/react-dom.development.js:4277:31)
        at beginWork$1 (/workspaces/blipee-os/node_modules/react-dom/cjs/react-dom.development.js:27490:7)
        at performUnitOfWork (/workspaces/blipee-os/node_modules/react-dom/cjs/react-dom.development.js:26599:12)
        at workLoopSync (/workspaces/blipee-os/node_modules/react-dom/cjs/react-dom.development.js:26505:5)
        at renderRootSync (/workspaces/blipee-os/node_modules/react-dom/cjs/react-dom.development.js:26473:7)
        at performConcurrentWorkOnRoot (/workspaces/blipee-os/node_modules/react-dom/cjs/react-dom.development.js:25777:74)
        at flushActQueue (/workspaces/blipee-os/node_modules/react/cjs/react.development.js:2667:24)
        at act (/workspaces/blipee-os/node_modules/react/cjs/react.development.js:2582:11)
        at /workspaces/blipee-os/node_modules/@testing-library/react/dist/act-compat.js:47:25
        at renderRoot (/workspaces/blipee-os/node_modules/@testing-library/react/dist/pure.js:190:26)
        at render (/workspaces/blipee-os/node_modules/@testing-library/react/dist/pure.js:292:10)
        at Object.render (/workspaces/blipee-os/src/components/optimized/__tests__/OptimizedImage.test.tsx:39:5)
        at Promise.then.completed (/workspaces/blipee-os/node_modules/jest-circus/build/utils.js:298:28)
        at new Promise (<anonymous>)
        at callAsyncCircusFn (/workspaces/blipee-os/node_modules/jest-circus/build/utils.js:231:10)
        at _callCircusTest (/workspaces/blipee-os/node_modules/jest-circus/build/run.js:316:40)
        at _runTest (/workspaces/blipee-os/node_modules/jest-circus/build/run.js:252:3)
        at _runTestsForDescribeBlock (/workspaces/blipee-os/node_modules/jest-circus/build/run.js:126:9)
        at _runTestsForDescribeBlock (/workspaces/blipee-os/node_modules/jest-circus/build/run.js:121:9)
        at run (/workspaces/blipee-os/node_modules/jest-circus/build/run.js:71:3)
        at runAndTransformResultsToJestFormat (/workspaces/blipee-os/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)
        at jestAdapter (/workspaces/blipee-os/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)
        at runTestInternal (/workspaces/blipee-os/node_modules/jest-runner/build/runTest.js:367:16)
        at runTest (/workspaces/blipee-os/node_modules/jest-runner/build/runTest.js:444:34) {
      detail: Error: Element type is invalid: expected a string (for built-in components) or a class/function (for composite components) but got: object.
      
      Check the render method of `OptimizedImage`.
          at createFiberFromTypeAndProps (/workspaces/blipee-os/node_modules/react-dom/cjs/react-dom.development.js:28478:17)
          at createFiberFromElement (/workspaces/blipee-os/node_modules/react-dom/cjs/react-dom.development.js:28504:15)
          at createChild (/workspaces/blipee-os/node_modules/react-dom/cjs/react-dom.development.js:13345:28)
          at reconcileChildrenArray (/workspaces/blipee-os/node_modules/react-dom/cjs/react-dom.development.js:13640:25)
          at reconcileChildFibers (/workspaces/blipee-os/node_modules/react-dom/cjs/react-dom.development.js:14057:16)
          at reconcileChildren (/workspaces/blipee-os/node_modules/react-dom/cjs/react-dom.development.js:19186:28)
          at updateHostComponent (/workspaces/blipee-os/node_modules/react-dom/cjs/react-dom.development.js:19953:3)
          at beginWork (/workspaces/blipee-os/node_modules/react-dom/cjs/react-dom.development.js:21657:14)
          at HTMLUnknownElement.callCallback (/workspaces/blipee-os/node_modules/react-dom/cjs/react-dom.development.js:4164:14)
          at HTMLUnknownElement.callTheUserObjectsOperation (/workspaces/blipee-os/node_modules/jsdom/lib/jsdom/living/generated/EventListener.js:26:30)
          at innerInvokeEventListeners (/workspaces/blipee-os/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:350:25)
          at invokeEventListeners (/workspaces/blipee-os/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:286:3)
          at HTMLUnknownElementImpl._dispatch (/workspaces/blipee-os/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:233:9)
          at HTMLUnknownElementImpl.dispatchEvent (/workspaces/blipee-os/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:104:17)
          at HTMLUnknownElement.dispatchEvent (/workspaces/blipee-os/node_modules/jsdom/lib/jsdom/living/generated/EventTarget.js:241:34)
          at Object.invokeGuardedCallbackDev (/workspaces/blipee-os/node_modules/react-dom/cjs/react-dom.development.js:4213:16)
          at invokeGuardedCallback (/workspaces/blipee-os/node_modules/react-dom/cjs/react-dom.development.js:4277:31)
          at beginWork$1 (/workspaces/blipee-os/node_modules/react-dom/cjs/react-dom.development.js:27490:7)
          at performUnitOfWork (/workspaces/blipee-os/node_modules/react-dom/cjs/react-dom.development.js:26599:12)
          at workLoopSync (/workspaces/blipee-os/node_modules/react-dom/cjs/react-dom.development.js:26505:5)
          at renderRootSync (/workspaces/blipee-os/node_modules/react-dom/cjs/react-dom.development.js:26473:7)
          at performConcurrentWorkOnRoot (/workspaces/blipee-os/node_modules/react-dom/cjs/react-dom.development.js:25777:74)
          at flushActQueue (/workspaces/blipee-os/node_modules/react/cjs/react.development.js:2667:24)
          at act (/workspaces/blipee-os/node_modules/react/cjs/react.development.js:2582:11)
          at /workspaces/blipee-os/node_modules/@testing-library/react/dist/act-compat.js:47:25
          at renderRoot (/workspaces/blipee-os/node_modules/@testing-library/react/dist/pure.js:190:26)
          at render (/workspaces/blipee-os/node_modules/@testing-library/react/dist/pure.js:292:10)
          at Object.render (/workspaces/blipee-os/src/components/optimized/__tests__/OptimizedImage.test.tsx:39:5)
          at Promise.then.completed (/workspaces/blipee-os/node_modules/jest-circus/build/utils.js:298:28)
          at new Promise (<anonymous>)
          at callAsyncCircusFn (/workspaces/blipee-os/node_modules/jest-circus/build/utils.js:231:10)
          at _callCircusTest (/workspaces/blipee-os/node_modules/jest-circus/build/run.js:316:40)
          at _runTest (/workspaces/blipee-os/node_modules/jest-circus/build/run.js:252:3)
          at _runTestsForDescribeBlock (/workspaces/blipee-os/node_modules/jest-circus/build/run.js:126:9)
          at _runTestsForDescribeBlock (/workspaces/blipee-os/node_modules/jest-circus/build/run.js:121:9)
          at run (/workspaces/blipee-os/node_modules/jest-circus/build/run.js:71:3)
          at runAndTransformResultsToJestFormat (/workspaces/blipee-os/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)
          at jestAdapter (/workspaces/blipee-os/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)
          at runTestInternal (/workspaces/blipee-os/node_modules/jest-runner/build/runTest.js:367:16)
          at runTest (/workspaces/blipee-os/node_modules/jest-runner/build/runTest.js:444:34),
      type: 'unhandled exception'
    }

      243 |       return;
      244 |     }
    > 245 |     originalError.call(console, ...args);
          |                   ^
      246 |   };
      247 |   
      248 |   console.warn = (...args) => {

      at console.call [as error] (jest.setup.enterprise.js:245:19)
      at VirtualConsole.<anonymous> (node_modules/@jest/environment-jsdom-abstract/build/index.js:78:23)
      at reportException (node_modules/jsdom/lib/jsdom/living/helpers/runtime-script-errors.js:70:28)
      at innerInvokeEventListeners (node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:353:9)
      at invokeEventListeners (node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:286:3)
      at HTMLUnknownElementImpl._dispatch (node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:233:9)
      at HTMLUnknownElementImpl.dispatchEvent (node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:104:17)
      at HTMLUnknownElement.dispatchEvent (node_modules/jsdom/lib/jsdom/living/generated/EventTarget.js:241:34)
      at Object.invokeGuardedCallbackDev (node_modules/react-dom/cjs/react-dom.development.js:4213:16)
      at invokeGuardedCallback (node_modules/react-dom/cjs/react-dom.development.js:4277:31)
      at beginWork$1 (node_modules/react-dom/cjs/react-dom.development.js:27490:7)
      at performUnitOfWork (node_modules/react-dom/cjs/react-dom.development.js:26599:12)
      at workLoopSync (node_modules/react-dom/cjs/react-dom.development.js:26505:5)
      at renderRootSync (node_modules/react-dom/cjs/react-dom.development.js:26473:7)
      at performConcurrentWorkOnRoot (node_modules/react-dom/cjs/react-dom.development.js:25777:74)
      at flushActQueue (node_modules/react/cjs/react.development.js:2667:24)
      at act (node_modules/react/cjs/react.development.js:2582:11)
      at node_modules/@testing-library/react/dist/act-compat.js:47:25
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:190:26)
      at render (node_modules/@testing-library/react/dist/pure.js:292:10)
      at Object.render (src/components/optimized/__tests__/OptimizedImage.test.tsx:39:5)

  console.error
    Warning: React.jsx: type is invalid -- expected a string (for built-in components) or a class/function (for composite components) but got: object.
    
    Check the render method of `OptimizedImage`.
        at src (/workspaces/blipee-os/src/components/optimized/OptimizedImage.tsx:22:3)

      243 |       return;
      244 |     }
    > 245 |     originalError.call(console, ...args);
          |                   ^
      246 |   };
      247 |   
      248 |   console.warn = (...args) => {

      at console.call [as error] (jest.setup.enterprise.js:245:19)
      at printWarning (node_modules/react/cjs/react-jsx-runtime.development.js:87:30)
      at error (node_modules/react/cjs/react-jsx-runtime.development.js:61:7)
      at jsxWithValidation (node_modules/react/cjs/react-jsx-runtime.development.js:1245:7)
      at jsxWithValidationDynamic (node_modules/react/cjs/react-jsx-runtime.development.js:1320:12)
      at _jsx (src/components/optimized/OptimizedImage.tsx:80:7)
      at renderWithHooks (node_modules/react-dom/cjs/react-dom.development.js:15486:18)
      at mountIndeterminateComponent (node_modules/react-dom/cjs/react-dom.development.js:20103:13)
      at beginWork (node_modules/react-dom/cjs/react-dom.development.js:21626:16)
      at beginWork$1 (node_modules/react-dom/cjs/react-dom.development.js:27465:14)
      at performUnitOfWork (node_modules/react-dom/cjs/react-dom.development.js:26599:12)
      at workLoopSync (node_modules/react-dom/cjs/react-dom.development.js:26505:5)
      at renderRootSync (node_modules/react-dom/cjs/react-dom.development.js:26473:7)
      at recoverFromConcurrentError (node_modules/react-dom/cjs/react-dom.development.js:25889:20)
      at performConcurrentWorkOnRoot (node_modules/react-dom/cjs/react-dom.development.js:25789:22)
      at flushActQueue (node_modules/react/cjs/react.development.js:2667:24)
      at act (node_modules/react/cjs/react.development.js:2582:11)
      at node_modules/@testing-library/react/dist/act-compat.js:47:25
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:190:26)
      at render (node_modules/@testing-library/react/dist/pure.js:292:10)
      at Object.render (src/components/optimized/__tests__/OptimizedImage.test.tsx:39:5)

  console.error
    Error: Uncaught [Error: Element type is invalid: expected a string (for built-in components) or a class/function (for composite components) but got: object.
    
    Check the render method of `OptimizedImage`.]
        at reportException (/workspaces/blipee-os/node_modules/jsdom/lib/jsdom/living/helpers/runtime-script-errors.js:66:24)
        at innerInvokeEventListeners (/workspaces/blipee-os/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:353:9)
        at invokeEventListeners (/workspaces/blipee-os/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:286:3)
        at HTMLUnknownElementImpl._dispatch (/workspaces/blipee-os/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:233:9)
        at HTMLUnknownElementImpl.dispatchEvent (/workspaces/blipee-os/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:104:17)
        at HTMLUnknownElement.dispatchEvent (/workspaces/blipee-os/node_modules/jsdom/lib/jsdom/living/generated/EventTarget.js:241:34)
        at Object.invokeGuardedCallbackDev (/workspaces/blipee-os/node_modules/react-dom/cjs/react-dom.development.js:4213:16)
        at invokeGuardedCallback (/workspaces/blipee-os/node_modules/react-dom/cjs/react-dom.development.js:4277:31)
        at beginWork$1 (/workspaces/blipee-os/node_modules/react-dom/cjs/react-dom.development.js:27490:7)
        at performUnitOfWork (/workspaces/blipee-os/node_modules/react-dom/cjs/react-dom.development.js:26599:12)
        at workLoopSync (/workspaces/blipee-os/node_modules/react-dom/cjs/react-dom.development.js:26505:5)
        at renderRootSync (/workspaces/blipee-os/node_modules/react-dom/cjs/react-dom.development.js:26473:7)
        at recoverFromConcurrentError (/workspaces/blipee-os/node_modules/react-dom/cjs/react-dom.development.js:25889:20)
        at performConcurrentWorkOnRoot (/workspaces/blipee-os/node_modules/react-dom/cjs/react-dom.development.js:25789:22)
        at flushActQueue (/workspaces/blipee-os/node_modules/react/cjs/react.development.js:2667:24)
        at act (/workspaces/blipee-os/node_modules/react/cjs/react.development.js:2582:11)
        at /workspaces/blipee-os/node_modules/@testing-library/react/dist/act-compat.js:47:25
        at renderRoot (/workspaces/blipee-os/node_modules/@testing-library/react/dist/pure.js:190:26)
        at render (/workspaces/blipee-os/node_modules/@testing-library/react/dist/pure.js:292:10)
        at Object.render (/workspaces/blipee-os/src/components/optimized/__tests__/OptimizedImage.test.tsx:39:5)
        at Promise.then.completed (/workspaces/blipee-os/node_modules/jest-circus/build/utils.js:298:28)
        at new Promise (<anonymous>)
        at callAsyncCircusFn (/workspaces/blipee-os/node_modules/jest-circus/build/utils.js:231:10)
        at _callCircusTest (/workspaces/blipee-os/node_modules/jest-circus/build/run.js:316:40)
        at _runTest (/workspaces/blipee-os/node_modules/jest-circus/build/run.js:252:3)
        at _runTestsForDescribeBlock (/workspaces/blipee-os/node_modules/jest-circus/build/run.js:126:9)
        at _runTestsForDescribeBlock (/workspaces/blipee-os/node_modules/jest-circus/build/run.js:121:9)
        at run (/workspaces/blipee-os/node_modules/jest-circus/build/run.js:71:3)
        at runAndTransformResultsToJestFormat (/workspaces/blipee-os/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)
        at jestAdapter (/workspaces/blipee-os/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)
        at runTestInternal (/workspaces/blipee-os/node_modules/jest-runner/build/runTest.js:367:16)
        at runTest (/workspaces/blipee-os/node_modules/jest-runner/build/runTest.js:444:34) {
      detail: Error: Element type is invalid: expected a string (for built-in components) or a class/function (for composite components) but got: object.
      
      Check the render method of `OptimizedImage`.
          at createFiberFromTypeAndProps (/workspaces/blipee-os/node_modules/react-dom/cjs/react-dom.development.js:28478:17)
          at createFiberFromElement (/workspaces/blipee-os/node_modules/react-dom/cjs/react-dom.development.js:28504:15)
          at createChild (/workspaces/blipee-os/node_modules/react-dom/cjs/react-dom.development.js:13345:28)
          at reconcileChildrenArray (/workspaces/blipee-os/node_modules/react-dom/cjs/react-dom.development.js:13640:25)
          at reconcileChildFibers (/workspaces/blipee-os/node_modules/react-dom/cjs/react-dom.development.js:14057:16)
          at reconcileChildren (/workspaces/blipee-os/node_modules/react-dom/cjs/react-dom.development.js:19186:28)
          at updateHostComponent (/workspaces/blipee-os/node_modules/react-dom/cjs/react-dom.development.js:19953:3)
          at beginWork (/workspaces/blipee-os/node_modules/react-dom/cjs/react-dom.development.js:21657:14)
          at HTMLUnknownElement.callCallback (/workspaces/blipee-os/node_modules/react-dom/cjs/react-dom.development.js:4164:14)
          at HTMLUnknownElement.callTheUserObjectsOperation (/workspaces/blipee-os/node_modules/jsdom/lib/jsdom/living/generated/EventListener.js:26:30)
          at innerInvokeEventListeners (/workspaces/blipee-os/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:350:25)
          at invokeEventListeners (/workspaces/blipee-os/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:286:3)
          at HTMLUnknownElementImpl._dispatch (/workspaces/blipee-os/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:233:9)
          at HTMLUnknownElementImpl.dispatchEvent (/workspaces/blipee-os/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:104:17)
          at HTMLUnknownElement.dispatchEvent (/workspaces/blipee-os/node_modules/jsdom/lib/jsdom/living/generated/EventTarget.js:241:34)
          at Object.invokeGuardedCallbackDev (/workspaces/blipee-os/node_modules/react-dom/cjs/react-dom.development.js:4213:16)
          at invokeGuardedCallback (/workspaces/blipee-os/node_modules/react-dom/cjs/react-dom.development.js:4277:31)
          at beginWork$1 (/workspaces/blipee-os/node_modules/react-dom/cjs/react-dom.development.js:27490:7)
          at performUnitOfWork (/workspaces/blipee-os/node_modules/react-dom/cjs/react-dom.development.js:26599:12)
          at workLoopSync (/workspaces/blipee-os/node_modules/react-dom/cjs/react-dom.development.js:26505:5)
          at renderRootSync (/workspaces/blipee-os/node_modules/react-dom/cjs/react-dom.development.js:26473:7)
          at recoverFromConcurrentError (/workspaces/blipee-os/node_modules/react-dom/cjs/react-dom.development.js:25889:20)
          at performConcurrentWorkOnRoot (/workspaces/blipee-os/node_modules/react-dom/cjs/react-dom.development.js:25789:22)
          at flushActQueue (/workspaces/blipee-os/node_modules/react/cjs/react.development.js:2667:24)
          at act (/workspaces/blipee-os/node_modules/react/cjs/react.development.js:2582:11)
          at /workspaces/blipee-os/node_modules/@testing-library/react/dist/act-compat.js:47:25
          at renderRoot (/workspaces/blipee-os/node_modules/@testing-library/react/dist/pure.js:190:26)
          at render (/workspaces/blipee-os/node_modules/@testing-library/react/dist/pure.js:292:10)
          at Object.render (/workspaces/blipee-os/src/components/optimized/__tests__/OptimizedImage.test.tsx:39:5)
          at Promise.then.completed (/workspaces/blipee-os/node_modules/jest-circus/build/utils.js:298:28)
          at new Promise (<anonymous>)
          at callAsyncCircusFn (/workspaces/blipee-os/node_modules/jest-circus/build/utils.js:231:10)
          at _callCircusTest (/workspaces/blipee-os/node_modules/jest-circus/build/run.js:316:40)
          at _runTest (/workspaces/blipee-os/node_modules/jest-circus/build/run.js:252:3)
          at _runTestsForDescribeBlock (/workspaces/blipee-os/node_modules/jest-circus/build/run.js:126:9)
          at _runTestsForDescribeBlock (/workspaces/blipee-os/node_modules/jest-circus/build/run.js:121:9)
          at run (/workspaces/blipee-os/node_modules/jest-circus/build/run.js:71:3)
          at runAndTransformResultsToJestFormat (/workspaces/blipee-os/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)
          at jestAdapter (/workspaces/blipee-os/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)
          at runTestInternal (/workspaces/blipee-os/node_modules/jest-runner/build/runTest.js:367:16)
          at runTest (/workspaces/blipee-os/node_modules/jest-runner/build/runTest.js:444:34),
      type: 'unhandled exception'
    }

      243 |       return;
      244 |     }
    > 245 |     originalError.call(console, ...args);
          |                   ^
      246 |   };
      247 |   
      248 |   console.warn = (...args) => {

      at console.call [as error] (jest.setup.enterprise.js:245:19)
      at VirtualConsole.<anonymous> (node_modules/@jest/environment-jsdom-abstract/build/index.js:78:23)
      at reportException (node_modules/jsdom/lib/jsdom/living/helpers/runtime-script-errors.js:70:28)
      at innerInvokeEventListeners (node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:353:9)
      at invokeEventListeners (node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:286:3)
      at HTMLUnknownElementImpl._dispatch (node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:233:9)
      at HTMLUnknownElementImpl.dispatchEvent (node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:104:17)
      at HTMLUnknownElement.dispatchEvent (node_modules/jsdom/lib/jsdom/living/generated/EventTarget.js:241:34)
      at Object.invokeGuardedCallbackDev (node_modules/react-dom/cjs/react-dom.development.js:4213:16)
      at invokeGuardedCallback (node_modules/react-dom/cjs/react-dom.development.js:4277:31)
      at beginWork$1 (node_modules/react-dom/cjs/react-dom.development.js:27490:7)
      at performUnitOfWork (node_modules/react-dom/cjs/react-dom.development.js:26599:12)
      at workLoopSync (node_modules/react-dom/cjs/react-dom.development.js:26505:5)
      at renderRootSync (node_modules/react-dom/cjs/react-dom.development.js:26473:7)
      at recoverFromConcurrentError (node_modules/react-dom/cjs/react-dom.development.js:25889:20)
      at performConcurrentWorkOnRoot (node_modules/react-dom/cjs/react-dom.development.js:25789:22)
      at flushActQueue (node_modules/react/cjs/react.development.js:2667:24)
      at act (node_modules/react/cjs/react.development.js:2582:11)
      at node_modules/@testing-library/react/dist/act-compat.js:47:25
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:190:26)
      at render (node_modules/@testing-library/react/dist/pure.js:292:10)
      at Object.render (src/components/optimized/__tests__/OptimizedImage.test.tsx:39:5)

  console.error
    The above error occurred in the <div> component:
    
        at div
        at src (/workspaces/blipee-os/src/components/optimized/OptimizedImage.tsx:22:3)
    
    Consider adding an error boundary to your tree to customize error handling behavior.
    Visit https://reactjs.org/link/error-boundaries to learn more about error boundaries.

      243 |       return;
      244 |     }
    > 245 |     originalError.call(console, ...args);
          |                   ^
      246 |   };
      247 |   
      248 |   console.warn = (...args) => {

      at console.call [as error] (jest.setup.enterprise.js:245:19)
      at logCapturedError (node_modules/react-dom/cjs/react-dom.development.js:18704:23)
      at update.callback (node_modules/react-dom/cjs/react-dom.development.js:18737:5)
      at callCallback (node_modules/react-dom/cjs/react-dom.development.js:15036:12)
      at commitUpdateQueue (node_modules/react-dom/cjs/react-dom.development.js:15057:9)
      at commitLayoutEffectOnFiber (node_modules/react-dom/cjs/react-dom.development.js:23430:13)
      at commitLayoutMountEffects_complete (node_modules/react-dom/cjs/react-dom.development.js:24727:9)
      at commitLayoutEffects_begin (node_modules/react-dom/cjs/react-dom.development.js:24713:7)
      at commitLayoutEffects (node_modules/react-dom/cjs/react-dom.development.js:24651:3)
      at commitRootImpl (node_modules/react-dom/cjs/react-dom.development.js:26862:5)
      at commitRoot (node_modules/react-dom/cjs/react-dom.development.js:26721:5)
      at finishConcurrentRender (node_modules/react-dom/cjs/react-dom.development.js:25931:9)
      at performConcurrentWorkOnRoot (node_modules/react-dom/cjs/react-dom.development.js:25848:7)
      at flushActQueue (node_modules/react/cjs/react.development.js:2667:24)
      at act (node_modules/react/cjs/react.development.js:2582:11)
      at node_modules/@testing-library/react/dist/act-compat.js:47:25
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:190:26)
      at render (node_modules/@testing-library/react/dist/pure.js:292:10)
      at Object.render (src/components/optimized/__tests__/OptimizedImage.test.tsx:39:5)

  console.error
    Warning: React.jsx: type is invalid -- expected a string (for built-in components) or a class/function (for composite components) but got: object.
    
    Check the render method of `OptimizedImage`.
        at src (/workspaces/blipee-os/src/components/optimized/OptimizedImage.tsx:22:3)

      243 |       return;
      244 |     }
    > 245 |     originalError.call(console, ...args);
          |                   ^
      246 |   };
      247 |   
      248 |   console.warn = (...args) => {

      at console.call [as error] (jest.setup.enterprise.js:245:19)
      at printWarning (node_modules/react/cjs/react-jsx-runtime.development.js:87:30)
      at error (node_modules/react/cjs/react-jsx-runtime.development.js:61:7)
      at jsxWithValidation (node_modules/react/cjs/react-jsx-runtime.development.js:1245:7)
      at jsxWithValidationDynamic (node_modules/react/cjs/react-jsx-runtime.development.js:1320:12)
      at _jsx (src/components/optimized/OptimizedImage.tsx:80:7)
      at renderWithHooks (node_modules/react-dom/cjs/react-dom.development.js:15486:18)
      at mountIndeterminateComponent (node_modules/react-dom/cjs/react-dom.development.js:20103:13)
      at beginWork (node_modules/react-dom/cjs/react-dom.development.js:21626:16)
      at beginWork$1 (node_modules/react-dom/cjs/react-dom.development.js:27465:14)
      at performUnitOfWork (node_modules/react-dom/cjs/react-dom.development.js:26599:12)
      at workLoopSync (node_modules/react-dom/cjs/react-dom.development.js:26505:5)
      at renderRootSync (node_modules/react-dom/cjs/react-dom.development.js:26473:7)
      at performConcurrentWorkOnRoot (node_modules/react-dom/cjs/react-dom.development.js:25777:74)
      at flushActQueue (node_modules/react/cjs/react.development.js:2667:24)
      at act (node_modules/react/cjs/react.development.js:2582:11)
      at node_modules/@testing-library/react/dist/act-compat.js:47:25
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:190:26)
      at render (node_modules/@testing-library/react/dist/pure.js:292:10)
      at Object.render (src/components/optimized/__tests__/OptimizedImage.test.tsx:45:5)

  console.error
    Error: Uncaught [Error: Element type is invalid: expected a string (for built-in components) or a class/function (for composite components) but got: object.
    
    Check the render method of `OptimizedImage`.]
        at reportException (/workspaces/blipee-os/node_modules/jsdom/lib/jsdom/living/helpers/runtime-script-errors.js:66:24)
        at innerInvokeEventListeners (/workspaces/blipee-os/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:353:9)
        at invokeEventListeners (/workspaces/blipee-os/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:286:3)
        at HTMLUnknownElementImpl._dispatch (/workspaces/blipee-os/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:233:9)
        at HTMLUnknownElementImpl.dispatchEvent (/workspaces/blipee-os/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:104:17)
        at HTMLUnknownElement.dispatchEvent (/workspaces/blipee-os/node_modules/jsdom/lib/jsdom/living/generated/EventTarget.js:241:34)
        at Object.invokeGuardedCallbackDev (/workspaces/blipee-os/node_modules/react-dom/cjs/react-dom.development.js:4213:16)
        at invokeGuardedCallback (/workspaces/blipee-os/node_modules/react-dom/cjs/react-dom.development.js:4277:31)
        at beginWork$1 (/workspaces/blipee-os/node_modules/react-dom/cjs/react-dom.development.js:27490:7)
        at performUnitOfWork (/workspaces/blipee-os/node_modules/react-dom/cjs/react-dom.development.js:26599:12)
        at workLoopSync (/workspaces/blipee-os/node_modules/react-dom/cjs/react-dom.development.js:26505:5)
        at renderRootSync (/workspaces/blipee-os/node_modules/react-dom/cjs/react-dom.development.js:26473:7)
        at performConcurrentWorkOnRoot (/workspaces/blipee-os/node_modules/react-dom/cjs/react-dom.development.js:25777:74)
        at flushActQueue (/workspaces/blipee-os/node_modules/react/cjs/react.development.js:2667:24)
        at act (/workspaces/blipee-os/node_modules/react/cjs/react.development.js:2582:11)
        at /workspaces/blipee-os/node_modules/@testing-library/react/dist/act-compat.js:47:25
        at renderRoot (/workspaces/blipee-os/node_modules/@testing-library/react/dist/pure.js:190:26)
        at render (/workspaces/blipee-os/node_modules/@testing-library/react/dist/pure.js:292:10)
        at Object.render (/workspaces/blipee-os/src/components/optimized/__tests__/OptimizedImage.test.tsx:45:5)
        at Promise.then.completed (/workspaces/blipee-os/node_modules/jest-circus/build/utils.js:298:28)
        at new Promise (<anonymous>)
        at callAsyncCircusFn (/workspaces/blipee-os/node_modules/jest-circus/build/utils.js:231:10)
        at _callCircusTest (/workspaces/blipee-os/node_modules/jest-circus/build/run.js:316:40)
        at _runTest (/workspaces/blipee-os/node_modules/jest-circus/build/run.js:252:3)
        at _runTestsForDescribeBlock (/workspaces/blipee-os/node_modules/jest-circus/build/run.js:126:9)
        at _runTestsForDescribeBlock (/workspaces/blipee-os/node_modules/jest-circus/build/run.js:121:9)
        at run (/workspaces/blipee-os/node_modules/jest-circus/build/run.js:71:3)
        at runAndTransformResultsToJestFormat (/workspaces/blipee-os/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)
        at jestAdapter (/workspaces/blipee-os/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)
        at runTestInternal (/workspaces/blipee-os/node_modules/jest-runner/build/runTest.js:367:16)
        at runTest (/workspaces/blipee-os/node_modules/jest-runner/build/runTest.js:444:34) {
      detail: Error: Element type is invalid: expected a string (for built-in components) or a class/function (for composite components) but got: object.
      
      Check the render method of `OptimizedImage`.
          at createFiberFromTypeAndProps (/workspaces/blipee-os/node_modules/react-dom/cjs/react-dom.development.js:28478:17)
          at createFiberFromElement (/workspaces/blipee-os/node_modules/react-dom/cjs/react-dom.development.js:28504:15)
          at createChild (/workspaces/blipee-os/node_modules/react-dom/cjs/react-dom.development.js:13345:28)
          at reconcileChildrenArray (/workspaces/blipee-os/node_modules/react-dom/cjs/react-dom.development.js:13640:25)
          at reconcileChildFibers (/workspaces/blipee-os/node_modules/react-dom/cjs/react-dom.development.js:14057:16)
          at reconcileChildren (/workspaces/blipee-os/node_modules/react-dom/cjs/react-dom.development.js:19186:28)
          at updateHostComponent (/workspaces/blipee-os/node_modules/react-dom/cjs/react-dom.development.js:19953:3)
          at beginWork (/workspaces/blipee-os/node_modules/react-dom/cjs/react-dom.development.js:21657:14)
          at HTMLUnknownElement.callCallback (/workspaces/blipee-os/node_modules/react-dom/cjs/react-dom.development.js:4164:14)
          at HTMLUnknownElement.callTheUserObjectsOperation (/workspaces/blipee-os/node_modules/jsdom/lib/jsdom/living/generated/EventListener.js:26:30)
          at innerInvokeEventListeners (/workspaces/blipee-os/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:350:25)
          at invokeEventListeners (/workspaces/blipee-os/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:286:3)
          at HTMLUnknownElementImpl._dispatch (/workspaces/blipee-os/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:233:9)
          at HTMLUnknownElementImpl.dispatchEvent (/workspaces/blipee-os/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:104:17)
          at HTMLUnknownElement.dispatchEvent (/workspaces/blipee-os/node_modules/jsdom/lib/jsdom/living/generated/EventTarget.js:241:34)
          at Object.invokeGuardedCallbackDev (/workspaces/blipee-os/node_modules/react-dom/cjs/react-dom.development.js:4213:16)
          at invokeGuardedCallback (/workspaces/blipee-os/node_modules/react-dom/cjs/react-dom.development.js:4277:31)
          at beginWork$1 (/workspaces/blipee-os/node_modules/react-dom/cjs/react-dom.development.js:27490:7)
          at performUnitOfWork (/workspaces/blipee-os/node_modules/react-dom/cjs/react-dom.development.js:26599:12)
          at workLoopSync (/workspaces/blipee-os/node_modules/react-dom/cjs/react-dom.development.js:26505:5)
          at renderRootSync (/workspaces/blipee-os/node_modules/react-dom/cjs/react-dom.development.js:26473:7)
          at performConcurrentWorkOnRoot (/workspaces/blipee-os/node_modules/react-dom/cjs/react-dom.development.js:25777:74)
          at flushActQueue (/workspaces/blipee-os/node_modules/react/cjs/react.development.js:2667:24)
          at act (/workspaces/blipee-os/node_modules/react/cjs/react.development.js:2582:11)
          at /workspaces/blipee-os/node_modules/@testing-library/react/dist/act-compat.js:47:25
          at renderRoot (/workspaces/blipee-os/node_modules/@testing-library/react/dist/pure.js:190:26)
          at render (/workspaces/blipee-os/node_modules/@testing-library/react/dist/pure.js:292:10)
          at Object.render (/workspaces/blipee-os/src/components/optimized/__tests__/OptimizedImage.test.tsx:45:5)
          at Promise.then.completed (/workspaces/blipee-os/node_modules/jest-circus/build/utils.js:298:28)
          at new Promise (<anonymous>)
          at callAsyncCircusFn (/workspaces/blipee-os/node_modules/jest-circus/build/utils.js:231:10)
          at _callCircusTest (/workspaces/blipee-os/node_modules/jest-circus/build/run.js:316:40)
          at _runTest (/workspaces/blipee-os/node_modules/jest-circus/build/run.js:252:3)
          at _runTestsForDescribeBlock (/workspaces/blipee-os/node_modules/jest-circus/build/run.js:126:9)
          at _runTestsForDescribeBlock (/workspaces/blipee-os/node_modules/jest-circus/build/run.js:121:9)
          at run (/workspaces/blipee-os/node_modules/jest-circus/build/run.js:71:3)
          at runAndTransformResultsToJestFormat (/workspaces/blipee-os/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)
          at jestAdapter (/workspaces/blipee-os/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)
          at runTestInternal (/workspaces/blipee-os/node_modules/jest-runner/build/runTest.js:367:16)
          at runTest (/workspaces/blipee-os/node_modules/jest-runner/build/runTest.js:444:34),
      type: 'unhandled exception'
    }

      243 |       return;
      244 |     }
    > 245 |     originalError.call(console, ...args);
          |                   ^
      246 |   };
      247 |   
      248 |   console.warn = (...args) => {

      at console.call [as error] (jest.setup.enterprise.js:245:19)
      at VirtualConsole.<anonymous> (node_modules/@jest/environment-jsdom-abstract/build/index.js:78:23)
      at reportException (node_modules/jsdom/lib/jsdom/living/helpers/runtime-script-errors.js:70:28)
      at innerInvokeEventListeners (node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:353:9)
      at invokeEventListeners (node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:286:3)
      at HTMLUnknownElementImpl._dispatch (node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:233:9)
      at HTMLUnknownElementImpl.dispatchEvent (node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:104:17)
      at HTMLUnknownElement.dispatchEvent (node_modules/jsdom/lib/jsdom/living/generated/EventTarget.js:241:34)
      at Object.invokeGuardedCallbackDev (node_modules/react-dom/cjs/react-dom.development.js:4213:16)
      at invokeGuardedCallback (node_modules/react-dom/cjs/react-dom.development.js:4277:31)
      at beginWork$1 (node_modules/react-dom/cjs/react-dom.development.js:27490:7)
      at performUnitOfWork (node_modules/react-dom/cjs/react-dom.development.js:26599:12)
      at workLoopSync (node_modules/react-dom/cjs/react-dom.development.js:26505:5)
      at renderRootSync (node_modules/react-dom/cjs/react-dom.development.js:26473:7)
      at performConcurrentWorkOnRoot (node_modules/react-dom/cjs/react-dom.development.js:25777:74)
      at flushActQueue (node_modules/react/cjs/react.development.js:2667:24)
      at act (node_modules/react/cjs/react.development.js:2582:11)
      at node_modules/@testing-library/react/dist/act-compat.js:47:25
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:190:26)
      at render (node_modules/@testing-library/react/dist/pure.js:292:10)
      at Object.render (src/components/optimized/__tests__/OptimizedImage.test.tsx:45:5)

  console.error
    Warning: React.jsx: type is invalid -- expected a string (for built-in components) or a class/function (for composite components) but got: object.
    
    Check the render method of `OptimizedImage`.
        at src (/workspaces/blipee-os/src/components/optimized/OptimizedImage.tsx:22:3)

      243 |       return;
      244 |     }
    > 245 |     originalError.call(console, ...args);
          |                   ^
      246 |   };
      247 |   
      248 |   console.warn = (...args) => {

      at console.call [as error] (jest.setup.enterprise.js:245:19)
      at printWarning (node_modules/react/cjs/react-jsx-runtime.development.js:87:30)
      at error (node_modules/react/cjs/react-jsx-runtime.development.js:61:7)
      at jsxWithValidation (node_modules/react/cjs/react-jsx-runtime.development.js:1245:7)
      at jsxWithValidationDynamic (node_modules/react/cjs/react-jsx-runtime.development.js:1320:12)
      at _jsx (src/components/optimized/OptimizedImage.tsx:80:7)
      at renderWithHooks (node_modules/react-dom/cjs/react-dom.development.js:15486:18)
      at mountIndeterminateComponent (node_modules/react-dom/cjs/react-dom.development.js:20103:13)
      at beginWork (node_modules/react-dom/cjs/react-dom.development.js:21626:16)
      at beginWork$1 (node_modules/react-dom/cjs/react-dom.development.js:27465:14)
      at performUnitOfWork (node_modules/react-dom/cjs/react-dom.development.js:26599:12)
      at workLoopSync (node_modules/react-dom/cjs/react-dom.development.js:26505:5)
      at renderRootSync (node_modules/react-dom/cjs/react-dom.development.js:26473:7)
      at recoverFromConcurrentError (node_modules/react-dom/cjs/react-dom.development.js:25889:20)
      at performConcurrentWorkOnRoot (node_modules/react-dom/cjs/react-dom.development.js:25789:22)
      at flushActQueue (node_modules/react/cjs/react.development.js:2667:24)
      at act (node_modules/react/cjs/react.development.js:2582:11)
      at node_modules/@testing-library/react/dist/act-compat.js:47:25
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:190:26)
      at render (node_modules/@testing-library/react/dist/pure.js:292:10)
      at Object.render (src/components/optimized/__tests__/OptimizedImage.test.tsx:45:5)

  console.error
    Error: Uncaught [Error: Element type is invalid: expected a string (for built-in components) or a class/function (for composite components) but got: object.
    
    Check the render method of `OptimizedImage`.]
        at reportException (/workspaces/blipee-os/node_modules/jsdom/lib/jsdom/living/helpers/runtime-script-errors.js:66:24)
        at innerInvokeEventListeners (/workspaces/blipee-os/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:353:9)
        at invokeEventListeners (/workspaces/blipee-os/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:286:3)
        at HTMLUnknownElementImpl._dispatch (/workspaces/blipee-os/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:233:9)
        at HTMLUnknownElementImpl.dispatchEvent (/workspaces/blipee-os/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:104:17)
        at HTMLUnknownElement.dispatchEvent (/workspaces/blipee-os/node_modules/jsdom/lib/jsdom/living/generated/EventTarget.js:241:34)
        at Object.invokeGuardedCallbackDev (/workspaces/blipee-os/node_modules/react-dom/cjs/react-dom.development.js:4213:16)
        at invokeGuardedCallback (/workspaces/blipee-os/node_modules/react-dom/cjs/react-dom.development.js:4277:31)
        at beginWork$1 (/workspaces/blipee-os/node_modules/react-dom/cjs/react-dom.development.js:27490:7)
        at performUnitOfWork (/workspaces/blipee-os/node_modules/react-dom/cjs/react-dom.development.js:26599:12)
        at workLoopSync (/workspaces/blipee-os/node_modules/react-dom/cjs/react-dom.development.js:26505:5)
        at renderRootSync (/workspaces/blipee-os/node_modules/react-dom/cjs/react-dom.development.js:26473:7)
        at recoverFromConcurrentError (/workspaces/blipee-os/node_modules/react-dom/cjs/react-dom.development.js:25889:20)
        at performConcurrentWorkOnRoot (/workspaces/blipee-os/node_modules/react-dom/cjs/react-dom.development.js:25789:22)
        at flushActQueue (/workspaces/blipee-os/node_modules/react/cjs/react.development.js:2667:24)
        at act (/workspaces/blipee-os/node_modules/react/cjs/react.development.js:2582:11)
        at /workspaces/blipee-os/node_modules/@testing-library/react/dist/act-compat.js:47:25
        at renderRoot (/workspaces/blipee-os/node_modules/@testing-library/react/dist/pure.js:190:26)
        at render (/workspaces/blipee-os/node_modules/@testing-library/react/dist/pure.js:292:10)
        at Object.render (/workspaces/blipee-os/src/components/optimized/__tests__/OptimizedImage.test.tsx:45:5)
        at Promise.then.completed (/workspaces/blipee-os/node_modules/jest-circus/build/utils.js:298:28)
        at new Promise (<anonymous>)
        at callAsyncCircusFn (/workspaces/blipee-os/node_modules/jest-circus/build/utils.js:231:10)
        at _callCircusTest (/workspaces/blipee-os/node_modules/jest-circus/build/run.js:316:40)
        at _runTest (/workspaces/blipee-os/node_modules/jest-circus/build/run.js:252:3)
        at _runTestsForDescribeBlock (/workspaces/blipee-os/node_modules/jest-circus/build/run.js:126:9)
        at _runTestsForDescribeBlock (/workspaces/blipee-os/node_modules/jest-circus/build/run.js:121:9)
        at run (/workspaces/blipee-os/node_modules/jest-circus/build/run.js:71:3)
        at runAndTransformResultsToJestFormat (/workspaces/blipee-os/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)
        at jestAdapter (/workspaces/blipee-os/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)
        at runTestInternal (/workspaces/blipee-os/node_modules/jest-runner/build/runTest.js:367:16)
        at runTest (/workspaces/blipee-os/node_modules/jest-runner/build/runTest.js:444:34) {
      detail: Error: Element type is invalid: expected a string (for built-in components) or a class/function (for composite components) but got: object.
      
      Check the render method of `OptimizedImage`.
          at createFiberFromTypeAndProps (/workspaces/blipee-os/node_modules/react-dom/cjs/react-dom.development.js:28478:17)
          at createFiberFromElement (/workspaces/blipee-os/node_modules/react-dom/cjs/react-dom.development.js:28504:15)
          at createChild (/workspaces/blipee-os/node_modules/react-dom/cjs/react-dom.development.js:13345:28)
          at reconcileChildrenArray (/workspaces/blipee-os/node_modules/react-dom/cjs/react-dom.development.js:13640:25)
          at reconcileChildFibers (/workspaces/blipee-os/node_modules/react-dom/cjs/react-dom.development.js:14057:16)
          at reconcileChildren (/workspaces/blipee-os/node_modules/react-dom/cjs/react-dom.development.js:19186:28)
          at updateHostComponent (/workspaces/blipee-os/node_modules/react-dom/cjs/react-dom.development.js:19953:3)
          at beginWork (/workspaces/blipee-os/node_modules/react-dom/cjs/react-dom.development.js:21657:14)
          at HTMLUnknownElement.callCallback (/workspaces/blipee-os/node_modules/react-dom/cjs/react-dom.development.js:4164:14)
          at HTMLUnknownElement.callTheUserObjectsOperation (/workspaces/blipee-os/node_modules/jsdom/lib/jsdom/living/generated/EventListener.js:26:30)
          at innerInvokeEventListeners (/workspaces/blipee-os/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:350:25)
          at invokeEventListeners (/workspaces/blipee-os/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:286:3)
          at HTMLUnknownElementImpl._dispatch (/workspaces/blipee-os/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:233:9)
          at HTMLUnknownElementImpl.dispatchEvent (/workspaces/blipee-os/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:104:17)
          at HTMLUnknownElement.dispatchEvent (/workspaces/blipee-os/node_modules/jsdom/lib/jsdom/living/generated/EventTarget.js:241:34)
          at Object.invokeGuardedCallbackDev (/workspaces/blipee-os/node_modules/react-dom/cjs/react-dom.development.js:4213:16)
          at invokeGuardedCallback (/workspaces/blipee-os/node_modules/react-dom/cjs/react-dom.development.js:4277:31)
          at beginWork$1 (/workspaces/blipee-os/node_modules/react-dom/cjs/react-dom.development.js:27490:7)
          at performUnitOfWork (/workspaces/blipee-os/node_modules/react-dom/cjs/react-dom.development.js:26599:12)
          at workLoopSync (/workspaces/blipee-os/node_modules/react-dom/cjs/react-dom.development.js:26505:5)
          at renderRootSync (/workspaces/blipee-os/node_modules/react-dom/cjs/react-dom.development.js:26473:7)
          at recoverFromConcurrentError (/workspaces/blipee-os/node_modules/react-dom/cjs/react-dom.development.js:25889:20)
          at performConcurrentWorkOnRoot (/workspaces/blipee-os/node_modules/react-dom/cjs/react-dom.development.js:25789:22)
          at flushActQueue (/workspaces/blipee-os/node_modules/react/cjs/react.development.js:2667:24)
          at act (/workspaces/blipee-os/node_modules/react/cjs/react.development.js:2582:11)
          at /workspaces/blipee-os/node_modules/@testing-library/react/dist/act-compat.js:47:25
          at renderRoot (/workspaces/blipee-os/node_modules/@testing-library/react/dist/pure.js:190:26)
          at render (/workspaces/blipee-os/node_modules/@testing-library/react/dist/pure.js:292:10)
          at Object.render (/workspaces/blipee-os/src/components/optimized/__tests__/OptimizedImage.test.tsx:45:5)
          at Promise.then.completed (/workspaces/blipee-os/node_modules/jest-circus/build/utils.js:298:28)
          at new Promise (<anonymous>)
          at callAsyncCircusFn (/workspaces/blipee-os/node_modules/jest-circus/build/utils.js:231:10)
          at _callCircusTest (/workspaces/blipee-os/node_modules/jest-circus/build/run.js:316:40)
          at _runTest (/workspaces/blipee-os/node_modules/jest-circus/build/run.js:252:3)
          at _runTestsForDescribeBlock (/workspaces/blipee-os/node_modules/jest-circus/build/run.js:126:9)
          at _runTestsForDescribeBlock (/workspaces/blipee-os/node_modules/jest-circus/build/run.js:121:9)
          at run (/workspaces/blipee-os/node_modules/jest-circus/build/run.js:71:3)
          at runAndTransformResultsToJestFormat (/workspaces/blipee-os/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)
          at jestAdapter (/workspaces/blipee-os/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)
          at runTestInternal (/workspaces/blipee-os/node_modules/jest-runner/build/runTest.js:367:16)
          at runTest (/workspaces/blipee-os/node_modules/jest-runner/build/runTest.js:444:34),
      type: 'unhandled exception'
    }

      243 |       return;
      244 |     }
    > 245 |     originalError.call(console, ...args);
          |                   ^
      246 |   };
      247 |   
      248 |   console.warn = (...args) => {

      at console.call [as error] (jest.setup.enterprise.js:245:19)
      at VirtualConsole.<anonymous> (node_modules/@jest/environment-jsdom-abstract/build/index.js:78:23)
      at reportException (node_modules/jsdom/lib/jsdom/living/helpers/runtime-script-errors.js:70:28)
      at innerInvokeEventListeners (node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:353:9)
      at invokeEventListeners (node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:286:3)
      at HTMLUnknownElementImpl._dispatch (node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:233:9)
      at HTMLUnknownElementImpl.dispatchEvent (node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:104:17)
      at HTMLUnknownElement.dispatchEvent (node_modules/jsdom/lib/jsdom/living/generated/EventTarget.js:241:34)
      at Object.invokeGuardedCallbackDev (node_modules/react-dom/cjs/react-dom.development.js:4213:16)
      at invokeGuardedCallback (node_modules/react-dom/cjs/react-dom.development.js:4277:31)
      at beginWork$1 (node_modules/react-dom/cjs/react-dom.development.js:27490:7)
      at performUnitOfWork (node_modules/react-dom/cjs/react-dom.development.js:26599:12)
      at workLoopSync (node_modules/react-dom/cjs/react-dom.development.js:26505:5)
      at renderRootSync (node_modules/react-dom/cjs/react-dom.development.js:26473:7)
      at recoverFromConcurrentError (node_modules/react-dom/cjs/react-dom.development.js:25889:20)
      at performConcurrentWorkOnRoot (node_modules/react-dom/cjs/react-dom.development.js:25789:22)
      at flushActQueue (node_modules/react/cjs/react.development.js:2667:24)
      at act (node_modules/react/cjs/react.development.js:2582:11)
      at node_modules/@testing-library/react/dist/act-compat.js:47:25
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:190:26)
      at render (node_modules/@testing-library/react/dist/pure.js:292:10)
      at Object.render (src/components/optimized/__tests__/OptimizedImage.test.tsx:45:5)

  console.error
    The above error occurred in the <div> component:
    
        at div
        at src (/workspaces/blipee-os/src/components/optimized/OptimizedImage.tsx:22:3)
    
    Consider adding an error boundary to your tree to customize error handling behavior.
    Visit https://reactjs.org/link/error-boundaries to learn more about error boundaries.

      243 |       return;
      244 |     }
    > 245 |     originalError.call(console, ...args);
          |                   ^
      246 |   };
      247 |   
      248 |   console.warn = (...args) => {

      at console.call [as error] (jest.setup.enterprise.js:245:19)
      at logCapturedError (node_modules/react-dom/cjs/react-dom.development.js:18704:23)
      at update.callback (node_modules/react-dom/cjs/react-dom.development.js:18737:5)
      at callCallback (node_modules/react-dom/cjs/react-dom.development.js:15036:12)
      at commitUpdateQueue (node_modules/react-dom/cjs/react-dom.development.js:15057:9)
      at commitLayoutEffectOnFiber (node_modules/react-dom/cjs/react-dom.development.js:23430:13)
      at commitLayoutMountEffects_complete (node_modules/react-dom/cjs/react-dom.development.js:24727:9)
      at commitLayoutEffects_begin (node_modules/react-dom/cjs/react-dom.development.js:24713:7)
      at commitLayoutEffects (node_modules/react-dom/cjs/react-dom.development.js:24651:3)
      at commitRootImpl (node_modules/react-dom/cjs/react-dom.development.js:26862:5)
      at commitRoot (node_modules/react-dom/cjs/react-dom.development.js:26721:5)
      at finishConcurrentRender (node_modules/react-dom/cjs/react-dom.development.js:25931:9)
      at performConcurrentWorkOnRoot (node_modules/react-dom/cjs/react-dom.development.js:25848:7)
      at flushActQueue (node_modules/react/cjs/react.development.js:2667:24)
      at act (node_modules/react/cjs/react.development.js:2582:11)
      at node_modules/@testing-library/react/dist/act-compat.js:47:25
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:190:26)
      at render (node_modules/@testing-library/react/dist/pure.js:292:10)
      at Object.render (src/components/optimized/__tests__/OptimizedImage.test.tsx:45:5)

  console.error
    Warning: React.jsx: type is invalid -- expected a string (for built-in components) or a class/function (for composite components) but got: object.
    
    Check the render method of `OptimizedImage`.
        at src (/workspaces/blipee-os/src/components/optimized/OptimizedImage.tsx:22:3)

      243 |       return;
      244 |     }
    > 245 |     originalError.call(console, ...args);
          |                   ^
      246 |   };
      247 |   
      248 |   console.warn = (...args) => {

      at console.call [as error] (jest.setup.enterprise.js:245:19)
      at printWarning (node_modules/react/cjs/react-jsx-runtime.development.js:87:30)
      at error (node_modules/react/cjs/react-jsx-runtime.development.js:61:7)
      at jsxWithValidation (node_modules/react/cjs/react-jsx-runtime.development.js:1245:7)
      at jsxWithValidationDynamic (node_modules/react/cjs/react-jsx-runtime.development.js:1320:12)
      at _jsx (src/components/optimized/OptimizedImage.tsx:80:7)
      at renderWithHooks (node_modules/react-dom/cjs/react-dom.development.js:15486:18)
      at mountIndeterminateComponent (node_modules/react-dom/cjs/react-dom.development.js:20103:13)
      at beginWork (node_modules/react-dom/cjs/react-dom.development.js:21626:16)
      at beginWork$1 (node_modules/react-dom/cjs/react-dom.development.js:27465:14)
      at performUnitOfWork (node_modules/react-dom/cjs/react-dom.development.js:26599:12)
      at workLoopSync (node_modules/react-dom/cjs/react-dom.development.js:26505:5)
      at renderRootSync (node_modules/react-dom/cjs/react-dom.development.js:26473:7)
      at performConcurrentWorkOnRoot (node_modules/react-dom/cjs/react-dom.development.js:25777:74)
      at flushActQueue (node_modules/react/cjs/react.development.js:2667:24)
      at act (node_modules/react/cjs/react.development.js:2582:11)
      at node_modules/@testing-library/react/dist/act-compat.js:47:25
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:190:26)
      at render (node_modules/@testing-library/react/dist/pure.js:292:10)
      at Object.render (src/components/optimized/__tests__/OptimizedImage.test.tsx:51:5)

  console.error
    Error: Uncaught [Error: Element type is invalid: expected a string (for built-in components) or a class/function (for composite components) but got: object.
    
    Check the render method of `OptimizedImage`.]
        at reportException (/workspaces/blipee-os/node_modules/jsdom/lib/jsdom/living/helpers/runtime-script-errors.js:66:24)
        at innerInvokeEventListeners (/workspaces/blipee-os/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:353:9)
        at invokeEventListeners (/workspaces/blipee-os/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:286:3)
        at HTMLUnknownElementImpl._dispatch (/workspaces/blipee-os/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:233:9)
        at HTMLUnknownElementImpl.dispatchEvent (/workspaces/blipee-os/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:104:17)
        at HTMLUnknownElement.dispatchEvent (/workspaces/blipee-os/node_modules/jsdom/lib/jsdom/living/generated/EventTarget.js:241:34)
        at Object.invokeGuardedCallbackDev (/workspaces/blipee-os/node_modules/react-dom/cjs/react-dom.development.js:4213:16)
        at invokeGuardedCallback (/workspaces/blipee-os/node_modules/react-dom/cjs/react-dom.development.js:4277:31)
        at beginWork$1 (/workspaces/blipee-os/node_modules/react-dom/cjs/react-dom.development.js:27490:7)
        at performUnitOfWork (/workspaces/blipee-os/node_modules/react-dom/cjs/react-dom.development.js:26599:12)
        at workLoopSync (/workspaces/blipee-os/node_modules/react-dom/cjs/react-dom.development.js:26505:5)
        at renderRootSync (/workspaces/blipee-os/node_modules/react-dom/cjs/react-dom.development.js:26473:7)
        at performConcurrentWorkOnRoot (/workspaces/blipee-os/node_modules/react-dom/cjs/react-dom.development.js:25777:74)
        at flushActQueue (/workspaces/blipee-os/node_modules/react/cjs/react.development.js:2667:24)
        at act (/workspaces/blipee-os/node_modules/react/cjs/react.development.js:2582:11)
        at /workspaces/blipee-os/node_modules/@testing-library/react/dist/act-compat.js:47:25
        at renderRoot (/workspaces/blipee-os/node_modules/@testing-library/react/dist/pure.js:190:26)
        at render (/workspaces/blipee-os/node_modules/@testing-library/react/dist/pure.js:292:10)
        at Object.render (/workspaces/blipee-os/src/components/optimized/__tests__/OptimizedImage.test.tsx:51:5)
        at Promise.then.completed (/workspaces/blipee-os/node_modules/jest-circus/build/utils.js:298:28)
        at new Promise (<anonymous>)
        at callAsyncCircusFn (/workspaces/blipee-os/node_modules/jest-circus/build/utils.js:231:10)
        at _callCircusTest (/workspaces/blipee-os/node_modules/jest-circus/build/run.js:316:40)
        at _runTest (/workspaces/blipee-os/node_modules/jest-circus/build/run.js:252:3)
        at _runTestsForDescribeBlock (/workspaces/blipee-os/node_modules/jest-circus/build/run.js:126:9)
        at _runTestsForDescribeBlock (/workspaces/blipee-os/node_modules/jest-circus/build/run.js:121:9)
        at run (/workspaces/blipee-os/node_modules/jest-circus/build/run.js:71:3)
        at runAndTransformResultsToJestFormat (/workspaces/blipee-os/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)
        at jestAdapter (/workspaces/blipee-os/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)
        at runTestInternal (/workspaces/blipee-os/node_modules/jest-runner/build/runTest.js:367:16)
        at runTest (/workspaces/blipee-os/node_modules/jest-runner/build/runTest.js:444:34) {
      detail: Error: Element type is invalid: expected a string (for built-in components) or a class/function (for composite components) but got: object.
      
      Check the render method of `OptimizedImage`.
          at createFiberFromTypeAndProps (/workspaces/blipee-os/node_modules/react-dom/cjs/react-dom.development.js:28478:17)
          at createFiberFromElement (/workspaces/blipee-os/node_modules/react-dom/cjs/react-dom.development.js:28504:15)
          at createChild (/workspaces/blipee-os/node_modules/react-dom/cjs/react-dom.development.js:13345:28)
          at reconcileChildrenArray (/workspaces/blipee-os/node_modules/react-dom/cjs/react-dom.development.js:13640:25)
          at reconcileChildFibers (/workspaces/blipee-os/node_modules/react-dom/cjs/react-dom.development.js:14057:16)
          at reconcileChildren (/workspaces/blipee-os/node_modules/react-dom/cjs/react-dom.development.js:19186:28)
          at updateHostComponent (/workspaces/blipee-os/node_modules/react-dom/cjs/react-dom.development.js:19953:3)
          at beginWork (/workspaces/blipee-os/node_modules/react-dom/cjs/react-dom.development.js:21657:14)
          at HTMLUnknownElement.callCallback (/workspaces/blipee-os/node_modules/react-dom/cjs/react-dom.development.js:4164:14)
          at HTMLUnknownElement.callTheUserObjectsOperation (/workspaces/blipee-os/node_modules/jsdom/lib/jsdom/living/generated/EventListener.js:26:30)
          at innerInvokeEventListeners (/workspaces/blipee-os/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:350:25)
          at invokeEventListeners (/workspaces/blipee-os/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:286:3)
          at HTMLUnknownElementImpl._dispatch (/workspaces/blipee-os/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:233:9)
          at HTMLUnknownElementImpl.dispatchEvent (/workspaces/blipee-os/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:104:17)
          at HTMLUnknownElement.dispatchEvent (/workspaces/blipee-os/node_modules/jsdom/lib/jsdom/living/generated/EventTarget.js:241:34)
          at Object.invokeGuardedCallbackDev (/workspaces/blipee-os/node_modules/react-dom/cjs/react-dom.development.js:4213:16)
          at invokeGuardedCallback (/workspaces/blipee-os/node_modules/react-dom/cjs/react-dom.development.js:4277:31)
          at beginWork$1 (/workspaces/blipee-os/node_modules/react-dom/cjs/react-dom.development.js:27490:7)
          at performUnitOfWork (/workspaces/blipee-os/node_modules/react-dom/cjs/react-dom.development.js:26599:12)
          at workLoopSync (/workspaces/blipee-os/node_modules/react-dom/cjs/react-dom.development.js:26505:5)
          at renderRootSync (/workspaces/blipee-os/node_modules/react-dom/cjs/react-dom.development.js:26473:7)
          at performConcurrentWorkOnRoot (/workspaces/blipee-os/node_modules/react-dom/cjs/react-dom.development.js:25777:74)
          at flushActQueue (/workspaces/blipee-os/node_modules/react/cjs/react.development.js:2667:24)
          at act (/workspaces/blipee-os/node_modules/react/cjs/react.development.js:2582:11)
          at /workspaces/blipee-os/node_modules/@testing-library/react/dist/act-compat.js:47:25
          at renderRoot (/workspaces/blipee-os/node_modules/@testing-library/react/dist/pure.js:190:26)
          at render (/workspaces/blipee-os/node_modules/@testing-library/react/dist/pure.js:292:10)
          at Object.render (/workspaces/blipee-os/src/components/optimized/__tests__/OptimizedImage.test.tsx:51:5)
          at Promise.then.completed (/workspaces/blipee-os/node_modules/jest-circus/build/utils.js:298:28)
          at new Promise (<anonymous>)
          at callAsyncCircusFn (/workspaces/blipee-os/node_modules/jest-circus/build/utils.js:231:10)
          at _callCircusTest (/workspaces/blipee-os/node_modules/jest-circus/build/run.js:316:40)
          at _runTest (/workspaces/blipee-os/node_modules/jest-circus/build/run.js:252:3)
          at _runTestsForDescribeBlock (/workspaces/blipee-os/node_modules/jest-circus/build/run.js:126:9)
          at _runTestsForDescribeBlock (/workspaces/blipee-os/node_modules/jest-circus/build/run.js:121:9)
          at run (/workspaces/blipee-os/node_modules/jest-circus/build/run.js:71:3)
          at runAndTransformResultsToJestFormat (/workspaces/blipee-os/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)
          at jestAdapter (/workspaces/blipee-os/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)
          at runTestInternal (/workspaces/blipee-os/node_modules/jest-runner/build/runTest.js:367:16)
          at runTest (/workspaces/blipee-os/node_modules/jest-runner/build/runTest.js:444:34),
      type: 'unhandled exception'
    }

      243 |       return;
      244 |     }
    > 245 |     originalError.call(console, ...args);
          |                   ^
      246 |   };
      247 |   
      248 |   console.warn = (...args) => {

      at console.call [as error] (jest.setup.enterprise.js:245:19)
      at VirtualConsole.<anonymous> (node_modules/@jest/environment-jsdom-abstract/build/index.js:78:23)
      at reportException (node_modules/jsdom/lib/jsdom/living/helpers/runtime-script-errors.js:70:28)
      at innerInvokeEventListeners (node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:353:9)
      at invokeEventListeners (node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:286:3)
      at HTMLUnknownElementImpl._dispatch (node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:233:9)
      at HTMLUnknownElementImpl.dispatchEvent (node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:104:17)
      at HTMLUnknownElement.dispatchEvent (node_modules/jsdom/lib/jsdom/living/generated/EventTarget.js:241:34)
      at Object.invokeGuardedCallbackDev (node_modules/react-dom/cjs/react-dom.development.js:4213:16)
      at invokeGuardedCallback (node_modules/react-dom/cjs/react-dom.development.js:4277:31)
      at beginWork$1 (node_modules/react-dom/cjs/react-dom.development.js:27490:7)
      at performUnitOfWork (node_modules/react-dom/cjs/react-dom.development.js:26599:12)
      at workLoopSync (node_modules/react-dom/cjs/react-dom.development.js:26505:5)
      at renderRootSync (node_modules/react-dom/cjs/react-dom.development.js:26473:7)
      at performConcurrentWorkOnRoot (node_modules/react-dom/cjs/react-dom.development.js:25777:74)
      at flushActQueue (node_modules/react/cjs/react.development.js:2667:24)
      at act (node_modules/react/cjs/react.development.js:2582:11)
      at node_modules/@testing-library/react/dist/act-compat.js:47:25
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:190:26)
      at render (node_modules/@testing-library/react/dist/pure.js:292:10)
      at Object.render (src/components/optimized/__tests__/OptimizedImage.test.tsx:51:5)

  console.error
    Warning: React.jsx: type is invalid -- expected a string (for built-in components) or a class/function (for composite components) but got: object.
    
    Check the render method of `OptimizedImage`.
        at src (/workspaces/blipee-os/src/components/optimized/OptimizedImage.tsx:22:3)

      243 |       return;
      244 |     }
    > 245 |     originalError.call(console, ...args);
          |                   ^
      246 |   };
      247 |   
      248 |   console.warn = (...args) => {

      at console.call [as error] (jest.setup.enterprise.js:245:19)
      at printWarning (node_modules/react/cjs/react-jsx-runtime.development.js:87:30)
      at error (node_modules/react/cjs/react-jsx-runtime.development.js:61:7)
      at jsxWithValidation (node_modules/react/cjs/react-jsx-runtime.development.js:1245:7)
      at jsxWithValidationDynamic (node_modules/react/cjs/react-jsx-runtime.development.js:1320:12)
      at _jsx (src/components/optimized/OptimizedImage.tsx:80:7)
      at renderWithHooks (node_modules/react-dom/cjs/react-dom.development.js:15486:18)
      at mountIndeterminateComponent (node_modules/react-dom/cjs/react-dom.development.js:20103:13)
      at beginWork (node_modules/react-dom/cjs/react-dom.development.js:21626:16)
      at beginWork$1 (node_modules/react-dom/cjs/react-dom.development.js:27465:14)
      at performUnitOfWork (node_modules/react-dom/cjs/react-dom.development.js:26599:12)
      at workLoopSync (node_modules/react-dom/cjs/react-dom.development.js:26505:5)
      at renderRootSync (node_modules/react-dom/cjs/react-dom.development.js:26473:7)
      at recoverFromConcurrentError (node_modules/react-dom/cjs/react-dom.development.js:25889:20)
      at performConcurrentWorkOnRoot (node_modules/react-dom/cjs/react-dom.development.js:25789:22)
      at flushActQueue (node_modules/react/cjs/react.development.js:2667:24)
      at act (node_modules/react/cjs/react.development.js:2582:11)
      at node_modules/@testing-library/react/dist/act-compat.js:47:25
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:190:26)
      at render (node_modules/@testing-library/react/dist/pure.js:292:10)
      at Object.render (src/components/optimized/__tests__/OptimizedImage.test.tsx:51:5)

  console.error
    Error: Uncaught [Error: Element type is invalid: expected a string (for built-in components) or a class/function (for composite components) but got: object.
    
    Check the render method of `OptimizedImage`.]
        at reportException (/workspaces/blipee-os/node_modules/jsdom/lib/jsdom/living/helpers/runtime-script-errors.js:66:24)
        at innerInvokeEventListeners (/workspaces/blipee-os/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:353:9)
        at invokeEventListeners (/workspaces/blipee-os/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:286:3)
        at HTMLUnknownElementImpl._dispatch (/workspaces/blipee-os/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:233:9)
        at HTMLUnknownElementImpl.dispatchEvent (/workspaces/blipee-os/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:104:17)
        at HTMLUnknownElement.dispatchEvent (/workspaces/blipee-os/node_modules/jsdom/lib/jsdom/living/generated/EventTarget.js:241:34)
        at Object.invokeGuardedCallbackDev (/workspaces/blipee-os/node_modules/react-dom/cjs/react-dom.development.js:4213:16)
        at invokeGuardedCallback (/workspaces/blipee-os/node_modules/react-dom/cjs/react-dom.development.js:4277:31)
        at beginWork$1 (/workspaces/blipee-os/node_modules/react-dom/cjs/react-dom.development.js:27490:7)
        at performUnitOfWork (/workspaces/blipee-os/node_modules/react-dom/cjs/react-dom.development.js:26599:12)
        at workLoopSync (/workspaces/blipee-os/node_modules/react-dom/cjs/react-dom.development.js:26505:5)
        at renderRootSync (/workspaces/blipee-os/node_modules/react-dom/cjs/react-dom.development.js:26473:7)
        at recoverFromConcurrentError (/workspaces/blipee-os/node_modules/react-dom/cjs/react-dom.development.js:25889:20)
        at performConcurrentWorkOnRoot (/workspaces/blipee-os/node_modules/react-dom/cjs/react-dom.development.js:25789:22)
        at flushActQueue (/workspaces/blipee-os/node_modules/react/cjs/react.development.js:2667:24)
        at act (/workspaces/blipee-os/node_modules/react/cjs/react.development.js:2582:11)
        at /workspaces/blipee-os/node_modules/@testing-library/react/dist/act-compat.js:47:25
        at renderRoot (/workspaces/blipee-os/node_modules/@testing-library/react/dist/pure.js:190:26)
        at render (/workspaces/blipee-os/node_modules/@testing-library/react/dist/pure.js:292:10)
        at Object.render (/workspaces/blipee-os/src/components/optimized/__tests__/OptimizedImage.test.tsx:51:5)
        at Promise.then.completed (/workspaces/blipee-os/node_modules/jest-circus/build/utils.js:298:28)
        at new Promise (<anonymous>)
        at callAsyncCircusFn (/workspaces/blipee-os/node_modules/jest-circus/build/utils.js:231:10)
        at _callCircusTest (/workspaces/blipee-os/node_modules/jest-circus/build/run.js:316:40)
        at _runTest (/workspaces/blipee-os/node_modules/jest-circus/build/run.js:252:3)
        at _runTestsForDescribeBlock (/workspaces/blipee-os/node_modules/jest-circus/build/run.js:126:9)
        at _runTestsForDescribeBlock (/workspaces/blipee-os/node_modules/jest-circus/build/run.js:121:9)
        at run (/workspaces/blipee-os/node_modules/jest-circus/build/run.js:71:3)
        at runAndTransformResultsToJestFormat (/workspaces/blipee-os/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)
        at jestAdapter (/workspaces/blipee-os/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)
        at runTestInternal (/workspaces/blipee-os/node_modules/jest-runner/build/runTest.js:367:16)
        at runTest (/workspaces/blipee-os/node_modules/jest-runner/build/runTest.js:444:34) {
      detail: Error: Element type is invalid: expected a string (for built-in components) or a class/function (for composite components) but got: object.
      
      Check the render method of `OptimizedImage`.
          at createFiberFromTypeAndProps (/workspaces/blipee-os/node_modules/react-dom/cjs/react-dom.development.js:28478:17)
          at createFiberFromElement (/workspaces/blipee-os/node_modules/react-dom/cjs/react-dom.development.js:28504:15)
          at createChild (/workspaces/blipee-os/node_modules/react-dom/cjs/react-dom.development.js:13345:28)
          at reconcileChildrenArray (/workspaces/blipee-os/node_modules/react-dom/cjs/react-dom.development.js:13640:25)
          at reconcileChildFibers (/workspaces/blipee-os/node_modules/react-dom/cjs/react-dom.development.js:14057:16)
          at reconcileChildren (/workspaces/blipee-os/node_modules/react-dom/cjs/react-dom.development.js:19186:28)
          at updateHostComponent (/workspaces/blipee-os/node_modules/react-dom/cjs/react-dom.development.js:19953:3)
          at beginWork (/workspaces/blipee-os/node_modules/react-dom/cjs/react-dom.development.js:21657:14)
          at HTMLUnknownElement.callCallback (/workspaces/blipee-os/node_modules/react-dom/cjs/react-dom.development.js:4164:14)
          at HTMLUnknownElement.callTheUserObjectsOperation (/workspaces/blipee-os/node_modules/jsdom/lib/jsdom/living/generated/EventListener.js:26:30)
          at innerInvokeEventListeners (/workspaces/blipee-os/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:350:25)
          at invokeEventListeners (/workspaces/blipee-os/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:286:3)
          at HTMLUnknownElementImpl._dispatch (/workspaces/blipee-os/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:233:9)
          at HTMLUnknownElementImpl.dispatchEvent (/workspaces/blipee-os/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:104:17)
          at HTMLUnknownElement.dispatchEvent (/workspaces/blipee-os/node_modules/jsdom/lib/jsdom/living/generated/EventTarget.js:241:34)
          at Object.invokeGuardedCallbackDev (/workspaces/blipee-os/node_modules/react-dom/cjs/react-dom.development.js:4213:16)
          at invokeGuardedCallback (/workspaces/blipee-os/node_modules/react-dom/cjs/react-dom.development.js:4277:31)
          at beginWork$1 (/workspaces/blipee-os/node_modules/react-dom/cjs/react-dom.development.js:27490:7)
          at performUnitOfWork (/workspaces/blipee-os/node_modules/react-dom/cjs/react-dom.development.js:26599:12)
          at workLoopSync (/workspaces/blipee-os/node_modules/react-dom/cjs/react-dom.development.js:26505:5)
          at renderRootSync (/workspaces/blipee-os/node_modules/react-dom/cjs/react-dom.development.js:26473:7)
          at recoverFromConcurrentError (/workspaces/blipee-os/node_modules/react-dom/cjs/react-dom.development.js:25889:20)
          at performConcurrentWorkOnRoot (/workspaces/blipee-os/node_modules/react-dom/cjs/react-dom.development.js:25789:22)
          at flushActQueue (/workspaces/blipee-os/node_modules/react/cjs/react.development.js:2667:24)
          at act (/workspaces/blipee-os/node_modules/react/cjs/react.development.js:2582:11)
          at /workspaces/blipee-os/node_modules/@testing-library/react/dist/act-compat.js:47:25
          at renderRoot (/workspaces/blipee-os/node_modules/@testing-library/react/dist/pure.js:190:26)
          at render (/workspaces/blipee-os/node_modules/@testing-library/react/dist/pure.js:292:10)
          at Object.render (/workspaces/blipee-os/src/components/optimized/__tests__/OptimizedImage.test.tsx:51:5)
          at Promise.then.completed (/workspaces/blipee-os/node_modules/jest-circus/build/utils.js:298:28)
          at new Promise (<anonymous>)
          at callAsyncCircusFn (/workspaces/blipee-os/node_modules/jest-circus/build/utils.js:231:10)
          at _callCircusTest (/workspaces/blipee-os/node_modules/jest-circus/build/run.js:316:40)
          at _runTest (/workspaces/blipee-os/node_modules/jest-circus/build/run.js:252:3)
          at _runTestsForDescribeBlock (/workspaces/blipee-os/node_modules/jest-circus/build/run.js:126:9)
          at _runTestsForDescribeBlock (/workspaces/blipee-os/node_modules/jest-circus/build/run.js:121:9)
          at run (/workspaces/blipee-os/node_modules/jest-circus/build/run.js:71:3)
          at runAndTransformResultsToJestFormat (/workspaces/blipee-os/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)
          at jestAdapter (/workspaces/blipee-os/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)
          at runTestInternal (/workspaces/blipee-os/node_modules/jest-runner/build/runTest.js:367:16)
          at runTest (/workspaces/blipee-os/node_modules/jest-runner/build/runTest.js:444:34),
      type: 'unhandled exception'
    }

      243 |       return;
      244 |     }
    > 245 |     originalError.call(console, ...args);
          |                   ^
      246 |   };
      247 |   
      248 |   console.warn = (...args) => {

      at console.call [as error] (jest.setup.enterprise.js:245:19)
      at VirtualConsole.<anonymous> (node_modules/@jest/environment-jsdom-abstract/build/index.js:78:23)
      at reportException (node_modules/jsdom/lib/jsdom/living/helpers/runtime-script-errors.js:70:28)
      at innerInvokeEventListeners (node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:353:9)
      at invokeEventListeners (node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:286:3)
      at HTMLUnknownElementImpl._dispatch (node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:233:9)
      at HTMLUnknownElementImpl.dispatchEvent (node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:104:17)
      at HTMLUnknownElement.dispatchEvent (node_modules/jsdom/lib/jsdom/living/generated/EventTarget.js:241:34)
      at Object.invokeGuardedCallbackDev (node_modules/react-dom/cjs/react-dom.development.js:4213:16)
      at invokeGuardedCallback (node_modules/react-dom/cjs/react-dom.development.js:4277:31)
      at beginWork$1 (node_modules/react-dom/cjs/react-dom.development.js:27490:7)
      at performUnitOfWork (node_modules/react-dom/cjs/react-dom.development.js:26599:12)
      at workLoopSync (node_modules/react-dom/cjs/react-dom.development.js:26505:5)
      at renderRootSync (node_modules/react-dom/cjs/react-dom.development.js:26473:7)
      at recoverFromConcurrentError (node_modules/react-dom/cjs/react-dom.development.js:25889:20)
      at performConcurrentWorkOnRoot (node_modules/react-dom/cjs/react-dom.development.js:25789:22)
      at flushActQueue (node_modules/react/cjs/react.development.js:2667:24)
      at act (node_modules/react/cjs/react.development.js:2582:11)
      at node_modules/@testing-library/react/dist/act-compat.js:47:25
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:190:26)
      at render (node_modules/@testing-library/react/dist/pure.js:292:10)
      at Object.render (src/components/optimized/__tests__/OptimizedImage.test.tsx:51:5)

  console.error
    The above error occurred in the <div> component:
    
        at div
        at src (/workspaces/blipee-os/src/components/optimized/OptimizedImage.tsx:22:3)
    
    Consider adding an error boundary to your tree to customize error handling behavior.
    Visit https://reactjs.org/link/error-boundaries to learn more about error boundaries.

      243 |       return;
      244 |     }
    > 245 |     originalError.call(console, ...args);
          |                   ^
      246 |   };
      247 |   
      248 |   console.warn = (...args) => {

      at console.call [as error] (jest.setup.enterprise.js:245:19)
      at logCapturedError (node_modules/react-dom/cjs/react-dom.development.js:18704:23)
      at update.callback (node_modules/react-dom/cjs/react-dom.development.js:18737:5)
      at callCallback (node_modules/react-dom/cjs/react-dom.development.js:15036:12)
      at commitUpdateQueue (node_modules/react-dom/cjs/react-dom.development.js:15057:9)
      at commitLayoutEffectOnFiber (node_modules/react-dom/cjs/react-dom.development.js:23430:13)
      at commitLayoutMountEffects_complete (node_modules/react-dom/cjs/react-dom.development.js:24727:9)
      at commitLayoutEffects_begin (node_modules/react-dom/cjs/react-dom.development.js:24713:7)
      at commitLayoutEffects (node_modules/react-dom/cjs/react-dom.development.js:24651:3)
      at commitRootImpl (node_modules/react-dom/cjs/react-dom.development.js:26862:5)
      at commitRoot (node_modules/react-dom/cjs/react-dom.development.js:26721:5)
      at finishConcurrentRender (node_modules/react-dom/cjs/react-dom.development.js:25931:9)
      at performConcurrentWorkOnRoot (node_modules/react-dom/cjs/react-dom.development.js:25848:7)
      at flushActQueue (node_modules/react/cjs/react.development.js:2667:24)
      at act (node_modules/react/cjs/react.development.js:2582:11)
      at node_modules/@testing-library/react/dist/act-compat.js:47:25
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:190:26)
      at render (node_modules/@testing-library/react/dist/pure.js:292:10)
      at Object.render (src/components/optimized/__tests__/OptimizedImage.test.tsx:51:5)

  console.error
    Warning: React.jsx: type is invalid -- expected a string (for built-in components) or a class/function (for composite components) but got: object.
    
    Check the render method of `OptimizedImage`.
        at src (/workspaces/blipee-os/src/components/optimized/OptimizedImage.tsx:22:3)

      243 |       return;
      244 |     }
    > 245 |     originalError.call(console, ...args);
          |                   ^
      246 |   };
      247 |   
      248 |   console.warn = (...args) => {

      at console.call [as error] (jest.setup.enterprise.js:245:19)
      at printWarning (node_modules/react/cjs/react-jsx-runtime.development.js:87:30)
      at error (node_modules/react/cjs/react-jsx-runtime.development.js:61:7)
      at jsxWithValidation (node_modules/react/cjs/react-jsx-runtime.development.js:1245:7)
      at jsxWithValidationDynamic (node_modules/react/cjs/react-jsx-runtime.development.js:1320:12)
      at _jsx (src/components/optimized/OptimizedImage.tsx:80:7)
      at renderWithHooks (node_modules/react-dom/cjs/react-dom.development.js:15486:18)
      at mountIndeterminateComponent (node_modules/react-dom/cjs/react-dom.development.js:20103:13)
      at beginWork (node_modules/react-dom/cjs/react-dom.development.js:21626:16)
      at beginWork$1 (node_modules/react-dom/cjs/react-dom.development.js:27465:14)
      at performUnitOfWork (node_modules/react-dom/cjs/react-dom.development.js:26599:12)
      at workLoopSync (node_modules/react-dom/cjs/react-dom.development.js:26505:5)
      at renderRootSync (node_modules/react-dom/cjs/react-dom.development.js:26473:7)
      at performConcurrentWorkOnRoot (node_modules/react-dom/cjs/react-dom.development.js:25777:74)
      at flushActQueue (node_modules/react/cjs/react.development.js:2667:24)
      at act (node_modules/react/cjs/react.development.js:2582:11)
      at node_modules/@testing-library/react/dist/act-compat.js:47:25
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:190:26)
      at render (node_modules/@testing-library/react/dist/pure.js:292:10)
      at Object.render (src/components/optimized/__tests__/OptimizedImage.test.tsx:57:5)

  console.error
    Error: Uncaught [Error: Element type is invalid: expected a string (for built-in components) or a class/function (for composite components) but got: object.
    
    Check the render method of `OptimizedImage`.]
        at reportException (/workspaces/blipee-os/node_modules/jsdom/lib/jsdom/living/helpers/runtime-script-errors.js:66:24)
        at innerInvokeEventListeners (/workspaces/blipee-os/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:353:9)
        at invokeEventListeners (/workspaces/blipee-os/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:286:3)
        at HTMLUnknownElementImpl._dispatch (/workspaces/blipee-os/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:233:9)
        at HTMLUnknownElementImpl.dispatchEvent (/workspaces/blipee-os/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:104:17)
        at HTMLUnknownElement.dispatchEvent (/workspaces/blipee-os/node_modules/jsdom/lib/jsdom/living/generated/EventTarget.js:241:34)
        at Object.invokeGuardedCallbackDev (/workspaces/blipee-os/node_modules/react-dom/cjs/react-dom.development.js:4213:16)
        at invokeGuardedCallback (/workspaces/blipee-os/node_modules/react-dom/cjs/react-dom.development.js:4277:31)
        at beginWork$1 (/workspaces/blipee-os/node_modules/react-dom/cjs/react-dom.development.js:27490:7)
        at performUnitOfWork (/workspaces/blipee-os/node_modules/react-dom/cjs/react-dom.development.js:26599:12)
        at workLoopSync (/workspaces/blipee-os/node_modules/react-dom/cjs/react-dom.development.js:26505:5)
        at renderRootSync (/workspaces/blipee-os/node_modules/react-dom/cjs/react-dom.development.js:26473:7)
        at performConcurrentWorkOnRoot (/workspaces/blipee-os/node_modules/react-dom/cjs/react-dom.development.js:25777:74)
        at flushActQueue (/workspaces/blipee-os/node_modules/react/cjs/react.development.js:2667:24)
        at act (/workspaces/blipee-os/node_modules/react/cjs/react.development.js:2582:11)
        at /workspaces/blipee-os/node_modules/@testing-library/react/dist/act-compat.js:47:25
        at renderRoot (/workspaces/blipee-os/node_modules/@testing-library/react/dist/pure.js:190:26)
        at render (/workspaces/blipee-os/node_modules/@testing-library/react/dist/pure.js:292:10)
        at Object.render (/workspaces/blipee-os/src/components/optimized/__tests__/OptimizedImage.test.tsx:57:5)
        at Promise.then.completed (/workspaces/blipee-os/node_modules/jest-circus/build/utils.js:298:28)
        at new Promise (<anonymous>)
        at callAsyncCircusFn (/workspaces/blipee-os/node_modules/jest-circus/build/utils.js:231:10)
        at _callCircusTest (/workspaces/blipee-os/node_modules/jest-circus/build/run.js:316:40)
        at _runTest (/workspaces/blipee-os/node_modules/jest-circus/build/run.js:252:3)
        at _runTestsForDescribeBlock (/workspaces/blipee-os/node_modules/jest-circus/build/run.js:126:9)
        at _runTestsForDescribeBlock (/workspaces/blipee-os/node_modules/jest-circus/build/run.js:121:9)
        at run (/workspaces/blipee-os/node_modules/jest-circus/build/run.js:71:3)
        at runAndTransformResultsToJestFormat (/workspaces/blipee-os/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)
        at jestAdapter (/workspaces/blipee-os/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)
        at runTestInternal (/workspaces/blipee-os/node_modules/jest-runner/build/runTest.js:367:16)
        at runTest (/workspaces/blipee-os/node_modules/jest-runner/build/runTest.js:444:34) {
      detail: Error: Element type is invalid: expected a string (for built-in components) or a class/function (for composite components) but got: object.
      
      Check the render method of `OptimizedImage`.
          at createFiberFromTypeAndProps (/workspaces/blipee-os/node_modules/react-dom/cjs/react-dom.development.js:28478:17)
          at createFiberFromElement (/workspaces/blipee-os/node_modules/react-dom/cjs/react-dom.development.js:28504:15)
          at createChild (/workspaces/blipee-os/node_modules/react-dom/cjs/react-dom.development.js:13345:28)
          at reconcileChildrenArray (/workspaces/blipee-os/node_modules/react-dom/cjs/react-dom.development.js:13640:25)
          at reconcileChildFibers (/workspaces/blipee-os/node_modules/react-dom/cjs/react-dom.development.js:14057:16)
          at reconcileChildren (/workspaces/blipee-os/node_modules/react-dom/cjs/react-dom.development.js:19186:28)
          at updateHostComponent (/workspaces/blipee-os/node_modules/react-dom/cjs/react-dom.development.js:19953:3)
          at beginWork (/workspaces/blipee-os/node_modules/react-dom/cjs/react-dom.development.js:21657:14)
          at HTMLUnknownElement.callCallback (/workspaces/blipee-os/node_modules/react-dom/cjs/react-dom.development.js:4164:14)
          at HTMLUnknownElement.callTheUserObjectsOperation (/workspaces/blipee-os/node_modules/jsdom/lib/jsdom/living/generated/EventListener.js:26:30)
          at innerInvokeEventListeners (/workspaces/blipee-os/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:350:25)
          at invokeEventListeners (/workspaces/blipee-os/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:286:3)
          at HTMLUnknownElementImpl._dispatch (/workspaces/blipee-os/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:233:9)
          at HTMLUnknownElementImpl.dispatchEvent (/workspaces/blipee-os/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:104:17)
          at HTMLUnknownElement.dispatchEvent (/workspaces/blipee-os/node_modules/jsdom/lib/jsdom/living/generated/EventTarget.js:241:34)
          at Object.invokeGuardedCallbackDev (/workspaces/blipee-os/node_modules/react-dom/cjs/react-dom.development.js:4213:16)
          at invokeGuardedCallback (/workspaces/blipee-os/node_modules/react-dom/cjs/react-dom.development.js:4277:31)
          at beginWork$1 (/workspaces/blipee-os/node_modules/react-dom/cjs/react-dom.development.js:27490:7)
          at performUnitOfWork (/workspaces/blipee-os/node_modules/react-dom/cjs/react-dom.development.js:26599:12)
          at workLoopSync (/workspaces/blipee-os/node_modules/react-dom/cjs/react-dom.development.js:26505:5)
          at renderRootSync (/workspaces/blipee-os/node_modules/react-dom/cjs/react-dom.development.js:26473:7)
          at performConcurrentWorkOnRoot (/workspaces/blipee-os/node_modules/react-dom/cjs/react-dom.development.js:25777:74)
          at flushActQueue (/workspaces/blipee-os/node_modules/react/cjs/react.development.js:2667:24)
          at act (/workspaces/blipee-os/node_modules/react/cjs/react.development.js:2582:11)
          at /workspaces/blipee-os/node_modules/@testing-library/react/dist/act-compat.js:47:25
          at renderRoot (/workspaces/blipee-os/node_modules/@testing-library/react/dist/pure.js:190:26)
          at render (/workspaces/blipee-os/node_modules/@testing-library/react/dist/pure.js:292:10)
          at Object.render (/workspaces/blipee-os/src/components/optimized/__tests__/OptimizedImage.test.tsx:57:5)
          at Promise.then.completed (/workspaces/blipee-os/node_modules/jest-circus/build/utils.js:298:28)
          at new Promise (<anonymous>)
          at callAsyncCircusFn (/workspaces/blipee-os/node_modules/jest-circus/build/utils.js:231:10)
          at _callCircusTest (/workspaces/blipee-os/node_modules/jest-circus/build/run.js:316:40)
          at _runTest (/workspaces/blipee-os/node_modules/jest-circus/build/run.js:252:3)
          at _runTestsForDescribeBlock (/workspaces/blipee-os/node_modules/jest-circus/build/run.js:126:9)
          at _runTestsForDescribeBlock (/workspaces/blipee-os/node_modules/jest-circus/build/run.js:121:9)
          at run (/workspaces/blipee-os/node_modules/jest-circus/build/run.js:71:3)
          at runAndTransformResultsToJestFormat (/workspaces/blipee-os/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)
          at jestAdapter (/workspaces/blipee-os/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)
          at runTestInternal (/workspaces/blipee-os/node_modules/jest-runner/build/runTest.js:367:16)
          at runTest (/workspaces/blipee-os/node_modules/jest-runner/build/runTest.js:444:34),
      type: 'unhandled exception'
    }

      243 |       return;
      244 |     }
    > 245 |     originalError.call(console, ...args);
          |                   ^
      246 |   };
      247 |   
      248 |   console.warn = (...args) => {

      at console.call [as error] (jest.setup.enterprise.js:245:19)
      at VirtualConsole.<anonymous> (node_modules/@jest/environment-jsdom-abstract/build/index.js:78:23)
      at reportException (node_modules/jsdom/lib/jsdom/living/helpers/runtime-script-errors.js:70:28)
      at innerInvokeEventListeners (node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:353:9)
      at invokeEventListeners (node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:286:3)
      at HTMLUnknownElementImpl._dispatch (node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:233:9)
      at HTMLUnknownElementImpl.dispatchEvent (node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:104:17)
      at HTMLUnknownElement.dispatchEvent (node_modules/jsdom/lib/jsdom/living/generated/EventTarget.js:241:34)
      at Object.invokeGuardedCallbackDev (node_modules/react-dom/cjs/react-dom.development.js:4213:16)
      at invokeGuardedCallback (node_modules/react-dom/cjs/react-dom.development.js:4277:31)
      at beginWork$1 (node_modules/react-dom/cjs/react-dom.development.js:27490:7)
      at performUnitOfWork (node_modules/react-dom/cjs/react-dom.development.js:26599:12)
      at workLoopSync (node_modules/react-dom/cjs/react-dom.development.js:26505:5)
      at renderRootSync (node_modules/react-dom/cjs/react-dom.development.js:26473:7)
      at performConcurrentWorkOnRoot (node_modules/react-dom/cjs/react-dom.development.js:25777:74)
      at flushActQueue (node_modules/react/cjs/react.development.js:2667:24)
      at act (node_modules/react/cjs/react.development.js:2582:11)
      at node_modules/@testing-library/react/dist/act-compat.js:47:25
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:190:26)
      at render (node_modules/@testing-library/react/dist/pure.js:292:10)
      at Object.render (src/components/optimized/__tests__/OptimizedImage.test.tsx:57:5)

  console.error
    Warning: React.jsx: type is invalid -- expected a string (for built-in components) or a class/function (for composite components) but got: object.
    
    Check the render method of `OptimizedImage`.
        at src (/workspaces/blipee-os/src/components/optimized/OptimizedImage.tsx:22:3)

      243 |       return;
      244 |     }
    > 245 |     originalError.call(console, ...args);
          |                   ^
      246 |   };
      247 |   
      248 |   console.warn = (...args) => {

      at console.call [as error] (jest.setup.enterprise.js:245:19)
      at printWarning (node_modules/react/cjs/react-jsx-runtime.development.js:87:30)
      at error (node_modules/react/cjs/react-jsx-runtime.development.js:61:7)
      at jsxWithValidation (node_modules/react/cjs/react-jsx-runtime.development.js:1245:7)
      at jsxWithValidationDynamic (node_modules/react/cjs/react-jsx-runtime.development.js:1320:12)
      at _jsx (src/components/optimized/OptimizedImage.tsx:80:7)
      at renderWithHooks (node_modules/react-dom/cjs/react-dom.development.js:15486:18)
      at mountIndeterminateComponent (node_modules/react-dom/cjs/react-dom.development.js:20103:13)
      at beginWork (node_modules/react-dom/cjs/react-dom.development.js:21626:16)
      at beginWork$1 (node_modules/react-dom/cjs/react-dom.development.js:27465:14)
      at performUnitOfWork (node_modules/react-dom/cjs/react-dom.development.js:26599:12)
      at workLoopSync (node_modules/react-dom/cjs/react-dom.development.js:26505:5)
      at renderRootSync (node_modules/react-dom/cjs/react-dom.development.js:26473:7)
      at recoverFromConcurrentError (node_modules/react-dom/cjs/react-dom.development.js:25889:20)
      at performConcurrentWorkOnRoot (node_modules/react-dom/cjs/react-dom.development.js:25789:22)
      at flushActQueue (node_modules/react/cjs/react.development.js:2667:24)
      at act (node_modules/react/cjs/react.development.js:2582:11)
      at node_modules/@testing-library/react/dist/act-compat.js:47:25
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:190:26)
      at render (node_modules/@testing-library/react/dist/pure.js:292:10)
      at Object.render (src/components/optimized/__tests__/OptimizedImage.test.tsx:57:5)

  console.error
    Error: Uncaught [Error: Element type is invalid: expected a string (for built-in components) or a class/function (for composite components) but got: object.
    
    Check the render method of `OptimizedImage`.]
        at reportException (/workspaces/blipee-os/node_modules/jsdom/lib/jsdom/living/helpers/runtime-script-errors.js:66:24)
        at innerInvokeEventListeners (/workspaces/blipee-os/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:353:9)
        at invokeEventListeners (/workspaces/blipee-os/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:286:3)
        at HTMLUnknownElementImpl._dispatch (/workspaces/blipee-os/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:233:9)
        at HTMLUnknownElementImpl.dispatchEvent (/workspaces/blipee-os/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:104:17)
        at HTMLUnknownElement.dispatchEvent (/workspaces/blipee-os/node_modules/jsdom/lib/jsdom/living/generated/EventTarget.js:241:34)
        at Object.invokeGuardedCallbackDev (/workspaces/blipee-os/node_modules/react-dom/cjs/react-dom.development.js:4213:16)
        at invokeGuardedCallback (/workspaces/blipee-os/node_modules/react-dom/cjs/react-dom.development.js:4277:31)
        at beginWork$1 (/workspaces/blipee-os/node_modules/react-dom/cjs/react-dom.development.js:27490:7)
        at performUnitOfWork (/workspaces/blipee-os/node_modules/react-dom/cjs/react-dom.development.js:26599:12)
        at workLoopSync (/workspaces/blipee-os/node_modules/react-dom/cjs/react-dom.development.js:26505:5)
        at renderRootSync (/workspaces/blipee-os/node_modules/react-dom/cjs/react-dom.development.js:26473:7)
        at recoverFromConcurrentError (/workspaces/blipee-os/node_modules/react-dom/cjs/react-dom.development.js:25889:20)
        at performConcurrentWorkOnRoot (/workspaces/blipee-os/node_modules/react-dom/cjs/react-dom.development.js:25789:22)
        at flushActQueue (/workspaces/blipee-os/node_modules/react/cjs/react.development.js:2667:24)
        at act (/workspaces/blipee-os/node_modules/react/cjs/react.development.js:2582:11)
        at /workspaces/blipee-os/node_modules/@testing-library/react/dist/act-compat.js:47:25
        at renderRoot (/workspaces/blipee-os/node_modules/@testing-library/react/dist/pure.js:190:26)
        at render (/workspaces/blipee-os/node_modules/@testing-library/react/dist/pure.js:292:10)
        at Object.render (/workspaces/blipee-os/src/components/optimized/__tests__/OptimizedImage.test.tsx:57:5)
        at Promise.then.completed (/workspaces/blipee-os/node_modules/jest-circus/build/utils.js:298:28)
        at new Promise (<anonymous>)
        at callAsyncCircusFn (/workspaces/blipee-os/node_modules/jest-circus/build/utils.js:231:10)
        at _callCircusTest (/workspaces/blipee-os/node_modules/jest-circus/build/run.js:316:40)
        at _runTest (/workspaces/blipee-os/node_modules/jest-circus/build/run.js:252:3)
        at _runTestsForDescribeBlock (/workspaces/blipee-os/node_modules/jest-circus/build/run.js:126:9)
        at _runTestsForDescribeBlock (/workspaces/blipee-os/node_modules/jest-circus/build/run.js:121:9)
        at run (/workspaces/blipee-os/node_modules/jest-circus/build/run.js:71:3)
        at runAndTransformResultsToJestFormat (/workspaces/blipee-os/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)
        at jestAdapter (/workspaces/blipee-os/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)
        at runTestInternal (/workspaces/blipee-os/node_modules/jest-runner/build/runTest.js:367:16)
        at runTest (/workspaces/blipee-os/node_modules/jest-runner/build/runTest.js:444:34) {
      detail: Error: Element type is invalid: expected a string (for built-in components) or a class/function (for composite components) but got: object.
      
      Check the render method of `OptimizedImage`.
          at createFiberFromTypeAndProps (/workspaces/blipee-os/node_modules/react-dom/cjs/react-dom.development.js:28478:17)
          at createFiberFromElement (/workspaces/blipee-os/node_modules/react-dom/cjs/react-dom.development.js:28504:15)
          at createChild (/workspaces/blipee-os/node_modules/react-dom/cjs/react-dom.development.js:13345:28)
          at reconcileChildrenArray (/workspaces/blipee-os/node_modules/react-dom/cjs/react-dom.development.js:13640:25)
          at reconcileChildFibers (/workspaces/blipee-os/node_modules/react-dom/cjs/react-dom.development.js:14057:16)
          at reconcileChildren (/workspaces/blipee-os/node_modules/react-dom/cjs/react-dom.development.js:19186:28)
          at updateHostComponent (/workspaces/blipee-os/node_modules/react-dom/cjs/react-dom.development.js:19953:3)
          at beginWork (/workspaces/blipee-os/node_modules/react-dom/cjs/react-dom.development.js:21657:14)
          at HTMLUnknownElement.callCallback (/workspaces/blipee-os/node_modules/react-dom/cjs/react-dom.development.js:4164:14)
          at HTMLUnknownElement.callTheUserObjectsOperation (/workspaces/blipee-os/node_modules/jsdom/lib/jsdom/living/generated/EventListener.js:26:30)
          at innerInvokeEventListeners (/workspaces/blipee-os/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:350:25)
          at invokeEventListeners (/workspaces/blipee-os/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:286:3)
          at HTMLUnknownElementImpl._dispatch (/workspaces/blipee-os/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:233:9)
          at HTMLUnknownElementImpl.dispatchEvent (/workspaces/blipee-os/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:104:17)
          at HTMLUnknownElement.dispatchEvent (/workspaces/blipee-os/node_modules/jsdom/lib/jsdom/living/generated/EventTarget.js:241:34)
          at Object.invokeGuardedCallbackDev (/workspaces/blipee-os/node_modules/react-dom/cjs/react-dom.development.js:4213:16)
          at invokeGuardedCallback (/workspaces/blipee-os/node_modules/react-dom/cjs/react-dom.development.js:4277:31)
          at beginWork$1 (/workspaces/blipee-os/node_modules/react-dom/cjs/react-dom.development.js:27490:7)
          at performUnitOfWork (/workspaces/blipee-os/node_modules/react-dom/cjs/react-dom.development.js:26599:12)
          at workLoopSync (/workspaces/blipee-os/node_modules/react-dom/cjs/react-dom.development.js:26505:5)
          at renderRootSync (/workspaces/blipee-os/node_modules/react-dom/cjs/react-dom.development.js:26473:7)
          at recoverFromConcurrentError (/workspaces/blipee-os/node_modules/react-dom/cjs/react-dom.development.js:25889:20)
          at performConcurrentWorkOnRoot (/workspaces/blipee-os/node_modules/react-dom/cjs/react-dom.development.js:25789:22)
          at flushActQueue (/workspaces/blipee-os/node_modules/react/cjs/react.development.js:2667:24)
          at act (/workspaces/blipee-os/node_modules/react/cjs/react.development.js:2582:11)
          at /workspaces/blipee-os/node_modules/@testing-library/react/dist/act-compat.js:47:25
          at renderRoot (/workspaces/blipee-os/node_modules/@testing-library/react/dist/pure.js:190:26)
          at render (/workspaces/blipee-os/node_modules/@testing-library/react/dist/pure.js:292:10)
          at Object.render (/workspaces/blipee-os/src/components/optimized/__tests__/OptimizedImage.test.tsx:57:5)
          at Promise.then.completed (/workspaces/blipee-os/node_modules/jest-circus/build/utils.js:298:28)
          at new Promise (<anonymous>)
          at callAsyncCircusFn (/workspaces/blipee-os/node_modules/jest-circus/build/utils.js:231:10)
          at _callCircusTest (/workspaces/blipee-os/node_modules/jest-circus/build/run.js:316:40)
          at _runTest (/workspaces/blipee-os/node_modules/jest-circus/build/run.js:252:3)
          at _runTestsForDescribeBlock (/workspaces/blipee-os/node_modules/jest-circus/build/run.js:126:9)
          at _runTestsForDescribeBlock (/workspaces/blipee-os/node_modules/jest-circus/build/run.js:121:9)
          at run (/workspaces/blipee-os/node_modules/jest-circus/build/run.js:71:3)
          at runAndTransformResultsToJestFormat (/workspaces/blipee-os/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)
          at jestAdapter (/workspaces/blipee-os/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)
          at runTestInternal (/workspaces/blipee-os/node_modules/jest-runner/build/runTest.js:367:16)
          at runTest (/workspaces/blipee-os/node_modules/jest-runner/build/runTest.js:444:34),
      type: 'unhandled exception'
    }

      243 |       return;
      244 |     }
    > 245 |     originalError.call(console, ...args);
          |                   ^
      246 |   };
      247 |   
      248 |   console.warn = (...args) => {

      at console.call [as error] (jest.setup.enterprise.js:245:19)
      at VirtualConsole.<anonymous> (node_modules/@jest/environment-jsdom-abstract/build/index.js:78:23)
      at reportException (node_modules/jsdom/lib/jsdom/living/helpers/runtime-script-errors.js:70:28)
      at innerInvokeEventListeners (node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:353:9)
      at invokeEventListeners (node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:286:3)
      at HTMLUnknownElementImpl._dispatch (node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:233:9)
      at HTMLUnknownElementImpl.dispatchEvent (node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:104:17)
      at HTMLUnknownElement.dispatchEvent (node_modules/jsdom/lib/jsdom/living/generated/EventTarget.js:241:34)
      at Object.invokeGuardedCallbackDev (node_modules/react-dom/cjs/react-dom.development.js:4213:16)
      at invokeGuardedCallback (node_modules/react-dom/cjs/react-dom.development.js:4277:31)
      at beginWork$1 (node_modules/react-dom/cjs/react-dom.development.js:27490:7)
      at performUnitOfWork (node_modules/react-dom/cjs/react-dom.development.js:26599:12)
      at workLoopSync (node_modules/react-dom/cjs/react-dom.development.js:26505:5)
      at renderRootSync (node_modules/react-dom/cjs/react-dom.development.js:26473:7)
      at recoverFromConcurrentError (node_modules/react-dom/cjs/react-dom.development.js:25889:20)
      at performConcurrentWorkOnRoot (node_modules/react-dom/cjs/react-dom.development.js:25789:22)
      at flushActQueue (node_modules/react/cjs/react.development.js:2667:24)
      at act (node_modules/react/cjs/react.development.js:2582:11)
      at node_modules/@testing-library/react/dist/act-compat.js:47:25
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:190:26)
      at render (node_modules/@testing-library/react/dist/pure.js:292:10)
      at Object.render (src/components/optimized/__tests__/OptimizedImage.test.tsx:57:5)

  console.error
    The above error occurred in the <div> component:
    
        at div
        at src (/workspaces/blipee-os/src/components/optimized/OptimizedImage.tsx:22:3)
    
    Consider adding an error boundary to your tree to customize error handling behavior.
    Visit https://reactjs.org/link/error-boundaries to learn more about error boundaries.

      243 |       return;
      244 |     }
    > 245 |     originalError.call(console, ...args);
          |                   ^
      246 |   };
      247 |   
      248 |   console.warn = (...args) => {

      at console.call [as error] (jest.setup.enterprise.js:245:19)
      at logCapturedError (node_modules/react-dom/cjs/react-dom.development.js:18704:23)
      at update.callback (node_modules/react-dom/cjs/react-dom.development.js:18737:5)
      at callCallback (node_modules/react-dom/cjs/react-dom.development.js:15036:12)
      at commitUpdateQueue (node_modules/react-dom/cjs/react-dom.development.js:15057:9)
      at commitLayoutEffectOnFiber (node_modules/react-dom/cjs/react-dom.development.js:23430:13)
      at commitLayoutMountEffects_complete (node_modules/react-dom/cjs/react-dom.development.js:24727:9)
      at commitLayoutEffects_begin (node_modules/react-dom/cjs/react-dom.development.js:24713:7)
      at commitLayoutEffects (node_modules/react-dom/cjs/react-dom.development.js:24651:3)
      at commitRootImpl (node_modules/react-dom/cjs/react-dom.development.js:26862:5)
      at commitRoot (node_modules/react-dom/cjs/react-dom.development.js:26721:5)
      at finishConcurrentRender (node_modules/react-dom/cjs/react-dom.development.js:25931:9)
      at performConcurrentWorkOnRoot (node_modules/react-dom/cjs/react-dom.development.js:25848:7)
      at flushActQueue (node_modules/react/cjs/react.development.js:2667:24)
      at act (node_modules/react/cjs/react.development.js:2582:11)
      at node_modules/@testing-library/react/dist/act-compat.js:47:25
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:190:26)
      at render (node_modules/@testing-library/react/dist/pure.js:292:10)
      at Object.render (src/components/optimized/__tests__/OptimizedImage.test.tsx:57:5)

  console.error
    Warning: React.jsx: type is invalid -- expected a string (for built-in components) or a class/function (for composite components) but got: object.
    
    Check the render method of `OptimizedImage`.
        at src (/workspaces/blipee-os/src/components/optimized/OptimizedImage.tsx:22:3)

      243 |       return;
      244 |     }
    > 245 |     originalError.call(console, ...args);
          |                   ^
      246 |   };
      247 |   
      248 |   console.warn = (...args) => {

      at console.call [as error] (jest.setup.enterprise.js:245:19)
      at printWarning (node_modules/react/cjs/react-jsx-runtime.development.js:87:30)
      at error (node_modules/react/cjs/react-jsx-runtime.development.js:61:7)
      at jsxWithValidation (node_modules/react/cjs/react-jsx-runtime.development.js:1245:7)
      at jsxWithValidationDynamic (node_modules/react/cjs/react-jsx-runtime.development.js:1320:12)
      at _jsx (src/components/optimized/OptimizedImage.tsx:80:7)
      at renderWithHooks (node_modules/react-dom/cjs/react-dom.development.js:15486:18)
      at mountIndeterminateComponent (node_modules/react-dom/cjs/react-dom.development.js:20103:13)
      at beginWork (node_modules/react-dom/cjs/react-dom.development.js:21626:16)
      at beginWork$1 (node_modules/react-dom/cjs/react-dom.development.js:27465:14)
      at performUnitOfWork (node_modules/react-dom/cjs/react-dom.development.js:26599:12)
      at workLoopSync (node_modules/react-dom/cjs/react-dom.development.js:26505:5)
      at renderRootSync (node_modules/react-dom/cjs/react-dom.development.js:26473:7)
      at performConcurrentWorkOnRoot (node_modules/react-dom/cjs/react-dom.development.js:25777:74)
      at flushActQueue (node_modules/react/cjs/react.development.js:2667:24)
      at act (node_modules/react/cjs/react.development.js:2582:11)
      at node_modules/@testing-library/react/dist/act-compat.js:47:25
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:190:26)
      at render (node_modules/@testing-library/react/dist/pure.js:292:10)
      at Object.render (src/components/optimized/__tests__/OptimizedImage.test.tsx:63:5)

  console.error
    Error: Uncaught [Error: Element type is invalid: expected a string (for built-in components) or a class/function (for composite components) but got: object.
    
    Check the render method of `OptimizedImage`.]
        at reportException (/workspaces/blipee-os/node_modules/jsdom/lib/jsdom/living/helpers/runtime-script-errors.js:66:24)
        at innerInvokeEventListeners (/workspaces/blipee-os/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:353:9)
        at invokeEventListeners (/workspaces/blipee-os/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:286:3)
        at HTMLUnknownElementImpl._dispatch (/workspaces/blipee-os/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:233:9)
        at HTMLUnknownElementImpl.dispatchEvent (/workspaces/blipee-os/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:104:17)
        at HTMLUnknownElement.dispatchEvent (/workspaces/blipee-os/node_modules/jsdom/lib/jsdom/living/generated/EventTarget.js:241:34)
        at Object.invokeGuardedCallbackDev (/workspaces/blipee-os/node_modules/react-dom/cjs/react-dom.development.js:4213:16)
        at invokeGuardedCallback (/workspaces/blipee-os/node_modules/react-dom/cjs/react-dom.development.js:4277:31)
        at beginWork$1 (/workspaces/blipee-os/node_modules/react-dom/cjs/react-dom.development.js:27490:7)
        at performUnitOfWork (/workspaces/blipee-os/node_modules/react-dom/cjs/react-dom.development.js:26599:12)
        at workLoopSync (/workspaces/blipee-os/node_modules/react-dom/cjs/react-dom.development.js:26505:5)
        at renderRootSync (/workspaces/blipee-os/node_modules/react-dom/cjs/react-dom.development.js:26473:7)
        at performConcurrentWorkOnRoot (/workspaces/blipee-os/node_modules/react-dom/cjs/react-dom.development.js:25777:74)
        at flushActQueue (/workspaces/blipee-os/node_modules/react/cjs/react.development.js:2667:24)
        at act (/workspaces/blipee-os/node_modules/react/cjs/react.development.js:2582:11)
        at /workspaces/blipee-os/node_modules/@testing-library/react/dist/act-compat.js:47:25
        at renderRoot (/workspaces/blipee-os/node_modules/@testing-library/react/dist/pure.js:190:26)
        at render (/workspaces/blipee-os/node_modules/@testing-library/react/dist/pure.js:292:10)
        at Object.render (/workspaces/blipee-os/src/components/optimized/__tests__/OptimizedImage.test.tsx:63:5)
        at Promise.then.completed (/workspaces/blipee-os/node_modules/jest-circus/build/utils.js:298:28)
        at new Promise (<anonymous>)
        at callAsyncCircusFn (/workspaces/blipee-os/node_modules/jest-circus/build/utils.js:231:10)
        at _callCircusTest (/workspaces/blipee-os/node_modules/jest-circus/build/run.js:316:40)
        at _runTest (/workspaces/blipee-os/node_modules/jest-circus/build/run.js:252:3)
        at _runTestsForDescribeBlock (/workspaces/blipee-os/node_modules/jest-circus/build/run.js:126:9)
        at _runTestsForDescribeBlock (/workspaces/blipee-os/node_modules/jest-circus/build/run.js:121:9)
        at run (/workspaces/blipee-os/node_modules/jest-circus/build/run.js:71:3)
        at runAndTransformResultsToJestFormat (/workspaces/blipee-os/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)
        at jestAdapter (/workspaces/blipee-os/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)
        at runTestInternal (/workspaces/blipee-os/node_modules/jest-runner/build/runTest.js:367:16)
        at runTest (/workspaces/blipee-os/node_modules/jest-runner/build/runTest.js:444:34) {
      detail: Error: Element type is invalid: expected a string (for built-in components) or a class/function (for composite components) but got: object.
      
      Check the render method of `OptimizedImage`.
          at createFiberFromTypeAndProps (/workspaces/blipee-os/node_modules/react-dom/cjs/react-dom.development.js:28478:17)
          at createFiberFromElement (/workspaces/blipee-os/node_modules/react-dom/cjs/react-dom.development.js:28504:15)
          at createChild (/workspaces/blipee-os/node_modules/react-dom/cjs/react-dom.development.js:13345:28)
          at reconcileChildrenArray (/workspaces/blipee-os/node_modules/react-dom/cjs/react-dom.development.js:13640:25)
          at reconcileChildFibers (/workspaces/blipee-os/node_modules/react-dom/cjs/react-dom.development.js:14057:16)
          at reconcileChildren (/workspaces/blipee-os/node_modules/react-dom/cjs/react-dom.development.js:19186:28)
          at updateHostComponent (/workspaces/blipee-os/node_modules/react-dom/cjs/react-dom.development.js:19953:3)
          at beginWork (/workspaces/blipee-os/node_modules/react-dom/cjs/react-dom.development.js:21657:14)
          at HTMLUnknownElement.callCallback (/workspaces/blipee-os/node_modules/react-dom/cjs/react-dom.development.js:4164:14)
          at HTMLUnknownElement.callTheUserObjectsOperation (/workspaces/blipee-os/node_modules/jsdom/lib/jsdom/living/generated/EventListener.js:26:30)
          at innerInvokeEventListeners (/workspaces/blipee-os/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:350:25)
          at invokeEventListeners (/workspaces/blipee-os/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:286:3)
          at HTMLUnknownElementImpl._dispatch (/workspaces/blipee-os/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:233:9)
          at HTMLUnknownElementImpl.dispatchEvent (/workspaces/blipee-os/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:104:17)
          at HTMLUnknownElement.dispatchEvent (/workspaces/blipee-os/node_modules/jsdom/lib/jsdom/living/generated/EventTarget.js:241:34)
          at Object.invokeGuardedCallbackDev (/workspaces/blipee-os/node_modules/react-dom/cjs/react-dom.development.js:4213:16)
          at invokeGuardedCallback (/workspaces/blipee-os/node_modules/react-dom/cjs/react-dom.development.js:4277:31)
          at beginWork$1 (/workspaces/blipee-os/node_modules/react-dom/cjs/react-dom.development.js:27490:7)
          at performUnitOfWork (/workspaces/blipee-os/node_modules/react-dom/cjs/react-dom.development.js:26599:12)
          at workLoopSync (/workspaces/blipee-os/node_modules/react-dom/cjs/react-dom.development.js:26505:5)
          at renderRootSync (/workspaces/blipee-os/node_modules/react-dom/cjs/react-dom.development.js:26473:7)
          at performConcurrentWorkOnRoot (/workspaces/blipee-os/node_modules/react-dom/cjs/react-dom.development.js:25777:74)
          at flushActQueue (/workspaces/blipee-os/node_modules/react/cjs/react.development.js:2667:24)
          at act (/workspaces/blipee-os/node_modules/react/cjs/react.development.js:2582:11)
          at /workspaces/blipee-os/node_modules/@testing-library/react/dist/act-compat.js:47:25
          at renderRoot (/workspaces/blipee-os/node_modules/@testing-library/react/dist/pure.js:190:26)
          at render (/workspaces/blipee-os/node_modules/@testing-library/react/dist/pure.js:292:10)
          at Object.render (/workspaces/blipee-os/src/components/optimized/__tests__/OptimizedImage.test.tsx:63:5)
          at Promise.then.completed (/workspaces/blipee-os/node_modules/jest-circus/build/utils.js:298:28)
          at new Promise (<anonymous>)
          at callAsyncCircusFn (/workspaces/blipee-os/node_modules/jest-circus/build/utils.js:231:10)
          at _callCircusTest (/workspaces/blipee-os/node_modules/jest-circus/build/run.js:316:40)
          at _runTest (/workspaces/blipee-os/node_modules/jest-circus/build/run.js:252:3)
          at _runTestsForDescribeBlock (/workspaces/blipee-os/node_modules/jest-circus/build/run.js:126:9)
          at _runTestsForDescribeBlock (/workspaces/blipee-os/node_modules/jest-circus/build/run.js:121:9)
          at run (/workspaces/blipee-os/node_modules/jest-circus/build/run.js:71:3)
          at runAndTransformResultsToJestFormat (/workspaces/blipee-os/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)
          at jestAdapter (/workspaces/blipee-os/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)
          at runTestInternal (/workspaces/blipee-os/node_modules/jest-runner/build/runTest.js:367:16)
          at runTest (/workspaces/blipee-os/node_modules/jest-runner/build/runTest.js:444:34),
      type: 'unhandled exception'
    }

      243 |       return;
      244 |     }
    > 245 |     originalError.call(console, ...args);
          |                   ^
      246 |   };
      247 |   
      248 |   console.warn = (...args) => {

      at console.call [as error] (jest.setup.enterprise.js:245:19)
      at VirtualConsole.<anonymous> (node_modules/@jest/environment-jsdom-abstract/build/index.js:78:23)
      at reportException (node_modules/jsdom/lib/jsdom/living/helpers/runtime-script-errors.js:70:28)
      at innerInvokeEventListeners (node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:353:9)
      at invokeEventListeners (node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:286:3)
      at HTMLUnknownElementImpl._dispatch (node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:233:9)
      at HTMLUnknownElementImpl.dispatchEvent (node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:104:17)
      at HTMLUnknownElement.dispatchEvent (node_modules/jsdom/lib/jsdom/living/generated/EventTarget.js:241:34)
      at Object.invokeGuardedCallbackDev (node_modules/react-dom/cjs/react-dom.development.js:4213:16)
      at invokeGuardedCallback (node_modules/react-dom/cjs/react-dom.development.js:4277:31)
      at beginWork$1 (node_modules/react-dom/cjs/react-dom.development.js:27490:7)
      at performUnitOfWork (node_modules/react-dom/cjs/react-dom.development.js:26599:12)
      at workLoopSync (node_modules/react-dom/cjs/react-dom.development.js:26505:5)
      at renderRootSync (node_modules/react-dom/cjs/react-dom.development.js:26473:7)
      at performConcurrentWorkOnRoot (node_modules/react-dom/cjs/react-dom.development.js:25777:74)
      at flushActQueue (node_modules/react/cjs/react.development.js:2667:24)
      at act (node_modules/react/cjs/react.development.js:2582:11)
      at node_modules/@testing-library/react/dist/act-compat.js:47:25
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:190:26)
      at render (node_modules/@testing-library/react/dist/pure.js:292:10)
      at Object.render (src/components/optimized/__tests__/OptimizedImage.test.tsx:63:5)

  console.error
    Warning: React.jsx: type is invalid -- expected a string (for built-in components) or a class/function (for composite components) but got: object.
    
    Check the render method of `OptimizedImage`.
        at src (/workspaces/blipee-os/src/components/optimized/OptimizedImage.tsx:22:3)

      243 |       return;
      244 |     }
    > 245 |     originalError.call(console, ...args);
          |                   ^
      246 |   };
      247 |   
      248 |   console.warn = (...args) => {

      at console.call [as error] (jest.setup.enterprise.js:245:19)
      at printWarning (node_modules/react/cjs/react-jsx-runtime.development.js:87:30)
      at error (node_modules/react/cjs/react-jsx-runtime.development.js:61:7)
      at jsxWithValidation (node_modules/react/cjs/react-jsx-runtime.development.js:1245:7)
      at jsxWithValidationDynamic (node_modules/react/cjs/react-jsx-runtime.development.js:1320:12)
      at _jsx (src/components/optimized/OptimizedImage.tsx:80:7)
      at renderWithHooks (node_modules/react-dom/cjs/react-dom.development.js:15486:18)
      at mountIndeterminateComponent (node_modules/react-dom/cjs/react-dom.development.js:20103:13)
      at beginWork (node_modules/react-dom/cjs/react-dom.development.js:21626:16)
      at beginWork$1 (node_modules/react-dom/cjs/react-dom.development.js:27465:14)
      at performUnitOfWork (node_modules/react-dom/cjs/react-dom.development.js:26599:12)
      at workLoopSync (node_modules/react-dom/cjs/react-dom.development.js:26505:5)
      at renderRootSync (node_modules/react-dom/cjs/react-dom.development.js:26473:7)
      at recoverFromConcurrentError (node_modules/react-dom/cjs/react-dom.development.js:25889:20)
      at performConcurrentWorkOnRoot (node_modules/react-dom/cjs/react-dom.development.js:25789:22)
      at flushActQueue (node_modules/react/cjs/react.development.js:2667:24)
      at act (node_modules/react/cjs/react.development.js:2582:11)
      at node_modules/@testing-library/react/dist/act-compat.js:47:25
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:190:26)
      at render (node_modules/@testing-library/react/dist/pure.js:292:10)
      at Object.render (src/components/optimized/__tests__/OptimizedImage.test.tsx:63:5)

  console.error
    Error: Uncaught [Error: Element type is invalid: expected a string (for built-in components) or a class/function (for composite components) but got: object.
    
    Check the render method of `OptimizedImage`.]
        at reportException (/workspaces/blipee-os/node_modules/jsdom/lib/jsdom/living/helpers/runtime-script-errors.js:66:24)
        at innerInvokeEventListeners (/workspaces/blipee-os/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:353:9)
        at invokeEventListeners (/workspaces/blipee-os/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:286:3)
        at HTMLUnknownElementImpl._dispatch (/workspaces/blipee-os/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:233:9)
        at HTMLUnknownElementImpl.dispatchEvent (/workspaces/blipee-os/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:104:17)
        at HTMLUnknownElement.dispatchEvent (/workspaces/blipee-os/node_modules/jsdom/lib/jsdom/living/generated/EventTarget.js:241:34)
        at Object.invokeGuardedCallbackDev (/workspaces/blipee-os/node_modules/react-dom/cjs/react-dom.development.js:4213:16)
        at invokeGuardedCallback (/workspaces/blipee-os/node_modules/react-dom/cjs/react-dom.development.js:4277:31)
        at beginWork$1 (/workspaces/blipee-os/node_modules/react-dom/cjs/react-dom.development.js:27490:7)
        at performUnitOfWork (/workspaces/blipee-os/node_modules/react-dom/cjs/react-dom.development.js:26599:12)
        at workLoopSync (/workspaces/blipee-os/node_modules/react-dom/cjs/react-dom.development.js:26505:5)
        at renderRootSync (/workspaces/blipee-os/node_modules/react-dom/cjs/react-dom.development.js:26473:7)
        at recoverFromConcurrentError (/workspaces/blipee-os/node_modules/react-dom/cjs/react-dom.development.js:25889:20)
        at performConcurrentWorkOnRoot (/workspaces/blipee-os/node_modules/react-dom/cjs/react-dom.development.js:25789:22)
        at flushActQueue (/workspaces/blipee-os/node_modules/react/cjs/react.development.js:2667:24)
        at act (/workspaces/blipee-os/node_modules/react/cjs/react.development.js:2582:11)
        at /workspaces/blipee-os/node_modules/@testing-library/react/dist/act-compat.js:47:25
        at renderRoot (/workspaces/blipee-os/node_modules/@testing-library/react/dist/pure.js:190:26)
        at render (/workspaces/blipee-os/node_modules/@testing-library/react/dist/pure.js:292:10)
        at Object.render (/workspaces/blipee-os/src/components/optimized/__tests__/OptimizedImage.test.tsx:63:5)
        at Promise.then.completed (/workspaces/blipee-os/node_modules/jest-circus/build/utils.js:298:28)
        at new Promise (<anonymous>)
        at callAsyncCircusFn (/workspaces/blipee-os/node_modules/jest-circus/build/utils.js:231:10)
        at _callCircusTest (/workspaces/blipee-os/node_modules/jest-circus/build/run.js:316:40)
        at _runTest (/workspaces/blipee-os/node_modules/jest-circus/build/run.js:252:3)
        at _runTestsForDescribeBlock (/workspaces/blipee-os/node_modules/jest-circus/build/run.js:126:9)
        at _runTestsForDescribeBlock (/workspaces/blipee-os/node_modules/jest-circus/build/run.js:121:9)
        at run (/workspaces/blipee-os/node_modules/jest-circus/build/run.js:71:3)
        at runAndTransformResultsToJestFormat (/workspaces/blipee-os/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)
        at jestAdapter (/workspaces/blipee-os/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)
        at runTestInternal (/workspaces/blipee-os/node_modules/jest-runner/build/runTest.js:367:16)
        at runTest (/workspaces/blipee-os/node_modules/jest-runner/build/runTest.js:444:34) {
      detail: Error: Element type is invalid: expected a string (for built-in components) or a class/function (for composite components) but got: object.
      
      Check the render method of `OptimizedImage`.
          at createFiberFromTypeAndProps (/workspaces/blipee-os/node_modules/react-dom/cjs/react-dom.development.js:28478:17)
          at createFiberFromElement (/workspaces/blipee-os/node_modules/react-dom/cjs/react-dom.development.js:28504:15)
          at createChild (/workspaces/blipee-os/node_modules/react-dom/cjs/react-dom.development.js:13345:28)
          at reconcileChildrenArray (/workspaces/blipee-os/node_modules/react-dom/cjs/react-dom.development.js:13640:25)
          at reconcileChildFibers (/workspaces/blipee-os/node_modules/react-dom/cjs/react-dom.development.js:14057:16)
          at reconcileChildren (/workspaces/blipee-os/node_modules/react-dom/cjs/react-dom.development.js:19186:28)
          at updateHostComponent (/workspaces/blipee-os/node_modules/react-dom/cjs/react-dom.development.js:19953:3)
          at beginWork (/workspaces/blipee-os/node_modules/react-dom/cjs/react-dom.development.js:21657:14)
          at HTMLUnknownElement.callCallback (/workspaces/blipee-os/node_modules/react-dom/cjs/react-dom.development.js:4164:14)
          at HTMLUnknownElement.callTheUserObjectsOperation (/workspaces/blipee-os/node_modules/jsdom/lib/jsdom/living/generated/EventListener.js:26:30)
          at innerInvokeEventListeners (/workspaces/blipee-os/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:350:25)
          at invokeEventListeners (/workspaces/blipee-os/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:286:3)
          at HTMLUnknownElementImpl._dispatch (/workspaces/blipee-os/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:233:9)
          at HTMLUnknownElementImpl.dispatchEvent (/workspaces/blipee-os/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:104:17)
          at HTMLUnknownElement.dispatchEvent (/workspaces/blipee-os/node_modules/jsdom/lib/jsdom/living/generated/EventTarget.js:241:34)
          at Object.invokeGuardedCallbackDev (/workspaces/blipee-os/node_modules/react-dom/cjs/react-dom.development.js:4213:16)
          at invokeGuardedCallback (/workspaces/blipee-os/node_modules/react-dom/cjs/react-dom.development.js:4277:31)
          at beginWork$1 (/workspaces/blipee-os/node_modules/react-dom/cjs/react-dom.development.js:27490:7)
          at performUnitOfWork (/workspaces/blipee-os/node_modules/react-dom/cjs/react-dom.development.js:26599:12)
          at workLoopSync (/workspaces/blipee-os/node_modules/react-dom/cjs/react-dom.development.js:26505:5)
          at renderRootSync (/workspaces/blipee-os/node_modules/react-dom/cjs/react-dom.development.js:26473:7)
          at recoverFromConcurrentError (/workspaces/blipee-os/node_modules/react-dom/cjs/react-dom.development.js:25889:20)
          at performConcurrentWorkOnRoot (/workspaces/blipee-os/node_modules/react-dom/cjs/react-dom.development.js:25789:22)
          at flushActQueue (/workspaces/blipee-os/node_modules/react/cjs/react.development.js:2667:24)
          at act (/workspaces/blipee-os/node_modules/react/cjs/react.development.js:2582:11)
          at /workspaces/blipee-os/node_modules/@testing-library/react/dist/act-compat.js:47:25
          at renderRoot (/workspaces/blipee-os/node_modules/@testing-library/react/dist/pure.js:190:26)
          at render (/workspaces/blipee-os/node_modules/@testing-library/react/dist/pure.js:292:10)
          at Object.render (/workspaces/blipee-os/src/components/optimized/__tests__/OptimizedImage.test.tsx:63:5)
          at Promise.then.completed (/workspaces/blipee-os/node_modules/jest-circus/build/utils.js:298:28)
          at new Promise (<anonymous>)
          at callAsyncCircusFn (/workspaces/blipee-os/node_modules/jest-circus/build/utils.js:231:10)
          at _callCircusTest (/workspaces/blipee-os/node_modules/jest-circus/build/run.js:316:40)
          at _runTest (/workspaces/blipee-os/node_modules/jest-circus/build/run.js:252:3)
          at _runTestsForDescribeBlock (/workspaces/blipee-os/node_modules/jest-circus/build/run.js:126:9)
          at _runTestsForDescribeBlock (/workspaces/blipee-os/node_modules/jest-circus/build/run.js:121:9)
          at run (/workspaces/blipee-os/node_modules/jest-circus/build/run.js:71:3)
          at runAndTransformResultsToJestFormat (/workspaces/blipee-os/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)
          at jestAdapter (/workspaces/blipee-os/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)
          at runTestInternal (/workspaces/blipee-os/node_modules/jest-runner/build/runTest.js:367:16)
          at runTest (/workspaces/blipee-os/node_modules/jest-runner/build/runTest.js:444:34),
      type: 'unhandled exception'
    }

      243 |       return;
      244 |     }
    > 245 |     originalError.call(console, ...args);
          |                   ^
      246 |   };
      247 |   
      248 |   console.warn = (...args) => {

      at console.call [as error] (jest.setup.enterprise.js:245:19)
      at VirtualConsole.<anonymous> (node_modules/@jest/environment-jsdom-abstract/build/index.js:78:23)
      at reportException (node_modules/jsdom/lib/jsdom/living/helpers/runtime-script-errors.js:70:28)
      at innerInvokeEventListeners (node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:353:9)
      at invokeEventListeners (node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:286:3)
      at HTMLUnknownElementImpl._dispatch (node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:233:9)
      at HTMLUnknownElementImpl.dispatchEvent (node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:104:17)
      at HTMLUnknownElement.dispatchEvent (node_modules/jsdom/lib/jsdom/living/generated/EventTarget.js:241:34)
      at Object.invokeGuardedCallbackDev (node_modules/react-dom/cjs/react-dom.development.js:4213:16)
      at invokeGuardedCallback (node_modules/react-dom/cjs/react-dom.development.js:4277:31)
      at beginWork$1 (node_modules/react-dom/cjs/react-dom.development.js:27490:7)
      at performUnitOfWork (node_modules/react-dom/cjs/react-dom.development.js:26599:12)
      at workLoopSync (node_modules/react-dom/cjs/react-dom.development.js:26505:5)
      at renderRootSync (node_modules/react-dom/cjs/react-dom.development.js:26473:7)
      at recoverFromConcurrentError (node_modules/react-dom/cjs/react-dom.development.js:25889:20)
      at performConcurrentWorkOnRoot (node_modules/react-dom/cjs/react-dom.development.js:25789:22)
      at flushActQueue (node_modules/react/cjs/react.development.js:2667:24)
      at act (node_modules/react/cjs/react.development.js:2582:11)
      at node_modules/@testing-library/react/dist/act-compat.js:47:25
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:190:26)
      at render (node_modules/@testing-library/react/dist/pure.js:292:10)
      at Object.render (src/components/optimized/__tests__/OptimizedImage.test.tsx:63:5)

  console.error
    The above error occurred in the <div> component:
    
        at div
        at src (/workspaces/blipee-os/src/components/optimized/OptimizedImage.tsx:22:3)
    
    Consider adding an error boundary to your tree to customize error handling behavior.
    Visit https://reactjs.org/link/error-boundaries to learn more about error boundaries.

      243 |       return;
      244 |     }
    > 245 |     originalError.call(console, ...args);
          |                   ^
      246 |   };
      247 |   
      248 |   console.warn = (...args) => {

      at console.call [as error] (jest.setup.enterprise.js:245:19)
      at logCapturedError (node_modules/react-dom/cjs/react-dom.development.js:18704:23)
      at update.callback (node_modules/react-dom/cjs/react-dom.development.js:18737:5)
      at callCallback (node_modules/react-dom/cjs/react-dom.development.js:15036:12)
      at commitUpdateQueue (node_modules/react-dom/cjs/react-dom.development.js:15057:9)
      at commitLayoutEffectOnFiber (node_modules/react-dom/cjs/react-dom.development.js:23430:13)
      at commitLayoutMountEffects_complete (node_modules/react-dom/cjs/react-dom.development.js:24727:9)
      at commitLayoutEffects_begin (node_modules/react-dom/cjs/react-dom.development.js:24713:7)
      at commitLayoutEffects (node_modules/react-dom/cjs/react-dom.development.js:24651:3)
      at commitRootImpl (node_modules/react-dom/cjs/react-dom.development.js:26862:5)
      at commitRoot (node_modules/react-dom/cjs/react-dom.development.js:26721:5)
      at finishConcurrentRender (node_modules/react-dom/cjs/react-dom.development.js:25931:9)
      at performConcurrentWorkOnRoot (node_modules/react-dom/cjs/react-dom.development.js:25848:7)
      at flushActQueue (node_modules/react/cjs/react.development.js:2667:24)
      at act (node_modules/react/cjs/react.development.js:2582:11)
      at node_modules/@testing-library/react/dist/act-compat.js:47:25
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:190:26)
      at render (node_modules/@testing-library/react/dist/pure.js:292:10)
      at Object.render (src/components/optimized/__tests__/OptimizedImage.test.tsx:63:5)

  console.error
    Warning: React.jsx: type is invalid -- expected a string (for built-in components) or a class/function (for composite components) but got: object.
    
    Check the render method of `OptimizedImage`.
        at src (/workspaces/blipee-os/src/components/optimized/OptimizedImage.tsx:22:3)

      243 |       return;
      244 |     }
    > 245 |     originalError.call(console, ...args);
          |                   ^
      246 |   };
      247 |   
      248 |   console.warn = (...args) => {

      at console.call [as error] (jest.setup.enterprise.js:245:19)
      at printWarning (node_modules/react/cjs/react-jsx-runtime.development.js:87:30)
      at error (node_modules/react/cjs/react-jsx-runtime.development.js:61:7)
      at jsxWithValidation (node_modules/react/cjs/react-jsx-runtime.development.js:1245:7)
      at jsxWithValidationDynamic (node_modules/react/cjs/react-jsx-runtime.development.js:1320:12)
      at _jsx (src/components/optimized/OptimizedImage.tsx:80:7)
      at renderWithHooks (node_modules/react-dom/cjs/react-dom.development.js:15486:18)
      at mountIndeterminateComponent (node_modules/react-dom/cjs/react-dom.development.js:20103:13)
      at beginWork (node_modules/react-dom/cjs/react-dom.development.js:21626:16)
      at beginWork$1 (node_modules/react-dom/cjs/react-dom.development.js:27465:14)
      at performUnitOfWork (node_modules/react-dom/cjs/react-dom.development.js:26599:12)
      at workLoopSync (node_modules/react-dom/cjs/react-dom.development.js:26505:5)
      at renderRootSync (node_modules/react-dom/cjs/react-dom.development.js:26473:7)
      at performConcurrentWorkOnRoot (node_modules/react-dom/cjs/react-dom.development.js:25777:74)
      at flushActQueue (node_modules/react/cjs/react.development.js:2667:24)
      at act (node_modules/react/cjs/react.development.js:2582:11)
      at node_modules/@testing-library/react/dist/act-compat.js:47:25
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:190:26)
      at render (node_modules/@testing-library/react/dist/pure.js:292:10)
      at Object.render (src/components/optimized/__tests__/OptimizedImage.test.tsx:69:5)

  console.error
    Error: Uncaught [Error: Element type is invalid: expected a string (for built-in components) or a class/function (for composite components) but got: object.
    
    Check the render method of `OptimizedImage`.]
        at reportException (/workspaces/blipee-os/node_modules/jsdom/lib/jsdom/living/helpers/runtime-script-errors.js:66:24)
        at innerInvokeEventListeners (/workspaces/blipee-os/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:353:9)
        at invokeEventListeners (/workspaces/blipee-os/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:286:3)
        at HTMLUnknownElementImpl._dispatch (/workspaces/blipee-os/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:233:9)
        at HTMLUnknownElementImpl.dispatchEvent (/workspaces/blipee-os/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:104:17)
        at HTMLUnknownElement.dispatchEvent (/workspaces/blipee-os/node_modules/jsdom/lib/jsdom/living/generated/EventTarget.js:241:34)
        at Object.invokeGuardedCallbackDev (/workspaces/blipee-os/node_modules/react-dom/cjs/react-dom.development.js:4213:16)
        at invokeGuardedCallback (/workspaces/blipee-os/node_modules/react-dom/cjs/react-dom.development.js:4277:31)
        at beginWork$1 (/workspaces/blipee-os/node_modules/react-dom/cjs/react-dom.development.js:27490:7)
        at performUnitOfWork (/workspaces/blipee-os/node_modules/react-dom/cjs/react-dom.development.js:26599:12)
        at workLoopSync (/workspaces/blipee-os/node_modules/react-dom/cjs/react-dom.development.js:26505:5)
        at renderRootSync (/workspaces/blipee-os/node_modules/react-dom/cjs/react-dom.development.js:26473:7)
        at performConcurrentWorkOnRoot (/workspaces/blipee-os/node_modules/react-dom/cjs/react-dom.development.js:25777:74)
        at flushActQueue (/workspaces/blipee-os/node_modules/react/cjs/react.development.js:2667:24)
        at act (/workspaces/blipee-os/node_modules/react/cjs/react.development.js:2582:11)
        at /workspaces/blipee-os/node_modules/@testing-library/react/dist/act-compat.js:47:25
        at renderRoot (/workspaces/blipee-os/node_modules/@testing-library/react/dist/pure.js:190:26)
        at render (/workspaces/blipee-os/node_modules/@testing-library/react/dist/pure.js:292:10)
        at Object.render (/workspaces/blipee-os/src/components/optimized/__tests__/OptimizedImage.test.tsx:69:5)
        at Promise.then.completed (/workspaces/blipee-os/node_modules/jest-circus/build/utils.js:298:28)
        at new Promise (<anonymous>)
        at callAsyncCircusFn (/workspaces/blipee-os/node_modules/jest-circus/build/utils.js:231:10)
        at _callCircusTest (/workspaces/blipee-os/node_modules/jest-circus/build/run.js:316:40)
        at _runTest (/workspaces/blipee-os/node_modules/jest-circus/build/run.js:252:3)
        at _runTestsForDescribeBlock (/workspaces/blipee-os/node_modules/jest-circus/build/run.js:126:9)
        at _runTestsForDescribeBlock (/workspaces/blipee-os/node_modules/jest-circus/build/run.js:121:9)
        at run (/workspaces/blipee-os/node_modules/jest-circus/build/run.js:71:3)
        at runAndTransformResultsToJestFormat (/workspaces/blipee-os/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)
        at jestAdapter (/workspaces/blipee-os/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)
        at runTestInternal (/workspaces/blipee-os/node_modules/jest-runner/build/runTest.js:367:16)
        at runTest (/workspaces/blipee-os/node_modules/jest-runner/build/runTest.js:444:34) {
      detail: Error: Element type is invalid: expected a string (for built-in components) or a class/function (for composite components) but got: object.
      
      Check the render method of `OptimizedImage`.
          at createFiberFromTypeAndProps (/workspaces/blipee-os/node_modules/react-dom/cjs/react-dom.development.js:28478:17)
          at createFiberFromElement (/workspaces/blipee-os/node_modules/react-dom/cjs/react-dom.development.js:28504:15)
          at createChild (/workspaces/blipee-os/node_modules/react-dom/cjs/react-dom.development.js:13345:28)
          at reconcileChildrenArray (/workspaces/blipee-os/node_modules/react-dom/cjs/react-dom.development.js:13640:25)
          at reconcileChildFibers (/workspaces/blipee-os/node_modules/react-dom/cjs/react-dom.development.js:14057:16)
          at reconcileChildren (/workspaces/blipee-os/node_modules/react-dom/cjs/react-dom.development.js:19186:28)
          at updateHostComponent (/workspaces/blipee-os/node_modules/react-dom/cjs/react-dom.development.js:19953:3)
          at beginWork (/workspaces/blipee-os/node_modules/react-dom/cjs/react-dom.development.js:21657:14)
          at HTMLUnknownElement.callCallback (/workspaces/blipee-os/node_modules/react-dom/cjs/react-dom.development.js:4164:14)
          at HTMLUnknownElement.callTheUserObjectsOperation (/workspaces/blipee-os/node_modules/jsdom/lib/jsdom/living/generated/EventListener.js:26:30)
          at innerInvokeEventListeners (/workspaces/blipee-os/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:350:25)
          at invokeEventListeners (/workspaces/blipee-os/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:286:3)
          at HTMLUnknownElementImpl._dispatch (/workspaces/blipee-os/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:233:9)
          at HTMLUnknownElementImpl.dispatchEvent (/workspaces/blipee-os/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:104:17)
          at HTMLUnknownElement.dispatchEvent (/workspaces/blipee-os/node_modules/jsdom/lib/jsdom/living/generated/EventTarget.js:241:34)
          at Object.invokeGuardedCallbackDev (/workspaces/blipee-os/node_modules/react-dom/cjs/react-dom.development.js:4213:16)
          at invokeGuardedCallback (/workspaces/blipee-os/node_modules/react-dom/cjs/react-dom.development.js:4277:31)
          at beginWork$1 (/workspaces/blipee-os/node_modules/react-dom/cjs/react-dom.development.js:27490:7)
          at performUnitOfWork (/workspaces/blipee-os/node_modules/react-dom/cjs/react-dom.development.js:26599:12)
          at workLoopSync (/workspaces/blipee-os/node_modules/react-dom/cjs/react-dom.development.js:26505:5)
          at renderRootSync (/workspaces/blipee-os/node_modules/react-dom/cjs/react-dom.development.js:26473:7)
          at performConcurrentWorkOnRoot (/workspaces/blipee-os/node_modules/react-dom/cjs/react-dom.development.js:25777:74)
          at flushActQueue (/workspaces/blipee-os/node_modules/react/cjs/react.development.js:2667:24)
          at act (/workspaces/blipee-os/node_modules/react/cjs/react.development.js:2582:11)
          at /workspaces/blipee-os/node_modules/@testing-library/react/dist/act-compat.js:47:25
          at renderRoot (/workspaces/blipee-os/node_modules/@testing-library/react/dist/pure.js:190:26)
          at render (/workspaces/blipee-os/node_modules/@testing-library/react/dist/pure.js:292:10)
          at Object.render (/workspaces/blipee-os/src/components/optimized/__tests__/OptimizedImage.test.tsx:69:5)
          at Promise.then.completed (/workspaces/blipee-os/node_modules/jest-circus/build/utils.js:298:28)
          at new Promise (<anonymous>)
          at callAsyncCircusFn (/workspaces/blipee-os/node_modules/jest-circus/build/utils.js:231:10)
          at _callCircusTest (/workspaces/blipee-os/node_modules/jest-circus/build/run.js:316:40)
          at _runTest (/workspaces/blipee-os/node_modules/jest-circus/build/run.js:252:3)
          at _runTestsForDescribeBlock (/workspaces/blipee-os/node_modules/jest-circus/build/run.js:126:9)
          at _runTestsForDescribeBlock (/workspaces/blipee-os/node_modules/jest-circus/build/run.js:121:9)
          at run (/workspaces/blipee-os/node_modules/jest-circus/build/run.js:71:3)
          at runAndTransformResultsToJestFormat (/workspaces/blipee-os/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)
          at jestAdapter (/workspaces/blipee-os/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)
          at runTestInternal (/workspaces/blipee-os/node_modules/jest-runner/build/runTest.js:367:16)
          at runTest (/workspaces/blipee-os/node_modules/jest-runner/build/runTest.js:444:34),
      type: 'unhandled exception'
    }

      243 |       return;
      244 |     }
    > 245 |     originalError.call(console, ...args);
          |                   ^
      246 |   };
      247 |   
      248 |   console.warn = (...args) => {

      at console.call [as error] (jest.setup.enterprise.js:245:19)
      at VirtualConsole.<anonymous> (node_modules/@jest/environment-jsdom-abstract/build/index.js:78:23)
      at reportException (node_modules/jsdom/lib/jsdom/living/helpers/runtime-script-errors.js:70:28)
      at innerInvokeEventListeners (node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:353:9)
      at invokeEventListeners (node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:286:3)
      at HTMLUnknownElementImpl._dispatch (node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:233:9)
      at HTMLUnknownElementImpl.dispatchEvent (node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:104:17)
      at HTMLUnknownElement.dispatchEvent (node_modules/jsdom/lib/jsdom/living/generated/EventTarget.js:241:34)
      at Object.invokeGuardedCallbackDev (node_modules/react-dom/cjs/react-dom.development.js:4213:16)
      at invokeGuardedCallback (node_modules/react-dom/cjs/react-dom.development.js:4277:31)
      at beginWork$1 (node_modules/react-dom/cjs/react-dom.development.js:27490:7)
      at performUnitOfWork (node_modules/react-dom/cjs/react-dom.development.js:26599:12)
      at workLoopSync (node_modules/react-dom/cjs/react-dom.development.js:26505:5)
      at renderRootSync (node_modules/react-dom/cjs/react-dom.development.js:26473:7)
      at performConcurrentWorkOnRoot (node_modules/react-dom/cjs/react-dom.development.js:25777:74)
      at flushActQueue (node_modules/react/cjs/react.development.js:2667:24)
      at act (node_modules/react/cjs/react.development.js:2582:11)
      at node_modules/@testing-library/react/dist/act-compat.js:47:25
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:190:26)
      at render (node_modules/@testing-library/react/dist/pure.js:292:10)
      at Object.render (src/components/optimized/__tests__/OptimizedImage.test.tsx:69:5)

  console.error
    Warning: React.jsx: type is invalid -- expected a string (for built-in components) or a class/function (for composite components) but got: object.
    
    Check the render method of `OptimizedImage`.
        at src (/workspaces/blipee-os/src/components/optimized/OptimizedImage.tsx:22:3)

      243 |       return;
      244 |     }
    > 245 |     originalError.call(console, ...args);
          |                   ^
      246 |   };
      247 |   
      248 |   console.warn = (...args) => {

      at console.call [as error] (jest.setup.enterprise.js:245:19)
      at printWarning (node_modules/react/cjs/react-jsx-runtime.development.js:87:30)
      at error (node_modules/react/cjs/react-jsx-runtime.development.js:61:7)
      at jsxWithValidation (node_modules/react/cjs/react-jsx-runtime.development.js:1245:7)
      at jsxWithValidationDynamic (node_modules/react/cjs/react-jsx-runtime.development.js:1320:12)
      at _jsx (src/components/optimized/OptimizedImage.tsx:80:7)
      at renderWithHooks (node_modules/react-dom/cjs/react-dom.development.js:15486:18)
      at mountIndeterminateComponent (node_modules/react-dom/cjs/react-dom.development.js:20103:13)
      at beginWork (node_modules/react-dom/cjs/react-dom.development.js:21626:16)
      at beginWork$1 (node_modules/react-dom/cjs/react-dom.development.js:27465:14)
      at performUnitOfWork (node_modules/react-dom/cjs/react-dom.development.js:26599:12)
      at workLoopSync (node_modules/react-dom/cjs/react-dom.development.js:26505:5)
      at renderRootSync (node_modules/react-dom/cjs/react-dom.development.js:26473:7)
      at recoverFromConcurrentError (node_modules/react-dom/cjs/react-dom.development.js:25889:20)
      at performConcurrentWorkOnRoot (node_modules/react-dom/cjs/react-dom.development.js:25789:22)
      at flushActQueue (node_modules/react/cjs/react.development.js:2667:24)
      at act (node_modules/react/cjs/react.development.js:2582:11)
      at node_modules/@testing-library/react/dist/act-compat.js:47:25
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:190:26)
      at render (node_modules/@testing-library/react/dist/pure.js:292:10)
      at Object.render (src/components/optimized/__tests__/OptimizedImage.test.tsx:69:5)

  console.error
    Error: Uncaught [Error: Element type is invalid: expected a string (for built-in components) or a class/function (for composite components) but got: object.
    
    Check the render method of `OptimizedImage`.]
        at reportException (/workspaces/blipee-os/node_modules/jsdom/lib/jsdom/living/helpers/runtime-script-errors.js:66:24)
        at innerInvokeEventListeners (/workspaces/blipee-os/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:353:9)
        at invokeEventListeners (/workspaces/blipee-os/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:286:3)
        at HTMLUnknownElementImpl._dispatch (/workspaces/blipee-os/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:233:9)
        at HTMLUnknownElementImpl.dispatchEvent (/workspaces/blipee-os/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:104:17)
        at HTMLUnknownElement.dispatchEvent (/workspaces/blipee-os/node_modules/jsdom/lib/jsdom/living/generated/EventTarget.js:241:34)
        at Object.invokeGuardedCallbackDev (/workspaces/blipee-os/node_modules/react-dom/cjs/react-dom.development.js:4213:16)
        at invokeGuardedCallback (/workspaces/blipee-os/node_modules/react-dom/cjs/react-dom.development.js:4277:31)
        at beginWork$1 (/workspaces/blipee-os/node_modules/react-dom/cjs/react-dom.development.js:27490:7)
        at performUnitOfWork (/workspaces/blipee-os/node_modules/react-dom/cjs/react-dom.development.js:26599:12)
        at workLoopSync (/workspaces/blipee-os/node_modules/react-dom/cjs/react-dom.development.js:26505:5)
        at renderRootSync (/workspaces/blipee-os/node_modules/react-dom/cjs/react-dom.development.js:26473:7)
        at recoverFromConcurrentError (/workspaces/blipee-os/node_modules/react-dom/cjs/react-dom.development.js:25889:20)
        at performConcurrentWorkOnRoot (/workspaces/blipee-os/node_modules/react-dom/cjs/react-dom.development.js:25789:22)
        at flushActQueue (/workspaces/blipee-os/node_modules/react/cjs/react.development.js:2667:24)
        at act (/workspaces/blipee-os/node_modules/react/cjs/react.development.js:2582:11)
        at /workspaces/blipee-os/node_modules/@testing-library/react/dist/act-compat.js:47:25
        at renderRoot (/workspaces/blipee-os/node_modules/@testing-library/react/dist/pure.js:190:26)
        at render (/workspaces/blipee-os/node_modules/@testing-library/react/dist/pure.js:292:10)
        at Object.render (/workspaces/blipee-os/src/components/optimized/__tests__/OptimizedImage.test.tsx:69:5)
        at Promise.then.completed (/workspaces/blipee-os/node_modules/jest-circus/build/utils.js:298:28)
        at new Promise (<anonymous>)
        at callAsyncCircusFn (/workspaces/blipee-os/node_modules/jest-circus/build/utils.js:231:10)
        at _callCircusTest (/workspaces/blipee-os/node_modules/jest-circus/build/run.js:316:40)
        at _runTest (/workspaces/blipee-os/node_modules/jest-circus/build/run.js:252:3)
        at _runTestsForDescribeBlock (/workspaces/blipee-os/node_modules/jest-circus/build/run.js:126:9)
        at _runTestsForDescribeBlock (/workspaces/blipee-os/node_modules/jest-circus/build/run.js:121:9)
        at run (/workspaces/blipee-os/node_modules/jest-circus/build/run.js:71:3)
        at runAndTransformResultsToJestFormat (/workspaces/blipee-os/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)
        at jestAdapter (/workspaces/blipee-os/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)
        at runTestInternal (/workspaces/blipee-os/node_modules/jest-runner/build/runTest.js:367:16)
        at runTest (/workspaces/blipee-os/node_modules/jest-runner/build/runTest.js:444:34) {
      detail: Error: Element type is invalid: expected a string (for built-in components) or a class/function (for composite components) but got: object.
      
      Check the render method of `OptimizedImage`.
          at createFiberFromTypeAndProps (/workspaces/blipee-os/node_modules/react-dom/cjs/react-dom.development.js:28478:17)
          at createFiberFromElement (/workspaces/blipee-os/node_modules/react-dom/cjs/react-dom.development.js:28504:15)
          at createChild (/workspaces/blipee-os/node_modules/react-dom/cjs/react-dom.development.js:13345:28)
          at reconcileChildrenArray (/workspaces/blipee-os/node_modules/react-dom/cjs/react-dom.development.js:13640:25)
          at reconcileChildFibers (/workspaces/blipee-os/node_modules/react-dom/cjs/react-dom.development.js:14057:16)
          at reconcileChildren (/workspaces/blipee-os/node_modules/react-dom/cjs/react-dom.development.js:19186:28)
          at updateHostComponent (/workspaces/blipee-os/node_modules/react-dom/cjs/react-dom.development.js:19953:3)
          at beginWork (/workspaces/blipee-os/node_modules/react-dom/cjs/react-dom.development.js:21657:14)
          at HTMLUnknownElement.callCallback (/workspaces/blipee-os/node_modules/react-dom/cjs/react-dom.development.js:4164:14)
          at HTMLUnknownElement.callTheUserObjectsOperation (/workspaces/blipee-os/node_modules/jsdom/lib/jsdom/living/generated/EventListener.js:26:30)
          at innerInvokeEventListeners (/workspaces/blipee-os/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:350:25)
          at invokeEventListeners (/workspaces/blipee-os/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:286:3)
          at HTMLUnknownElementImpl._dispatch (/workspaces/blipee-os/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:233:9)
          at HTMLUnknownElementImpl.dispatchEvent (/workspaces/blipee-os/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:104:17)
          at HTMLUnknownElement.dispatchEvent (/workspaces/blipee-os/node_modules/jsdom/lib/jsdom/living/generated/EventTarget.js:241:34)
          at Object.invokeGuardedCallbackDev (/workspaces/blipee-os/node_modules/react-dom/cjs/react-dom.development.js:4213:16)
          at invokeGuardedCallback (/workspaces/blipee-os/node_modules/react-dom/cjs/react-dom.development.js:4277:31)
          at beginWork$1 (/workspaces/blipee-os/node_modules/react-dom/cjs/react-dom.development.js:27490:7)
          at performUnitOfWork (/workspaces/blipee-os/node_modules/react-dom/cjs/react-dom.development.js:26599:12)
          at workLoopSync (/workspaces/blipee-os/node_modules/react-dom/cjs/react-dom.development.js:26505:5)
          at renderRootSync (/workspaces/blipee-os/node_modules/react-dom/cjs/react-dom.development.js:26473:7)
          at recoverFromConcurrentError (/workspaces/blipee-os/node_modules/react-dom/cjs/react-dom.development.js:25889:20)
          at performConcurrentWorkOnRoot (/workspaces/blipee-os/node_modules/react-dom/cjs/react-dom.development.js:25789:22)
          at flushActQueue (/workspaces/blipee-os/node_modules/react/cjs/react.development.js:2667:24)
          at act (/workspaces/blipee-os/node_modules/react/cjs/react.development.js:2582:11)
          at /workspaces/blipee-os/node_modules/@testing-library/react/dist/act-compat.js:47:25
          at renderRoot (/workspaces/blipee-os/node_modules/@testing-library/react/dist/pure.js:190:26)
          at render (/workspaces/blipee-os/node_modules/@testing-library/react/dist/pure.js:292:10)
          at Object.render (/workspaces/blipee-os/src/components/optimized/__tests__/OptimizedImage.test.tsx:69:5)
          at Promise.then.completed (/workspaces/blipee-os/node_modules/jest-circus/build/utils.js:298:28)
          at new Promise (<anonymous>)
          at callAsyncCircusFn (/workspaces/blipee-os/node_modules/jest-circus/build/utils.js:231:10)
          at _callCircusTest (/workspaces/blipee-os/node_modules/jest-circus/build/run.js:316:40)
          at _runTest (/workspaces/blipee-os/node_modules/jest-circus/build/run.js:252:3)
          at _runTestsForDescribeBlock (/workspaces/blipee-os/node_modules/jest-circus/build/run.js:126:9)
          at _runTestsForDescribeBlock (/workspaces/blipee-os/node_modules/jest-circus/build/run.js:121:9)
          at run (/workspaces/blipee-os/node_modules/jest-circus/build/run.js:71:3)
          at runAndTransformResultsToJestFormat (/workspaces/blipee-os/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)
          at jestAdapter (/workspaces/blipee-os/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)
          at runTestInternal (/workspaces/blipee-os/node_modules/jest-runner/build/runTest.js:367:16)
          at runTest (/workspaces/blipee-os/node_modules/jest-runner/build/runTest.js:444:34),
      type: 'unhandled exception'
    }

      243 |       return;
      244 |     }
    > 245 |     originalError.call(console, ...args);
          |                   ^
      246 |   };
      247 |   
      248 |   console.warn = (...args) => {

      at console.call [as error] (jest.setup.enterprise.js:245:19)
      at VirtualConsole.<anonymous> (node_modules/@jest/environment-jsdom-abstract/build/index.js:78:23)
      at reportException (node_modules/jsdom/lib/jsdom/living/helpers/runtime-script-errors.js:70:28)
      at innerInvokeEventListeners (node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:353:9)
      at invokeEventListeners (node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:286:3)
      at HTMLUnknownElementImpl._dispatch (node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:233:9)
      at HTMLUnknownElementImpl.dispatchEvent (node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:104:17)
      at HTMLUnknownElement.dispatchEvent (node_modules/jsdom/lib/jsdom/living/generated/EventTarget.js:241:34)
      at Object.invokeGuardedCallbackDev (node_modules/react-dom/cjs/react-dom.development.js:4213:16)
      at invokeGuardedCallback (node_modules/react-dom/cjs/react-dom.development.js:4277:31)
      at beginWork$1 (node_modules/react-dom/cjs/react-dom.development.js:27490:7)
      at performUnitOfWork (node_modules/react-dom/cjs/react-dom.development.js:26599:12)
      at workLoopSync (node_modules/react-dom/cjs/react-dom.development.js:26505:5)
      at renderRootSync (node_modules/react-dom/cjs/react-dom.development.js:26473:7)
      at recoverFromConcurrentError (node_modules/react-dom/cjs/react-dom.development.js:25889:20)
      at performConcurrentWorkOnRoot (node_modules/react-dom/cjs/react-dom.development.js:25789:22)
      at flushActQueue (node_modules/react/cjs/react.development.js:2667:24)
      at act (node_modules/react/cjs/react.development.js:2582:11)
      at node_modules/@testing-library/react/dist/act-compat.js:47:25
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:190:26)
      at render (node_modules/@testing-library/react/dist/pure.js:292:10)
      at Object.render (src/components/optimized/__tests__/OptimizedImage.test.tsx:69:5)

  console.error
    The above error occurred in the <div> component:
    
        at div
        at src (/workspaces/blipee-os/src/components/optimized/OptimizedImage.tsx:22:3)
    
    Consider adding an error boundary to your tree to customize error handling behavior.
    Visit https://reactjs.org/link/error-boundaries to learn more about error boundaries.

      243 |       return;
      244 |     }
    > 245 |     originalError.call(console, ...args);
          |                   ^
      246 |   };
      247 |   
      248 |   console.warn = (...args) => {

      at console.call [as error] (jest.setup.enterprise.js:245:19)
      at logCapturedError (node_modules/react-dom/cjs/react-dom.development.js:18704:23)
      at update.callback (node_modules/react-dom/cjs/react-dom.development.js:18737:5)
      at callCallback (node_modules/react-dom/cjs/react-dom.development.js:15036:12)
      at commitUpdateQueue (node_modules/react-dom/cjs/react-dom.development.js:15057:9)
      at commitLayoutEffectOnFiber (node_modules/react-dom/cjs/react-dom.development.js:23430:13)
      at commitLayoutMountEffects_complete (node_modules/react-dom/cjs/react-dom.development.js:24727:9)
      at commitLayoutEffects_begin (node_modules/react-dom/cjs/react-dom.development.js:24713:7)
      at commitLayoutEffects (node_modules/react-dom/cjs/react-dom.development.js:24651:3)
      at commitRootImpl (node_modules/react-dom/cjs/react-dom.development.js:26862:5)
      at commitRoot (node_modules/react-dom/cjs/react-dom.development.js:26721:5)
      at finishConcurrentRender (node_modules/react-dom/cjs/react-dom.development.js:25931:9)
      at performConcurrentWorkOnRoot (node_modules/react-dom/cjs/react-dom.development.js:25848:7)
      at flushActQueue (node_modules/react/cjs/react.development.js:2667:24)
      at act (node_modules/react/cjs/react.development.js:2582:11)
      at node_modules/@testing-library/react/dist/act-compat.js:47:25
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:190:26)
      at render (node_modules/@testing-library/react/dist/pure.js:292:10)
      at Object.render (src/components/optimized/__tests__/OptimizedImage.test.tsx:69:5)

FAIL src/components/optimized/__tests__/OptimizedImage.test.tsx
  OptimizedImage component
    ‚úï should render image with alt text (84 ms)
    ‚úï should pass through src prop (25 ms)
    ‚úï should set width and height (23 ms)
    ‚úï should apply custom className (32 ms)
    ‚úï should set loading lazy by default (33 ms)
    ‚úï should allow eager loading (14 ms)
    ‚úï should set priority when specified (22 ms)
    ‚úï should apply quality setting (25 ms)
    ‚úï should handle placeholder blur (32 ms)

  ‚óè OptimizedImage component ‚Ä∫ should render image with alt text

    Element type is invalid: expected a string (for built-in components) or a class/function (for composite components) but got: object.

    Check the render method of `OptimizedImage`.

    [0m [90m 19 |[39m
     [90m 20 |[39m   it([32m'should render image with alt text'[39m[33m,[39m () [33m=>[39m {
    [31m[1m>[22m[39m[90m 21 |[39m     render([33m<[39m[33mOptimizedImage[39m {[33m...[39mdefaultProps} [33m/[39m[33m>[39m)[33m;[39m
     [90m    |[39m     [31m[1m^[22m[39m
     [90m 22 |[39m     expect(screen[33m.[39mgetByAltText([32m'Test image'[39m))[33m.[39mtoBeInTheDocument()[33m;[39m
     [90m 23 |[39m   })[33m;[39m
     [90m 24 |[39m[0m

      at createFiberFromTypeAndProps (node_modules/react-dom/cjs/react-dom.development.js:28478:17)
      at createFiberFromElement (node_modules/react-dom/cjs/react-dom.development.js:28504:15)
      at createChild (node_modules/react-dom/cjs/react-dom.development.js:13345:28)
      at reconcileChildrenArray (node_modules/react-dom/cjs/react-dom.development.js:13640:25)
      at reconcileChildFibers (node_modules/react-dom/cjs/react-dom.development.js:14057:16)
      at reconcileChildren (node_modules/react-dom/cjs/react-dom.development.js:19186:28)
      at updateHostComponent (node_modules/react-dom/cjs/react-dom.development.js:19953:3)
      at beginWork (node_modules/react-dom/cjs/react-dom.development.js:21657:14)
      at beginWork$1 (node_modules/react-dom/cjs/react-dom.development.js:27465:14)
      at performUnitOfWork (node_modules/react-dom/cjs/react-dom.development.js:26599:12)
      at workLoopSync (node_modules/react-dom/cjs/react-dom.development.js:26505:5)
      at renderRootSync (node_modules/react-dom/cjs/react-dom.development.js:26473:7)
      at recoverFromConcurrentError (node_modules/react-dom/cjs/react-dom.development.js:25889:20)
      at performConcurrentWorkOnRoot (node_modules/react-dom/cjs/react-dom.development.js:25789:22)
      at flushActQueue (node_modules/react/cjs/react.development.js:2667:24)
      at act (node_modules/react/cjs/react.development.js:2582:11)
      at node_modules/@testing-library/react/dist/act-compat.js:47:25
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:190:26)
      at render (node_modules/@testing-library/react/dist/pure.js:292:10)
      at Object.render (src/components/optimized/__tests__/OptimizedImage.test.tsx:21:5)

  ‚óè OptimizedImage component ‚Ä∫ should pass through src prop

    Element type is invalid: expected a string (for built-in components) or a class/function (for composite components) but got: object.

    Check the render method of `OptimizedImage`.

    [0m [90m 24 |[39m
     [90m 25 |[39m   it([32m'should pass through src prop'[39m[33m,[39m () [33m=>[39m {
    [31m[1m>[22m[39m[90m 26 |[39m     render([33m<[39m[33mOptimizedImage[39m {[33m...[39mdefaultProps} [33m/[39m[33m>[39m)[33m;[39m
     [90m    |[39m     [31m[1m^[22m[39m
     [90m 27 |[39m     [36mconst[39m img [33m=[39m screen[33m.[39mgetByAltText([32m'Test image'[39m)[33m;[39m
     [90m 28 |[39m     expect(img)[33m.[39mtoHaveAttribute([32m'src'[39m[33m,[39m [32m'/test-image.jpg'[39m)[33m;[39m
     [90m 29 |[39m   })[33m;[39m[0m

      at createFiberFromTypeAndProps (node_modules/react-dom/cjs/react-dom.development.js:28478:17)
      at createFiberFromElement (node_modules/react-dom/cjs/react-dom.development.js:28504:15)
      at createChild (node_modules/react-dom/cjs/react-dom.development.js:13345:28)
      at reconcileChildrenArray (node_modules/react-dom/cjs/react-dom.development.js:13640:25)
      at reconcileChildFibers (node_modules/react-dom/cjs/react-dom.development.js:14057:16)
      at reconcileChildren (node_modules/react-dom/cjs/react-dom.development.js:19186:28)
      at updateHostComponent (node_modules/react-dom/cjs/react-dom.development.js:19953:3)
      at beginWork (node_modules/react-dom/cjs/react-dom.development.js:21657:14)
      at beginWork$1 (node_modules/react-dom/cjs/react-dom.development.js:27465:14)
      at performUnitOfWork (node_modules/react-dom/cjs/react-dom.development.js:26599:12)
      at workLoopSync (node_modules/react-dom/cjs/react-dom.development.js:26505:5)
      at renderRootSync (node_modules/react-dom/cjs/react-dom.development.js:26473:7)
      at recoverFromConcurrentError (node_modules/react-dom/cjs/react-dom.development.js:25889:20)
      at performConcurrentWorkOnRoot (node_modules/react-dom/cjs/react-dom.development.js:25789:22)
      at flushActQueue (node_modules/react/cjs/react.development.js:2667:24)
      at act (node_modules/react/cjs/react.development.js:2582:11)
      at node_modules/@testing-library/react/dist/act-compat.js:47:25
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:190:26)
      at render (node_modules/@testing-library/react/dist/pure.js:292:10)
      at Object.render (src/components/optimized/__tests__/OptimizedImage.test.tsx:26:5)

  ‚óè OptimizedImage component ‚Ä∫ should set width and height

    Element type is invalid: expected a string (for built-in components) or a class/function (for composite components) but got: object.

    Check the render method of `OptimizedImage`.

    [0m [90m 30 |[39m
     [90m 31 |[39m   it([32m'should set width and height'[39m[33m,[39m () [33m=>[39m {
    [31m[1m>[22m[39m[90m 32 |[39m     render([33m<[39m[33mOptimizedImage[39m {[33m...[39mdefaultProps} [33m/[39m[33m>[39m)[33m;[39m
     [90m    |[39m     [31m[1m^[22m[39m
     [90m 33 |[39m     [36mconst[39m img [33m=[39m screen[33m.[39mgetByAltText([32m'Test image'[39m)[33m;[39m
     [90m 34 |[39m     expect(img)[33m.[39mtoHaveAttribute([32m'width'[39m[33m,[39m [32m'800'[39m)[33m;[39m
     [90m 35 |[39m     expect(img)[33m.[39mtoHaveAttribute([32m'height'[39m[33m,[39m [32m'600'[39m)[33m;[39m[0m

      at createFiberFromTypeAndProps (node_modules/react-dom/cjs/react-dom.development.js:28478:17)
      at createFiberFromElement (node_modules/react-dom/cjs/react-dom.development.js:28504:15)
      at createChild (node_modules/react-dom/cjs/react-dom.development.js:13345:28)
      at reconcileChildrenArray (node_modules/react-dom/cjs/react-dom.development.js:13640:25)
      at reconcileChildFibers (node_modules/react-dom/cjs/react-dom.development.js:14057:16)
      at reconcileChildren (node_modules/react-dom/cjs/react-dom.development.js:19186:28)
      at updateHostComponent (node_modules/react-dom/cjs/react-dom.development.js:19953:3)
      at beginWork (node_modules/react-dom/cjs/react-dom.development.js:21657:14)
      at beginWork$1 (node_modules/react-dom/cjs/react-dom.development.js:27465:14)
      at performUnitOfWork (node_modules/react-dom/cjs/react-dom.development.js:26599:12)
      at workLoopSync (node_modules/react-dom/cjs/react-dom.development.js:26505:5)
      at renderRootSync (node_modules/react-dom/cjs/react-dom.development.js:26473:7)
      at recoverFromConcurrentError (node_modules/react-dom/cjs/react-dom.development.js:25889:20)
      at performConcurrentWorkOnRoot (node_modules/react-dom/cjs/react-dom.development.js:25789:22)
      at flushActQueue (node_modules/react/cjs/react.development.js:2667:24)
      at act (node_modules/react/cjs/react.development.js:2582:11)
      at node_modules/@testing-library/react/dist/act-compat.js:47:25
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:190:26)
      at render (node_modules/@testing-library/react/dist/pure.js:292:10)
      at Object.render (src/components/optimized/__tests__/OptimizedImage.test.tsx:32:5)

  ‚óè OptimizedImage component ‚Ä∫ should apply custom className

    Element type is invalid: expected a string (for built-in components) or a class/function (for composite components) but got: object.

    Check the render method of `OptimizedImage`.

    [0m [90m 37 |[39m
     [90m 38 |[39m   it([32m'should apply custom className'[39m[33m,[39m () [33m=>[39m {
    [31m[1m>[22m[39m[90m 39 |[39m     render([33m<[39m[33mOptimizedImage[39m {[33m...[39mdefaultProps} className[33m=[39m[32m"custom-image"[39m [33m/[39m[33m>[39m)[33m;[39m
     [90m    |[39m     [31m[1m^[22m[39m
     [90m 40 |[39m     [36mconst[39m img [33m=[39m screen[33m.[39mgetByAltText([32m'Test image'[39m)[33m;[39m
     [90m 41 |[39m     expect(img)[33m.[39mtoHaveClass([32m'custom-image'[39m)[33m;[39m
     [90m 42 |[39m   })[33m;[39m[0m

      at createFiberFromTypeAndProps (node_modules/react-dom/cjs/react-dom.development.js:28478:17)
      at createFiberFromElement (node_modules/react-dom/cjs/react-dom.development.js:28504:15)
      at createChild (node_modules/react-dom/cjs/react-dom.development.js:13345:28)
      at reconcileChildrenArray (node_modules/react-dom/cjs/react-dom.development.js:13640:25)
      at reconcileChildFibers (node_modules/react-dom/cjs/react-dom.development.js:14057:16)
      at reconcileChildren (node_modules/react-dom/cjs/react-dom.development.js:19186:28)
      at updateHostComponent (node_modules/react-dom/cjs/react-dom.development.js:19953:3)
      at beginWork (node_modules/react-dom/cjs/react-dom.development.js:21657:14)
      at beginWork$1 (node_modules/react-dom/cjs/react-dom.development.js:27465:14)
      at performUnitOfWork (node_modules/react-dom/cjs/react-dom.development.js:26599:12)
      at workLoopSync (node_modules/react-dom/cjs/react-dom.development.js:26505:5)
      at renderRootSync (node_modules/react-dom/cjs/react-dom.development.js:26473:7)
      at recoverFromConcurrentError (node_modules/react-dom/cjs/react-dom.development.js:25889:20)
      at performConcurrentWorkOnRoot (node_modules/react-dom/cjs/react-dom.development.js:25789:22)
      at flushActQueue (node_modules/react/cjs/react.development.js:2667:24)
      at act (node_modules/react/cjs/react.development.js:2582:11)
      at node_modules/@testing-library/react/dist/act-compat.js:47:25
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:190:26)
      at render (node_modules/@testing-library/react/dist/pure.js:292:10)
      at Object.render (src/components/optimized/__tests__/OptimizedImage.test.tsx:39:5)

  ‚óè OptimizedImage component ‚Ä∫ should set loading lazy by default

    Element type is invalid: expected a string (for built-in components) or a class/function (for composite components) but got: object.

    Check the render method of `OptimizedImage`.

    [0m [90m 43 |[39m
     [90m 44 |[39m   it([32m'should set loading lazy by default'[39m[33m,[39m () [33m=>[39m {
    [31m[1m>[22m[39m[90m 45 |[39m     render([33m<[39m[33mOptimizedImage[39m {[33m...[39mdefaultProps} [33m/[39m[33m>[39m)[33m;[39m
     [90m    |[39m     [31m[1m^[22m[39m
     [90m 46 |[39m     [36mconst[39m img [33m=[39m screen[33m.[39mgetByAltText([32m'Test image'[39m)[33m;[39m
     [90m 47 |[39m     expect(img)[33m.[39mtoHaveAttribute([32m'loading'[39m[33m,[39m [32m'lazy'[39m)[33m;[39m
     [90m 48 |[39m   })[33m;[39m[0m

      at createFiberFromTypeAndProps (node_modules/react-dom/cjs/react-dom.development.js:28478:17)
      at createFiberFromElement (node_modules/react-dom/cjs/react-dom.development.js:28504:15)
      at createChild (node_modules/react-dom/cjs/react-dom.development.js:13345:28)
      at reconcileChildrenArray (node_modules/react-dom/cjs/react-dom.development.js:13640:25)
      at reconcileChildFibers (node_modules/react-dom/cjs/react-dom.development.js:14057:16)
      at reconcileChildren (node_modules/react-dom/cjs/react-dom.development.js:19186:28)
      at updateHostComponent (node_modules/react-dom/cjs/react-dom.development.js:19953:3)
      at beginWork (node_modules/react-dom/cjs/react-dom.development.js:21657:14)
      at beginWork$1 (node_modules/react-dom/cjs/react-dom.development.js:27465:14)
      at performUnitOfWork (node_modules/react-dom/cjs/react-dom.development.js:26599:12)
      at workLoopSync (node_modules/react-dom/cjs/react-dom.development.js:26505:5)
      at renderRootSync (node_modules/react-dom/cjs/react-dom.development.js:26473:7)
      at recoverFromConcurrentError (node_modules/react-dom/cjs/react-dom.development.js:25889:20)
      at performConcurrentWorkOnRoot (node_modules/react-dom/cjs/react-dom.development.js:25789:22)
      at flushActQueue (node_modules/react/cjs/react.development.js:2667:24)
      at act (node_modules/react/cjs/react.development.js:2582:11)
      at node_modules/@testing-library/react/dist/act-compat.js:47:25
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:190:26)
      at render (node_modules/@testing-library/react/dist/pure.js:292:10)
      at Object.render (src/components/optimized/__tests__/OptimizedImage.test.tsx:45:5)

  ‚óè OptimizedImage component ‚Ä∫ should allow eager loading

    Element type is invalid: expected a string (for built-in components) or a class/function (for composite components) but got: object.

    Check the render method of `OptimizedImage`.

    [0m [90m 49 |[39m
     [90m 50 |[39m   it([32m'should allow eager loading'[39m[33m,[39m () [33m=>[39m {
    [31m[1m>[22m[39m[90m 51 |[39m     render([33m<[39m[33mOptimizedImage[39m {[33m...[39mdefaultProps} loading[33m=[39m[32m"eager"[39m [33m/[39m[33m>[39m)[33m;[39m
     [90m    |[39m     [31m[1m^[22m[39m
     [90m 52 |[39m     [36mconst[39m img [33m=[39m screen[33m.[39mgetByAltText([32m'Test image'[39m)[33m;[39m
     [90m 53 |[39m     expect(img)[33m.[39mtoHaveAttribute([32m'loading'[39m[33m,[39m [32m'eager'[39m)[33m;[39m
     [90m 54 |[39m   })[33m;[39m[0m

      at createFiberFromTypeAndProps (node_modules/react-dom/cjs/react-dom.development.js:28478:17)
      at createFiberFromElement (node_modules/react-dom/cjs/react-dom.development.js:28504:15)
      at createChild (node_modules/react-dom/cjs/react-dom.development.js:13345:28)
      at reconcileChildrenArray (node_modules/react-dom/cjs/react-dom.development.js:13640:25)
      at reconcileChildFibers (node_modules/react-dom/cjs/react-dom.development.js:14057:16)
      at reconcileChildren (node_modules/react-dom/cjs/react-dom.development.js:19186:28)
      at updateHostComponent (node_modules/react-dom/cjs/react-dom.development.js:19953:3)
      at beginWork (node_modules/react-dom/cjs/react-dom.development.js:21657:14)
      at beginWork$1 (node_modules/react-dom/cjs/react-dom.development.js:27465:14)
      at performUnitOfWork (node_modules/react-dom/cjs/react-dom.development.js:26599:12)
      at workLoopSync (node_modules/react-dom/cjs/react-dom.development.js:26505:5)
      at renderRootSync (node_modules/react-dom/cjs/react-dom.development.js:26473:7)
      at recoverFromConcurrentError (node_modules/react-dom/cjs/react-dom.development.js:25889:20)
      at performConcurrentWorkOnRoot (node_modules/react-dom/cjs/react-dom.development.js:25789:22)
      at flushActQueue (node_modules/react/cjs/react.development.js:2667:24)
      at act (node_modules/react/cjs/react.development.js:2582:11)
      at node_modules/@testing-library/react/dist/act-compat.js:47:25
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:190:26)
      at render (node_modules/@testing-library/react/dist/pure.js:292:10)
      at Object.render (src/components/optimized/__tests__/OptimizedImage.test.tsx:51:5)

  ‚óè OptimizedImage component ‚Ä∫ should set priority when specified

    Element type is invalid: expected a string (for built-in components) or a class/function (for composite components) but got: object.

    Check the render method of `OptimizedImage`.

    [0m [90m 55 |[39m
     [90m 56 |[39m   it([32m'should set priority when specified'[39m[33m,[39m () [33m=>[39m {
    [31m[1m>[22m[39m[90m 57 |[39m     render([33m<[39m[33mOptimizedImage[39m {[33m...[39mdefaultProps} priority [33m/[39m[33m>[39m)[33m;[39m
     [90m    |[39m     [31m[1m^[22m[39m
     [90m 58 |[39m     [36mconst[39m img [33m=[39m screen[33m.[39mgetByAltText([32m'Test image'[39m)[33m;[39m
     [90m 59 |[39m     expect(img)[33m.[39mtoHaveAttribute([32m'priority'[39m)[33m;[39m
     [90m 60 |[39m   })[33m;[39m[0m

      at createFiberFromTypeAndProps (node_modules/react-dom/cjs/react-dom.development.js:28478:17)
      at createFiberFromElement (node_modules/react-dom/cjs/react-dom.development.js:28504:15)
      at createChild (node_modules/react-dom/cjs/react-dom.development.js:13345:28)
      at reconcileChildrenArray (node_modules/react-dom/cjs/react-dom.development.js:13640:25)
      at reconcileChildFibers (node_modules/react-dom/cjs/react-dom.development.js:14057:16)
      at reconcileChildren (node_modules/react-dom/cjs/react-dom.development.js:19186:28)
      at updateHostComponent (node_modules/react-dom/cjs/react-dom.development.js:19953:3)
      at beginWork (node_modules/react-dom/cjs/react-dom.development.js:21657:14)
      at beginWork$1 (node_modules/react-dom/cjs/react-dom.development.js:27465:14)
      at performUnitOfWork (node_modules/react-dom/cjs/react-dom.development.js:26599:12)
      at workLoopSync (node_modules/react-dom/cjs/react-dom.development.js:26505:5)
      at renderRootSync (node_modules/react-dom/cjs/react-dom.development.js:26473:7)
      at recoverFromConcurrentError (node_modules/react-dom/cjs/react-dom.development.js:25889:20)
      at performConcurrentWorkOnRoot (node_modules/react-dom/cjs/react-dom.development.js:25789:22)
      at flushActQueue (node_modules/react/cjs/react.development.js:2667:24)
      at act (node_modules/react/cjs/react.development.js:2582:11)
      at node_modules/@testing-library/react/dist/act-compat.js:47:25
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:190:26)
      at render (node_modules/@testing-library/react/dist/pure.js:292:10)
      at Object.render (src/components/optimized/__tests__/OptimizedImage.test.tsx:57:5)

  ‚óè OptimizedImage component ‚Ä∫ should apply quality setting

    Element type is invalid: expected a string (for built-in components) or a class/function (for composite components) but got: object.

    Check the render method of `OptimizedImage`.

    [0m [90m 61 |[39m
     [90m 62 |[39m   it([32m'should apply quality setting'[39m[33m,[39m () [33m=>[39m {
    [31m[1m>[22m[39m[90m 63 |[39m     render([33m<[39m[33mOptimizedImage[39m {[33m...[39mdefaultProps} quality[33m=[39m{[35m90[39m} [33m/[39m[33m>[39m)[33m;[39m
     [90m    |[39m     [31m[1m^[22m[39m
     [90m 64 |[39m     [36mconst[39m img [33m=[39m screen[33m.[39mgetByAltText([32m'Test image'[39m)[33m;[39m
     [90m 65 |[39m     expect(img)[33m.[39mtoHaveAttribute([32m'quality'[39m[33m,[39m [32m'90'[39m)[33m;[39m
     [90m 66 |[39m   })[33m;[39m[0m

      at createFiberFromTypeAndProps (node_modules/react-dom/cjs/react-dom.development.js:28478:17)
      at createFiberFromElement (node_modules/react-dom/cjs/react-dom.development.js:28504:15)
      at createChild (node_modules/react-dom/cjs/react-dom.development.js:13345:28)
      at reconcileChildrenArray (node_modules/react-dom/cjs/react-dom.development.js:13640:25)
      at reconcileChildFibers (node_modules/react-dom/cjs/react-dom.development.js:14057:16)
      at reconcileChildren (node_modules/react-dom/cjs/react-dom.development.js:19186:28)
      at updateHostComponent (node_modules/react-dom/cjs/react-dom.development.js:19953:3)
      at beginWork (node_modules/react-dom/cjs/react-dom.development.js:21657:14)
      at beginWork$1 (node_modules/react-dom/cjs/react-dom.development.js:27465:14)
      at performUnitOfWork (node_modules/react-dom/cjs/react-dom.development.js:26599:12)
      at workLoopSync (node_modules/react-dom/cjs/react-dom.development.js:26505:5)
      at renderRootSync (node_modules/react-dom/cjs/react-dom.development.js:26473:7)
      at recoverFromConcurrentError (node_modules/react-dom/cjs/react-dom.development.js:25889:20)
      at performConcurrentWorkOnRoot (node_modules/react-dom/cjs/react-dom.development.js:25789:22)
      at flushActQueue (node_modules/react/cjs/react.development.js:2667:24)
      at act (node_modules/react/cjs/react.development.js:2582:11)
      at node_modules/@testing-library/react/dist/act-compat.js:47:25
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:190:26)
      at render (node_modules/@testing-library/react/dist/pure.js:292:10)
      at Object.render (src/components/optimized/__tests__/OptimizedImage.test.tsx:63:5)

  ‚óè OptimizedImage component ‚Ä∫ should handle placeholder blur

    Element type is invalid: expected a string (for built-in components) or a class/function (for composite components) but got: object.

    Check the render method of `OptimizedImage`.

    [0m [90m 67 |[39m
     [90m 68 |[39m   it([32m'should handle placeholder blur'[39m[33m,[39m () [33m=>[39m {
    [31m[1m>[22m[39m[90m 69 |[39m     render([33m<[39m[33mOptimizedImage[39m {[33m...[39mdefaultProps} placeholder[33m=[39m[32m"blur"[39m blurDataURL[33m=[39m[32m"data:..."[39m [33m/[39m[33m>[39m)[33m;[39m
     [90m    |[39m     [31m[1m^[22m[39m
     [90m 70 |[39m     [36mconst[39m img [33m=[39m screen[33m.[39mgetByAltText([32m'Test image'[39m)[33m;[39m
     [90m 71 |[39m     expect(img)[33m.[39mtoHaveAttribute([32m'blurDataURL'[39m[33m,[39m [32m'data:...'[39m)[33m;[39m
     [90m 72 |[39m   })[33m;[39m[0m

      at createFiberFromTypeAndProps (node_modules/react-dom/cjs/react-dom.development.js:28478:17)
      at createFiberFromElement (node_modules/react-dom/cjs/react-dom.development.js:28504:15)
      at createChild (node_modules/react-dom/cjs/react-dom.development.js:13345:28)
      at reconcileChildrenArray (node_modules/react-dom/cjs/react-dom.development.js:13640:25)
      at reconcileChildFibers (node_modules/react-dom/cjs/react-dom.development.js:14057:16)
      at reconcileChildren (node_modules/react-dom/cjs/react-dom.development.js:19186:28)
      at updateHostComponent (node_modules/react-dom/cjs/react-dom.development.js:19953:3)
      at beginWork (node_modules/react-dom/cjs/react-dom.development.js:21657:14)
      at beginWork$1 (node_modules/react-dom/cjs/react-dom.development.js:27465:14)
      at performUnitOfWork (node_modules/react-dom/cjs/react-dom.development.js:26599:12)
      at workLoopSync (node_modules/react-dom/cjs/react-dom.development.js:26505:5)
      at renderRootSync (node_modules/react-dom/cjs/react-dom.development.js:26473:7)
      at recoverFromConcurrentError (node_modules/react-dom/cjs/react-dom.development.js:25889:20)
      at performConcurrentWorkOnRoot (node_modules/react-dom/cjs/react-dom.development.js:25789:22)
      at flushActQueue (node_modules/react/cjs/react.development.js:2667:24)
      at act (node_modules/react/cjs/react.development.js:2582:11)
      at node_modules/@testing-library/react/dist/act-compat.js:47:25
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:190:26)
      at render (node_modules/@testing-library/react/dist/pure.js:292:10)
      at Object.render (src/components/optimized/__tests__/OptimizedImage.test.tsx:69:5)

  console.log
    [dotenv@17.0.1] injecting env (31) from .env.test ‚Äì [tip] encrypt with dotenvx: https://dotenvx.com

      at _log (node_modules/dotenv/lib/main.js:102:11)

FAIL src/components/premium/__tests__/GradientButton.test.tsx
  GradientButton
    Basic rendering
      ‚úì should render with children (49 ms)
      ‚úì should render as button element (28 ms)
      ‚úì should apply default classes (6 ms)
      ‚úì should apply custom className (6 ms)
    Variants
      ‚úì should apply primary variant by default (11 ms)
      ‚úì should apply blue variant (22 ms)
      ‚úì should apply success variant (9 ms)
      ‚úì should apply coral variant (10 ms)
    Sizes
      ‚úì should apply medium size by default (10 ms)
      ‚úì should apply small size (14 ms)
      ‚úì should apply large size (6 ms)
    Loading state
      ‚úì should show loading spinner when loading is true (3 ms)
      ‚úì should show spinner animation (4 ms)
      ‚úì should disable button when loading (9 ms)
      ‚úì should prevent click events when loading (23 ms)
    Disabled state
      ‚úì should disable button when disabled is true (5 ms)
      ‚úì should apply disabled styles (5 ms)
      ‚úì should prevent click events when disabled (11 ms)
    Icons
      ‚úì should render start icon (3 ms)
      ‚úì should render end icon (3 ms)
      ‚úì should render both start and end icons (5 ms)
      ‚úì should not show icons when loading (3 ms)
    Full width
      ‚úì should not be full width by default (8 ms)
      ‚úì should be full width when fullWidth is true (6 ms)
    HTML button attributes
      ‚úì should pass through HTML button attributes (4 ms)
      ‚úì should handle onClick events (23 ms)
      ‚úì should handle other mouse events (6 ms)
    Style properties
      ‚úï should have correct base styles (6 ms)
      ‚úì should apply all props correctly (16 ms)
    Edge cases
      ‚úì should handle empty children (5 ms)
      ‚úì should handle null children (7 ms)
      ‚úì should handle complex children (3 ms)
      ‚úì should handle disabled and loading at the same time (14 ms)
    Default props
      ‚úì should use primary variant by default (20 ms)
      ‚úì should use medium size by default (4 ms)
      ‚úì should not be loading by default (3 ms)
      ‚úì should not be full width by default (8 ms)
      ‚úì should use empty className by default (10 ms)

  ‚óè GradientButton ‚Ä∫ Style properties ‚Ä∫ should have correct base styles

    expect(element).toHaveStyle()

    - Expected

    - alignItems: center;
    - border: ;
    - borderRadius: 0.75rem;
    - color: white;
    + border: 2px outset buttonface;
    + color: rgb(255, 255, 255);
      cursor: pointer;
      display: inline-flex;
    - fontWeight: 600;
      gap: 0.5rem;
    - justifyContent: center;

    [0m [90m 287 |[39m       [36mconst[39m button [33m=[39m screen[33m.[39mgetByRole([32m'button'[39m)[33m;[39m
     [90m 288 |[39m       
    [31m[1m>[22m[39m[90m 289 |[39m       expect(button)[33m.[39mtoHaveStyle({
     [90m     |[39m                      [31m[1m^[22m[39m
     [90m 290 |[39m         color[33m:[39m [32m'white'[39m[33m,[39m
     [90m 291 |[39m         border[33m:[39m [32m'none'[39m[33m,[39m
     [90m 292 |[39m         borderRadius[33m:[39m premiumTheme[33m.[39mborderRadius[33m.[39mmd[33m,[39m[0m

      at Object.toHaveStyle (src/components/premium/__tests__/GradientButton.test.tsx:289:22)

  console.log
    [dotenv@17.0.1] injecting env (31) from .env.test ‚Äì [tip] encrypt with dotenvx: https://dotenvx.com

      at _log (node_modules/dotenv/lib/main.js:102:11)

FAIL src/components/premium/__tests__/GlassCard.test.tsx
  GlassCard
    Basic rendering
      ‚úì should render with children (23 ms)
      ‚úì should render as div element (2 ms)
      ‚úï should apply default variant class (2 ms)
      ‚úï should apply custom className (3 ms)
    Variants
      ‚úï should apply default variant styles (4 ms)
      ‚úï should apply elevated variant styles (3 ms)
      ‚úï should apply outlined variant styles (2 ms)
    onClick behavior
      ‚úï should handle onClick when provided (5 ms)
      ‚úï should apply pointer cursor when onClick is provided (2 ms)
      ‚úï should apply default cursor when onClick is not provided (3 ms)
      ‚úï should pass event object to onClick handler (3 ms)
    Style combinations
      ‚úï should combine default variant with onClick styles (2 ms)
      ‚úï should combine elevated variant with onClick styles (2 ms)
      ‚úï should combine outlined variant with onClick styles (2 ms)
    Edge cases
      ‚úì should handle null children (2 ms)
      ‚úì should handle undefined children (2 ms)
      ‚úì should handle empty string children (2 ms)
      ‚úì should handle multiple children (6 ms)
      ‚úì should handle complex nested children (2 ms)
    Default props
      ‚úï should use default variant when not specified (2 ms)
      ‚úï should use empty className when not specified (2 ms)
    All props combination
      ‚úï should handle all props together (4 ms)
    Theme integration
      ‚úï should use theme values for default variant (7 ms)
      ‚úï should use glassmorphism values from theme (11 ms)

  ‚óè GlassCard ‚Ä∫ Basic rendering ‚Ä∫ should apply default variant class

    expect(element).toHaveClass("glass-card glass-card-default")

    Expected the element to have class:
      glass-card glass-card-default
    Received:

    [0m [90m 28 |[39m       render([33m<[39m[33mGlassCard[39m[33m>[39m[33mContent[39m[33m<[39m[33m/[39m[33mGlassCard[39m[33m>[39m)[33m;[39m
     [90m 29 |[39m       [36mconst[39m card [33m=[39m screen[33m.[39mgetByText([32m'Content'[39m)[33m.[39mparentElement[33m;[39m
    [31m[1m>[22m[39m[90m 30 |[39m       expect(card)[33m.[39mtoHaveClass([32m'glass-card'[39m[33m,[39m [32m'glass-card-default'[39m)[33m;[39m
     [90m    |[39m                    [31m[1m^[22m[39m
     [90m 31 |[39m     })[33m;[39m
     [90m 32 |[39m
     [90m 33 |[39m     it([32m'should apply custom className'[39m[33m,[39m () [33m=>[39m {[0m

      at Object.toHaveClass (src/components/premium/__tests__/GlassCard.test.tsx:30:20)

  ‚óè GlassCard ‚Ä∫ Basic rendering ‚Ä∫ should apply custom className

    expect(element).toHaveClass("custom-class glass-card")

    Expected the element to have class:
      custom-class glass-card
    Received:

    [0m [90m 34 |[39m       render([33m<[39m[33mGlassCard[39m className[33m=[39m[32m"custom-class"[39m[33m>[39m[33mContent[39m[33m<[39m[33m/[39m[33mGlassCard[39m[33m>[39m)[33m;[39m
     [90m 35 |[39m       [36mconst[39m card [33m=[39m screen[33m.[39mgetByText([32m'Content'[39m)[33m.[39mparentElement[33m;[39m
    [31m[1m>[22m[39m[90m 36 |[39m       expect(card)[33m.[39mtoHaveClass([32m'custom-class'[39m[33m,[39m [32m'glass-card'[39m)[33m;[39m
     [90m    |[39m                    [31m[1m^[22m[39m
     [90m 37 |[39m     })[33m;[39m
     [90m 38 |[39m   })[33m;[39m
     [90m 39 |[39m[0m

      at Object.toHaveClass (src/components/premium/__tests__/GlassCard.test.tsx:36:20)

  ‚óè GlassCard ‚Ä∫ Variants ‚Ä∫ should apply default variant styles

    expect(element).toHaveStyle()

    - Expected

    - borderRadius: 1rem;
    - cursor: default;
    - padding: 1.5rem;
    - transition: 300ms cubic-bezier(0.4, 0, 0.2, 1);

    [0m [90m 43 |[39m       [36mconst[39m card [33m=[39m container[33m.[39mfirstChild [36mas[39m [33mHTMLElement[39m[33m;[39m
     [90m 44 |[39m
    [31m[1m>[22m[39m[90m 45 |[39m       expect(card)[33m.[39mtoHaveStyle({
     [90m    |[39m                    [31m[1m^[22m[39m
     [90m 46 |[39m         borderRadius[33m:[39m premiumTheme[33m.[39mborderRadius[33m.[39mlg[33m,[39m
     [90m 47 |[39m         padding[33m:[39m [32m'1.5rem'[39m[33m,[39m
     [90m 48 |[39m         transition[33m:[39m premiumTheme[33m.[39mtransitions[33m.[39mbase[33m,[39m[0m

      at Object.toHaveStyle (src/components/premium/__tests__/GlassCard.test.tsx:45:20)

  ‚óè GlassCard ‚Ä∫ Variants ‚Ä∫ should apply elevated variant styles

    expect(element).toHaveStyle()

    - Expected

    - background: rgba(255, 255, 255, 0.04);
    - borderRadius: 1rem;
    - padding: 1.5rem;

    [0m [90m 57 |[39m       [36mconst[39m card [33m=[39m container[33m.[39mfirstChild [36mas[39m [33mHTMLElement[39m[33m;[39m
     [90m 58 |[39m
    [31m[1m>[22m[39m[90m 59 |[39m       expect(card)[33m.[39mtoHaveStyle({
     [90m    |[39m                    [31m[1m^[22m[39m
     [90m 60 |[39m         borderRadius[33m:[39m premiumTheme[33m.[39mborderRadius[33m.[39mlg[33m,[39m
     [90m 61 |[39m         padding[33m:[39m [32m'1.5rem'[39m[33m,[39m
     [90m 62 |[39m         background[33m:[39m [32m'rgba(255, 255, 255, 0.04)'[39m[33m,[39m[0m

      at Object.toHaveStyle (src/components/premium/__tests__/GlassCard.test.tsx:59:20)

  ‚óè GlassCard ‚Ä∫ Variants ‚Ä∫ should apply outlined variant styles

    expect(element).toHaveStyle()

    - Expected

    - background: transparent;
    - border: 2px solid rgba(255, 255, 255, 0.05);
    - borderRadius: 1rem;
    - padding: 1.5rem;

    [0m [90m 70 |[39m       [36mconst[39m card [33m=[39m container[33m.[39mfirstChild [36mas[39m [33mHTMLElement[39m[33m;[39m
     [90m 71 |[39m
    [31m[1m>[22m[39m[90m 72 |[39m       expect(card)[33m.[39mtoHaveStyle({
     [90m    |[39m                    [31m[1m^[22m[39m
     [90m 73 |[39m         borderRadius[33m:[39m premiumTheme[33m.[39mborderRadius[33m.[39mlg[33m,[39m
     [90m 74 |[39m         padding[33m:[39m [32m'1.5rem'[39m[33m,[39m
     [90m 75 |[39m         background[33m:[39m [32m'transparent'[39m[33m,[39m[0m

      at Object.toHaveStyle (src/components/premium/__tests__/GlassCard.test.tsx:72:20)

  ‚óè GlassCard ‚Ä∫ onClick behavior ‚Ä∫ should handle onClick when provided

    expect(jest.fn()).toHaveBeenCalledTimes(expected)

    Expected number of calls: 1
    Received number of calls: 0

    [0m [90m 89 |[39m       fireEvent[33m.[39mclick(card[33m![39m)[33m;[39m
     [90m 90 |[39m       
    [31m[1m>[22m[39m[90m 91 |[39m       expect(handleClick)[33m.[39mtoHaveBeenCalledTimes([35m1[39m)[33m;[39m
     [90m    |[39m                           [31m[1m^[22m[39m
     [90m 92 |[39m     })[33m;[39m
     [90m 93 |[39m
     [90m 94 |[39m     it([32m'should apply pointer cursor when onClick is provided'[39m[33m,[39m () [33m=>[39m {[0m

      at Object.toHaveBeenCalledTimes (src/components/premium/__tests__/GlassCard.test.tsx:91:27)

  ‚óè GlassCard ‚Ä∫ onClick behavior ‚Ä∫ should apply pointer cursor when onClick is provided

    expect(element).toHaveStyle()

    - Expected

    - cursor: pointer;

    [0m [90m  96 |[39m       [36mconst[39m card [33m=[39m container[33m.[39mfirstChild [36mas[39m [33mHTMLElement[39m[33m;[39m
     [90m  97 |[39m
    [31m[1m>[22m[39m[90m  98 |[39m       expect(card)[33m.[39mtoHaveStyle({
     [90m     |[39m                    [31m[1m^[22m[39m
     [90m  99 |[39m         cursor[33m:[39m [32m'pointer'[39m[33m,[39m
     [90m 100 |[39m       })[33m;[39m
     [90m 101 |[39m     })[33m;[39m[0m

      at Object.toHaveStyle (src/components/premium/__tests__/GlassCard.test.tsx:98:20)

  ‚óè GlassCard ‚Ä∫ onClick behavior ‚Ä∫ should apply default cursor when onClick is not provided

    expect(element).toHaveStyle()

    - Expected

    - cursor: default;

    [0m [90m 105 |[39m       [36mconst[39m card [33m=[39m container[33m.[39mfirstChild [36mas[39m [33mHTMLElement[39m[33m;[39m
     [90m 106 |[39m
    [31m[1m>[22m[39m[90m 107 |[39m       expect(card)[33m.[39mtoHaveStyle({
     [90m     |[39m                    [31m[1m^[22m[39m
     [90m 108 |[39m         cursor[33m:[39m [32m'default'[39m[33m,[39m
     [90m 109 |[39m       })[33m;[39m
     [90m 110 |[39m     })[33m;[39m[0m

      at Object.toHaveStyle (src/components/premium/__tests__/GlassCard.test.tsx:107:20)

  ‚óè GlassCard ‚Ä∫ onClick behavior ‚Ä∫ should pass event object to onClick handler

    expect(jest.fn()).toHaveBeenCalledWith(...expected)

    Expected: ObjectContaining {"type": "click"}

    Number of calls: 0

    [0m [90m 117 |[39m       fireEvent[33m.[39mclick(card[33m![39m)[33m;[39m
     [90m 118 |[39m       
    [31m[1m>[22m[39m[90m 119 |[39m       expect(handleClick)[33m.[39mtoHaveBeenCalledWith(expect[33m.[39mobjectContaining({
     [90m     |[39m                           [31m[1m^[22m[39m
     [90m 120 |[39m         type[33m:[39m [32m'click'[39m[33m,[39m
     [90m 121 |[39m       }))[33m;[39m
     [90m 122 |[39m     })[33m;[39m[0m

      at Object.toHaveBeenCalledWith (src/components/premium/__tests__/GlassCard.test.tsx:119:27)

  ‚óè GlassCard ‚Ä∫ Style combinations ‚Ä∫ should combine default variant with onClick styles

    expect(element).toHaveStyle()

    - Expected

    - cursor: pointer;

    [0m [90m 132 |[39m       [36mconst[39m card [33m=[39m container[33m.[39mfirstChild [36mas[39m [33mHTMLElement[39m[33m;[39m
     [90m 133 |[39m
    [31m[1m>[22m[39m[90m 134 |[39m       expect(card)[33m.[39mtoHaveStyle({
     [90m     |[39m                    [31m[1m^[22m[39m
     [90m 135 |[39m         cursor[33m:[39m [32m'pointer'[39m[33m,[39m
     [90m 136 |[39m       })[33m;[39m
     [90m 137 |[39m       expect(card)[33m.[39mtoHaveClass([32m'glass-card-default'[39m)[33m;[39m[0m

      at Object.toHaveStyle (src/components/premium/__tests__/GlassCard.test.tsx:134:20)

  ‚óè GlassCard ‚Ä∫ Style combinations ‚Ä∫ should combine elevated variant with onClick styles

    expect(element).toHaveStyle()

    - Expected

    - background: rgba(255, 255, 255, 0.04);
    - cursor: pointer;

    [0m [90m 146 |[39m       [36mconst[39m card [33m=[39m container[33m.[39mfirstChild [36mas[39m [33mHTMLElement[39m[33m;[39m
     [90m 147 |[39m
    [31m[1m>[22m[39m[90m 148 |[39m       expect(card)[33m.[39mtoHaveStyle({
     [90m     |[39m                    [31m[1m^[22m[39m
     [90m 149 |[39m         cursor[33m:[39m [32m'pointer'[39m[33m,[39m
     [90m 150 |[39m         background[33m:[39m [32m'rgba(255, 255, 255, 0.04)'[39m[33m,[39m
     [90m 151 |[39m       })[33m;[39m[0m

      at Object.toHaveStyle (src/components/premium/__tests__/GlassCard.test.tsx:148:20)

  ‚óè GlassCard ‚Ä∫ Style combinations ‚Ä∫ should combine outlined variant with onClick styles

    expect(element).toHaveStyle()

    - Expected

    - background: transparent;
    - cursor: pointer;

    [0m [90m 161 |[39m       [36mconst[39m card [33m=[39m container[33m.[39mfirstChild [36mas[39m [33mHTMLElement[39m[33m;[39m
     [90m 162 |[39m
    [31m[1m>[22m[39m[90m 163 |[39m       expect(card)[33m.[39mtoHaveStyle({
     [90m     |[39m                    [31m[1m^[22m[39m
     [90m 164 |[39m         cursor[33m:[39m [32m'pointer'[39m[33m,[39m
     [90m 165 |[39m         background[33m:[39m [32m'transparent'[39m[33m,[39m
     [90m 166 |[39m       })[33m;[39m[0m

      at Object.toHaveStyle (src/components/premium/__tests__/GlassCard.test.tsx:163:20)

  ‚óè GlassCard ‚Ä∫ Default props ‚Ä∫ should use default variant when not specified

    expect(element).toHaveClass("glass-card-default")

    Expected the element to have class:
      glass-card-default
    Received:

    [0m [90m 223 |[39m       render([33m<[39m[33mGlassCard[39m[33m>[39m[33mDefault[39m[33m<[39m[33m/[39m[33mGlassCard[39m[33m>[39m)[33m;[39m
     [90m 224 |[39m       [36mconst[39m card [33m=[39m screen[33m.[39mgetByText([32m'Default'[39m)[33m.[39mparentElement[33m;[39m
    [31m[1m>[22m[39m[90m 225 |[39m       expect(card)[33m.[39mtoHaveClass([32m'glass-card-default'[39m)[33m;[39m
     [90m     |[39m                    [31m[1m^[22m[39m
     [90m 226 |[39m     })[33m;[39m
     [90m 227 |[39m
     [90m 228 |[39m     it([32m'should use empty className when not specified'[39m[33m,[39m () [33m=>[39m {[0m

      at Object.toHaveClass (src/components/premium/__tests__/GlassCard.test.tsx:225:20)

  ‚óè GlassCard ‚Ä∫ Default props ‚Ä∫ should use empty className when not specified

    expect(element).toHaveClass("glass-card")

    Expected the element to have class:
      glass-card
    Received:

    [0m [90m 229 |[39m       render([33m<[39m[33mGlassCard[39m[33m>[39m[33mNo[39m [33mClass[39m[33m<[39m[33m/[39m[33mGlassCard[39m[33m>[39m)[33m;[39m
     [90m 230 |[39m       [36mconst[39m card [33m=[39m screen[33m.[39mgetByText([32m'No Class'[39m)[33m.[39mparentElement[33m;[39m
    [31m[1m>[22m[39m[90m 231 |[39m       expect(card)[33m.[39mtoHaveClass([32m'glass-card'[39m)[33m;[39m
     [90m     |[39m                    [31m[1m^[22m[39m
     [90m 232 |[39m       expect(card[33m?[39m[33m.[39mclassName)[33m.[39mtoBe([32m'glass-card glass-card-default '[39m)[33m;[39m
     [90m 233 |[39m     })[33m;[39m
     [90m 234 |[39m   })[33m;[39m[0m

      at Object.toHaveClass (src/components/premium/__tests__/GlassCard.test.tsx:231:20)

  ‚óè GlassCard ‚Ä∫ All props combination ‚Ä∫ should handle all props together

    expect(element).toHaveStyle()

    - Expected

    - background: rgba(255, 255, 255, 0.04);
    - cursor: pointer;

    [0m [90m 250 |[39m       
     [90m 251 |[39m       expect(card)[33m.[39mtoHaveClass([32m'glass-card'[39m[33m,[39m [32m'glass-card-elevated'[39m[33m,[39m [32m'custom-test-class'[39m)[33m;[39m
    [31m[1m>[22m[39m[90m 252 |[39m       expect(card)[33m.[39mtoHaveStyle({
     [90m     |[39m                    [31m[1m^[22m[39m
     [90m 253 |[39m         cursor[33m:[39m [32m'pointer'[39m[33m,[39m
     [90m 254 |[39m         background[33m:[39m [32m'rgba(255, 255, 255, 0.04)'[39m[33m,[39m
     [90m 255 |[39m       })[33m;[39m[0m

      at Object.toHaveStyle (src/components/premium/__tests__/GlassCard.test.tsx:252:20)

  ‚óè GlassCard ‚Ä∫ Theme integration ‚Ä∫ should use theme values for default variant

    expect(element).toHaveStyle()

    - Expected

    - borderRadius: 1rem;
    - padding: 1.5rem;
    - transition: 300ms cubic-bezier(0.4, 0, 0.2, 1);

    [0m [90m 265 |[39m       [36mconst[39m card [33m=[39m container[33m.[39mfirstChild [36mas[39m [33mHTMLElement[39m[33m;[39m
     [90m 266 |[39m
    [31m[1m>[22m[39m[90m 267 |[39m       expect(card)[33m.[39mtoHaveStyle({
     [90m     |[39m                    [31m[1m^[22m[39m
     [90m 268 |[39m         borderRadius[33m:[39m premiumTheme[33m.[39mborderRadius[33m.[39mlg[33m,[39m
     [90m 269 |[39m         padding[33m:[39m [32m'1.5rem'[39m[33m,[39m
     [90m 270 |[39m         transition[33m:[39m premiumTheme[33m.[39mtransitions[33m.[39mbase[33m,[39m[0m

      at Object.toHaveStyle (src/components/premium/__tests__/GlassCard.test.tsx:267:20)

  ‚óè GlassCard ‚Ä∫ Theme integration ‚Ä∫ should use glassmorphism values from theme

    expect(element).toHaveStyle()

    - Expected

    - borderRadius: 1rem;

    [0m [90m 277 |[39m
     [90m 278 |[39m       [90m// The component uses spread operator to apply glassmorphism styles[39m
    [31m[1m>[22m[39m[90m 279 |[39m       expect(card)[33m.[39mtoHaveStyle({
     [90m     |[39m                    [31m[1m^[22m[39m
     [90m 280 |[39m         borderRadius[33m:[39m premiumTheme[33m.[39mborderRadius[33m.[39mlg[33m,[39m
     [90m 281 |[39m       })[33m;[39m
     [90m 282 |[39m     })[33m;[39m[0m

      at Object.toHaveStyle (src/components/premium/__tests__/GlassCard.test.tsx:279:20)

  console.log
    [dotenv@17.0.1] injecting env (31) from .env.test ‚Äì [tip] encrypt with dotenvx: https://dotenvx.com

      at _log (node_modules/dotenv/lib/main.js:102:11)

FAIL src/lib/security/__tests__/rate-limit.test.ts
  RateLimitService
    Basic Rate Limiting
      ‚úï should allow requests within limit
      ‚úï should deny requests exceeding limit (1 ms)
      ‚úï should reset limit after window expires (1 ms)
    Burst Handling
      ‚úï should allow burst requests
      ‚úï should handle burst refill over time
    Rule Management
      ‚úï should handle custom rules (4 ms)
      ‚úï should handle rule updates
      ‚úì should handle non-existent rules gracefully (1 ms)
    Key Isolation
      ‚úï should isolate different keys (1 ms)
      ‚úï should handle key patterns (1 ms)
    Statistics and Monitoring
      ‚úï should track rate limit statistics (1 ms)
      ‚úï should provide rate limit info
      ‚úï should handle cleanup of expired entries
    Error Handling
      ‚úï should handle invalid rule configurations (1 ms)
      ‚úï should handle storage failures gracefully (1 ms)
      ‚úï should handle concurrent requests
    Integration with Rules Engine
      ‚úï should load rules from configuration (1 ms)
      ‚úï should handle rule priorities
    Performance
      ‚úï should handle high throughput (2 ms)
      ‚úï should efficiently handle memory usage (1 ms)

  ‚óè RateLimitService ‚Ä∫ Basic Rate Limiting ‚Ä∫ should allow requests within limit

    Rate limit rule not found: api_request

    [0m [90m 121 |[39m     [36mconst[39m limitRule [33m=[39m [36mtypeof[39m rule [33m===[39m [32m'string'[39m [33m?[39m [36mthis[39m[33m.[39mconfig[33m.[39mlimits[rule] [33m:[39m rule[33m;[39m
     [90m 122 |[39m     [36mif[39m ([33m![39mlimitRule) {
    [31m[1m>[22m[39m[90m 123 |[39m       [36mthrow[39m [36mnew[39m [33mError[39m([32m`Rate limit rule not found: ${rule}`[39m)[33m;[39m
     [90m     |[39m             [31m[1m^[22m[39m
     [90m 124 |[39m     }
     [90m 125 |[39m
     [90m 126 |[39m     [36mconst[39m identifier [33m=[39m [36mthis[39m[33m.[39mhashKey(key)[33m;[39m[0m

      at RateLimitService.check (src/lib/security/rate-limit/service.ts:123:13)
      at Object.check (src/lib/security/__tests__/rate-limit.test.ts:58:47)

  ‚óè RateLimitService ‚Ä∫ Basic Rate Limiting ‚Ä∫ should deny requests exceeding limit

    Rate limit rule not found: api_request

    [0m [90m 121 |[39m     [36mconst[39m limitRule [33m=[39m [36mtypeof[39m rule [33m===[39m [32m'string'[39m [33m?[39m [36mthis[39m[33m.[39mconfig[33m.[39mlimits[rule] [33m:[39m rule[33m;[39m
     [90m 122 |[39m     [36mif[39m ([33m![39mlimitRule) {
    [31m[1m>[22m[39m[90m 123 |[39m       [36mthrow[39m [36mnew[39m [33mError[39m([32m`Rate limit rule not found: ${rule}`[39m)[33m;[39m
     [90m     |[39m             [31m[1m^[22m[39m
     [90m 124 |[39m     }
     [90m 125 |[39m
     [90m 126 |[39m     [36mconst[39m identifier [33m=[39m [36mthis[39m[33m.[39mhashKey(key)[33m;[39m[0m

      at RateLimitService.check (src/lib/security/rate-limit/service.ts:123:13)
      at Object.check (src/lib/security/__tests__/rate-limit.test.ts:71:32)

  ‚óè RateLimitService ‚Ä∫ Basic Rate Limiting ‚Ä∫ should reset limit after window expires

    Rate limit rule not found: strict_rule

    [0m [90m 121 |[39m     [36mconst[39m limitRule [33m=[39m [36mtypeof[39m rule [33m===[39m [32m'string'[39m [33m?[39m [36mthis[39m[33m.[39mconfig[33m.[39mlimits[rule] [33m:[39m rule[33m;[39m
     [90m 122 |[39m     [36mif[39m ([33m![39mlimitRule) {
    [31m[1m>[22m[39m[90m 123 |[39m       [36mthrow[39m [36mnew[39m [33mError[39m([32m`Rate limit rule not found: ${rule}`[39m)[33m;[39m
     [90m     |[39m             [31m[1m^[22m[39m
     [90m 124 |[39m     }
     [90m 125 |[39m
     [90m 126 |[39m     [36mconst[39m identifier [33m=[39m [36mthis[39m[33m.[39mhashKey(key)[33m;[39m[0m

      at RateLimitService.check (src/lib/security/rate-limit/service.ts:123:13)
      at Object.check (src/lib/security/__tests__/rate-limit.test.ts:86:43)

  ‚óè RateLimitService ‚Ä∫ Burst Handling ‚Ä∫ should allow burst requests

    Rate limit rule not found: api_request

    [0m [90m 121 |[39m     [36mconst[39m limitRule [33m=[39m [36mtypeof[39m rule [33m===[39m [32m'string'[39m [33m?[39m [36mthis[39m[33m.[39mconfig[33m.[39mlimits[rule] [33m:[39m rule[33m;[39m
     [90m 122 |[39m     [36mif[39m ([33m![39mlimitRule) {
    [31m[1m>[22m[39m[90m 123 |[39m       [36mthrow[39m [36mnew[39m [33mError[39m([32m`Rate limit rule not found: ${rule}`[39m)[33m;[39m
     [90m     |[39m             [31m[1m^[22m[39m
     [90m 124 |[39m     }
     [90m 125 |[39m
     [90m 126 |[39m     [36mconst[39m identifier [33m=[39m [36mthis[39m[33m.[39mhashKey(key)[33m;[39m[0m

      at RateLimitService.check (src/lib/security/rate-limit/service.ts:123:13)
      at Object.check (src/lib/security/__tests__/rate-limit.test.ts:109:47)

  ‚óè RateLimitService ‚Ä∫ Burst Handling ‚Ä∫ should handle burst refill over time

    Rate limit rule not found: api_request

    [0m [90m 121 |[39m     [36mconst[39m limitRule [33m=[39m [36mtypeof[39m rule [33m===[39m [32m'string'[39m [33m?[39m [36mthis[39m[33m.[39mconfig[33m.[39mlimits[rule] [33m:[39m rule[33m;[39m
     [90m 122 |[39m     [36mif[39m ([33m![39mlimitRule) {
    [31m[1m>[22m[39m[90m 123 |[39m       [36mthrow[39m [36mnew[39m [33mError[39m([32m`Rate limit rule not found: ${rule}`[39m)[33m;[39m
     [90m     |[39m             [31m[1m^[22m[39m
     [90m 124 |[39m     }
     [90m 125 |[39m
     [90m 126 |[39m     [36mconst[39m identifier [33m=[39m [36mthis[39m[33m.[39mhashKey(key)[33m;[39m[0m

      at RateLimitService.check (src/lib/security/rate-limit/service.ts:123:13)
      at Object.check (src/lib/security/__tests__/rate-limit.test.ts:124:32)

  ‚óè RateLimitService ‚Ä∫ Rule Management ‚Ä∫ should handle custom rules

    expect(received).toBe(expected) // Object.is equality

    Expected: false
    Received: true

    [0m [90m 153 |[39m
     [90m 154 |[39m       [36mconst[39m result [33m=[39m [36mawait[39m rateLimitService[33m.[39mcheck(key[33m,[39m customRule)[33m;[39m
    [31m[1m>[22m[39m[90m 155 |[39m       expect(result[33m.[39mallowed)[33m.[39mtoBe([36mfalse[39m)[33m;[39m
     [90m     |[39m                              [31m[1m^[22m[39m
     [90m 156 |[39m     })[33m;[39m
     [90m 157 |[39m
     [90m 158 |[39m     it([32m'should handle rule updates'[39m[33m,[39m [36masync[39m () [33m=>[39m {[0m

      at Object.toBe (src/lib/security/__tests__/rate-limit.test.ts:155:30)

  ‚óè RateLimitService ‚Ä∫ Rule Management ‚Ä∫ should handle rule updates

    TypeError: rateLimitService.updateRule is not a function

    [0m [90m 161 |[39m
     [90m 162 |[39m       [90m// Update rule[39m
    [31m[1m>[22m[39m[90m 163 |[39m       [36mawait[39m rateLimitService[33m.[39mupdateRule([32m'api_request'[39m[33m,[39m {
     [90m     |[39m                              [31m[1m^[22m[39m
     [90m 164 |[39m         requests[33m:[39m [35m10[39m[33m,[39m
     [90m 165 |[39m         windowMs[33m:[39m [35m60000[39m[33m,[39m
     [90m 166 |[39m         burst[33m:[39m [35m20[39m[33m,[39m[0m

      at Object.updateRule (src/lib/security/__tests__/rate-limit.test.ts:163:30)

  ‚óè RateLimitService ‚Ä∫ Key Isolation ‚Ä∫ should isolate different keys

    Rate limit rule not found: api_request

    [0m [90m 121 |[39m     [36mconst[39m limitRule [33m=[39m [36mtypeof[39m rule [33m===[39m [32m'string'[39m [33m?[39m [36mthis[39m[33m.[39mconfig[33m.[39mlimits[rule] [33m:[39m rule[33m;[39m
     [90m 122 |[39m     [36mif[39m ([33m![39mlimitRule) {
    [31m[1m>[22m[39m[90m 123 |[39m       [36mthrow[39m [36mnew[39m [33mError[39m([32m`Rate limit rule not found: ${rule}`[39m)[33m;[39m
     [90m     |[39m             [31m[1m^[22m[39m
     [90m 124 |[39m     }
     [90m 125 |[39m
     [90m 126 |[39m     [36mconst[39m identifier [33m=[39m [36mthis[39m[33m.[39mhashKey(key)[33m;[39m[0m

      at RateLimitService.check (src/lib/security/rate-limit/service.ts:123:13)
      at Object.check (src/lib/security/__tests__/rate-limit.test.ts:190:32)

  ‚óè RateLimitService ‚Ä∫ Key Isolation ‚Ä∫ should handle key patterns

    Rate limit rule not found: api_request

    [0m [90m 121 |[39m     [36mconst[39m limitRule [33m=[39m [36mtypeof[39m rule [33m===[39m [32m'string'[39m [33m?[39m [36mthis[39m[33m.[39mconfig[33m.[39mlimits[rule] [33m:[39m rule[33m;[39m
     [90m 122 |[39m     [36mif[39m ([33m![39mlimitRule) {
    [31m[1m>[22m[39m[90m 123 |[39m       [36mthrow[39m [36mnew[39m [33mError[39m([32m`Rate limit rule not found: ${rule}`[39m)[33m;[39m
     [90m     |[39m             [31m[1m^[22m[39m
     [90m 124 |[39m     }
     [90m 125 |[39m
     [90m 126 |[39m     [36mconst[39m identifier [33m=[39m [36mthis[39m[33m.[39mhashKey(key)[33m;[39m[0m

      at RateLimitService.check (src/lib/security/rate-limit/service.ts:123:13)
      at Object.check (src/lib/security/__tests__/rate-limit.test.ts:206:30)

  ‚óè RateLimitService ‚Ä∫ Statistics and Monitoring ‚Ä∫ should track rate limit statistics

    Rate limit rule not found: api_request

    [0m [90m 121 |[39m     [36mconst[39m limitRule [33m=[39m [36mtypeof[39m rule [33m===[39m [32m'string'[39m [33m?[39m [36mthis[39m[33m.[39mconfig[33m.[39mlimits[rule] [33m:[39m rule[33m;[39m
     [90m 122 |[39m     [36mif[39m ([33m![39mlimitRule) {
    [31m[1m>[22m[39m[90m 123 |[39m       [36mthrow[39m [36mnew[39m [33mError[39m([32m`Rate limit rule not found: ${rule}`[39m)[33m;[39m
     [90m     |[39m             [31m[1m^[22m[39m
     [90m 124 |[39m     }
     [90m 125 |[39m
     [90m 126 |[39m     [36mconst[39m identifier [33m=[39m [36mthis[39m[33m.[39mhashKey(key)[33m;[39m[0m

      at RateLimitService.check (src/lib/security/rate-limit/service.ts:123:13)
      at Object.check (src/lib/security/__tests__/rate-limit.test.ts:226:32)

  ‚óè RateLimitService ‚Ä∫ Statistics and Monitoring ‚Ä∫ should provide rate limit info

    Rate limit rule not found: api_request

    [0m [90m 121 |[39m     [36mconst[39m limitRule [33m=[39m [36mtypeof[39m rule [33m===[39m [32m'string'[39m [33m?[39m [36mthis[39m[33m.[39mconfig[33m.[39mlimits[rule] [33m:[39m rule[33m;[39m
     [90m 122 |[39m     [36mif[39m ([33m![39mlimitRule) {
    [31m[1m>[22m[39m[90m 123 |[39m       [36mthrow[39m [36mnew[39m [33mError[39m([32m`Rate limit rule not found: ${rule}`[39m)[33m;[39m
     [90m     |[39m             [31m[1m^[22m[39m
     [90m 124 |[39m     }
     [90m 125 |[39m
     [90m 126 |[39m     [36mconst[39m identifier [33m=[39m [36mthis[39m[33m.[39mhashKey(key)[33m;[39m[0m

      at RateLimitService.check (src/lib/security/rate-limit/service.ts:123:13)
      at Object.check (src/lib/security/__tests__/rate-limit.test.ts:238:30)

  ‚óè RateLimitService ‚Ä∫ Statistics and Monitoring ‚Ä∫ should handle cleanup of expired entries

    Rate limit rule not found: strict_rule

    [0m [90m 121 |[39m     [36mconst[39m limitRule [33m=[39m [36mtypeof[39m rule [33m===[39m [32m'string'[39m [33m?[39m [36mthis[39m[33m.[39mconfig[33m.[39mlimits[rule] [33m:[39m rule[33m;[39m
     [90m 122 |[39m     [36mif[39m ([33m![39mlimitRule) {
    [31m[1m>[22m[39m[90m 123 |[39m       [36mthrow[39m [36mnew[39m [33mError[39m([32m`Rate limit rule not found: ${rule}`[39m)[33m;[39m
     [90m     |[39m             [31m[1m^[22m[39m
     [90m 124 |[39m     }
     [90m 125 |[39m
     [90m 126 |[39m     [36mconst[39m identifier [33m=[39m [36mthis[39m[33m.[39mhashKey(key)[33m;[39m[0m

      at RateLimitService.check (src/lib/security/rate-limit/service.ts:123:13)
      at Object.check (src/lib/security/__tests__/rate-limit.test.ts:251:30)

  ‚óè RateLimitService ‚Ä∫ Error Handling ‚Ä∫ should handle invalid rule configurations

    expect(received).rejects.toThrow()

    Received promise resolved instead of rejected
    Resolved to value: {"allowed": true, "limit": undefined, "remaining": NaN, "reset": Date { NaN }}

    [0m [90m 272 |[39m       }[33m;[39m
     [90m 273 |[39m
    [31m[1m>[22m[39m[90m 274 |[39m       [36mawait[39m expect(rateLimitService[33m.[39mcheck(key[33m,[39m invalidRule))[33m.[39mrejects[33m.[39mtoThrow()[33m;[39m
     [90m     |[39m             [31m[1m^[22m[39m
     [90m 275 |[39m     })[33m;[39m
     [90m 276 |[39m
     [90m 277 |[39m     it([32m'should handle storage failures gracefully'[39m[33m,[39m [36masync[39m () [33m=>[39m {[0m

      at expect (node_modules/expect/build/index.js:113:15)
      at Object.expect (src/lib/security/__tests__/rate-limit.test.ts:274:13)

  ‚óè RateLimitService ‚Ä∫ Error Handling ‚Ä∫ should handle storage failures gracefully

    Rate limit rule not found: test_rule

    [0m [90m 121 |[39m     [36mconst[39m limitRule [33m=[39m [36mtypeof[39m rule [33m===[39m [32m'string'[39m [33m?[39m [36mthis[39m[33m.[39mconfig[33m.[39mlimits[rule] [33m:[39m rule[33m;[39m
     [90m 122 |[39m     [36mif[39m ([33m![39mlimitRule) {
    [31m[1m>[22m[39m[90m 123 |[39m       [36mthrow[39m [36mnew[39m [33mError[39m([32m`Rate limit rule not found: ${rule}`[39m)[33m;[39m
     [90m     |[39m             [31m[1m^[22m[39m
     [90m 124 |[39m     }
     [90m 125 |[39m
     [90m 126 |[39m     [36mconst[39m identifier [33m=[39m [36mthis[39m[33m.[39mhashKey(key)[33m;[39m[0m

      at RateLimitService.check (src/lib/security/rate-limit/service.ts:123:13)
      at Object.check (src/lib/security/__tests__/rate-limit.test.ts:295:41)

  ‚óè RateLimitService ‚Ä∫ Error Handling ‚Ä∫ should handle concurrent requests

    Rate limit rule not found: api_request

    [0m [90m 121 |[39m     [36mconst[39m limitRule [33m=[39m [36mtypeof[39m rule [33m===[39m [32m'string'[39m [33m?[39m [36mthis[39m[33m.[39mconfig[33m.[39mlimits[rule] [33m:[39m rule[33m;[39m
     [90m 122 |[39m     [36mif[39m ([33m![39mlimitRule) {
    [31m[1m>[22m[39m[90m 123 |[39m       [36mthrow[39m [36mnew[39m [33mError[39m([32m`Rate limit rule not found: ${rule}`[39m)[33m;[39m
     [90m     |[39m             [31m[1m^[22m[39m
     [90m 124 |[39m     }
     [90m 125 |[39m
     [90m 126 |[39m     [36mconst[39m identifier [33m=[39m [36mthis[39m[33m.[39mhashKey(key)[33m;[39m[0m

      at RateLimitService.check (src/lib/security/rate-limit/service.ts:123:13)
      at check (src/lib/security/__tests__/rate-limit.test.ts:305:26)
          at Function.from (<anonymous>)
      at Object.from (src/lib/security/__tests__/rate-limit.test.ts:304:30)

  ‚óè RateLimitService ‚Ä∫ Integration with Rules Engine ‚Ä∫ should load rules from configuration

    Rate limit rule not found: api_calls

    [0m [90m 121 |[39m     [36mconst[39m limitRule [33m=[39m [36mtypeof[39m rule [33m===[39m [32m'string'[39m [33m?[39m [36mthis[39m[33m.[39mconfig[33m.[39mlimits[rule] [33m:[39m rule[33m;[39m
     [90m 122 |[39m     [36mif[39m ([33m![39mlimitRule) {
    [31m[1m>[22m[39m[90m 123 |[39m       [36mthrow[39m [36mnew[39m [33mError[39m([32m`Rate limit rule not found: ${rule}`[39m)[33m;[39m
     [90m     |[39m             [31m[1m^[22m[39m
     [90m 124 |[39m     }
     [90m 125 |[39m
     [90m 126 |[39m     [36mconst[39m identifier [33m=[39m [36mthis[39m[33m.[39mhashKey(key)[33m;[39m[0m

      at RateLimitService.check (src/lib/security/rate-limit/service.ts:123:13)
      at Object.check (src/lib/security/__tests__/rate-limit.test.ts:334:37)

  ‚óè RateLimitService ‚Ä∫ Integration with Rules Engine ‚Ä∫ should handle rule priorities

    Rate limit rule not found: general

    [0m [90m 121 |[39m     [36mconst[39m limitRule [33m=[39m [36mtypeof[39m rule [33m===[39m [32m'string'[39m [33m?[39m [36mthis[39m[33m.[39mconfig[33m.[39mlimits[rule] [33m:[39m rule[33m;[39m
     [90m 122 |[39m     [36mif[39m ([33m![39mlimitRule) {
    [31m[1m>[22m[39m[90m 123 |[39m       [36mthrow[39m [36mnew[39m [33mError[39m([32m`Rate limit rule not found: ${rule}`[39m)[33m;[39m
     [90m     |[39m             [31m[1m^[22m[39m
     [90m 124 |[39m     }
     [90m 125 |[39m
     [90m 126 |[39m     [36mconst[39m identifier [33m=[39m [36mthis[39m[33m.[39mhashKey(key)[33m;[39m[0m

      at RateLimitService.check (src/lib/security/rate-limit/service.ts:123:13)
      at Object.check (src/lib/security/__tests__/rate-limit.test.ts:360:38)

  ‚óè RateLimitService ‚Ä∫ Performance ‚Ä∫ should handle high throughput

    Rate limit rule not found: api_request

    [0m [90m 121 |[39m     [36mconst[39m limitRule [33m=[39m [36mtypeof[39m rule [33m===[39m [32m'string'[39m [33m?[39m [36mthis[39m[33m.[39mconfig[33m.[39mlimits[rule] [33m:[39m rule[33m;[39m
     [90m 122 |[39m     [36mif[39m ([33m![39mlimitRule) {
    [31m[1m>[22m[39m[90m 123 |[39m       [36mthrow[39m [36mnew[39m [33mError[39m([32m`Rate limit rule not found: ${rule}`[39m)[33m;[39m
     [90m     |[39m             [31m[1m^[22m[39m
     [90m 124 |[39m     }
     [90m 125 |[39m
     [90m 126 |[39m     [36mconst[39m identifier [33m=[39m [36mthis[39m[33m.[39mhashKey(key)[33m;[39m[0m

      at RateLimitService.check (src/lib/security/rate-limit/service.ts:123:13)
      at check (src/lib/security/__tests__/rate-limit.test.ts:384:26)
          at Function.from (<anonymous>)
      at Object.from (src/lib/security/__tests__/rate-limit.test.ts:383:30)

  ‚óè RateLimitService ‚Ä∫ Performance ‚Ä∫ should efficiently handle memory usage

    Rate limit rule not found: api_request

    [0m [90m 121 |[39m     [36mconst[39m limitRule [33m=[39m [36mtypeof[39m rule [33m===[39m [32m'string'[39m [33m?[39m [36mthis[39m[33m.[39mconfig[33m.[39mlimits[rule] [33m:[39m rule[33m;[39m
     [90m 122 |[39m     [36mif[39m ([33m![39mlimitRule) {
    [31m[1m>[22m[39m[90m 123 |[39m       [36mthrow[39m [36mnew[39m [33mError[39m([32m`Rate limit rule not found: ${rule}`[39m)[33m;[39m
     [90m     |[39m             [31m[1m^[22m[39m
     [90m 124 |[39m     }
     [90m 125 |[39m
     [90m 126 |[39m     [36mconst[39m identifier [33m=[39m [36mthis[39m[33m.[39mhashKey(key)[33m;[39m[0m

      at RateLimitService.check (src/lib/security/rate-limit/service.ts:123:13)
      at Object.check (src/lib/security/__tests__/rate-limit.test.ts:401:32)

  console.log
    [dotenv@17.0.1] injecting env (31) from .env.test ‚Äì [tip] encrypt with dotenvx: https://dotenvx.com

      at _log (node_modules/dotenv/lib/main.js:102:11)

FAIL src/lib/validation/__tests__/sanitization.test.ts
  Sanitization Utilities
    sanitizeHTML
      ‚úï should sanitize HTML with simple config by default (1 ms)
      ‚úï should sanitize HTML with text config (2 ms)
      ‚úï should sanitize HTML with rich config (1 ms)
      ‚úï should sanitize HTML with markdown config (1 ms)
      ‚úï should handle empty strings (3 ms)
    sanitizeText
      ‚úï should remove all HTML tags
      ‚úï should handle plain text
      ‚úï should handle special characters
    sanitizeUserInput
      ‚úï should escape HTML special characters
      ‚úï should handle all special characters
      ‚úï should first strip HTML then escape
      ‚úï should handle empty strings
    sanitizeJSON
      ‚úï should sanitize string values
      ‚úï should sanitize arrays (1 ms)
      ‚úï should sanitize objects recursively (1 ms)
      ‚úì should handle non-string primitives (2 ms)
    sanitizeFileName
      ‚úï should remove path separators (10 ms)
      ‚úì should remove special characters (2 ms)
      ‚úì should handle multiple dots (1 ms)
      ‚úì should preserve allowed characters
      ‚úì should limit file name length (1 ms)
      ‚úï should handle files without extension
      ‚úì should handle empty strings
    sanitizeURL
      ‚úì should allow valid HTTP URLs (5 ms)
      ‚úì should allow mailto URLs (3 ms)
      ‚úì should reject javascript URLs (2 ms)
      ‚úì should reject data URLs (3 ms)
      ‚úì should reject other protocols (2 ms)
      ‚úì should handle invalid URLs (2 ms)
    generateCSPNonce
      ‚úì should generate a base64 encoded nonce (1 ms)
      ‚úì should generate unique nonces

  ‚óè Sanitization Utilities ‚Ä∫ sanitizeHTML ‚Ä∫ should sanitize HTML with simple config by default

    TypeError: DOMPurify.sanitize is not a function

    [0m [90m 65 |[39m   }[33m;[39m
     [90m 66 |[39m   
    [31m[1m>[22m[39m[90m 67 |[39m   [36mreturn[39m [33mDOMPurify[39m[33m.[39msanitize(html[33m,[39m {
     [90m    |[39m                    [31m[1m^[22m[39m
     [90m 68 |[39m     [33m...[39mconfig[33m,[39m
     [90m 69 |[39m     [33mUSE_PROFILES[39m[33m:[39m { html[33m:[39m [36mtrue[39m }[33m,[39m
     [90m 70 |[39m     [33mADD_ATTR[39m[33m:[39m [[32m'target'[39m][33m,[39m [90m// Allow target attribute for links[39m[0m

      at sanitize (src/lib/validation/sanitization.ts:67:20)
      at Object.sanitizeHTML (src/lib/validation/__tests__/sanitization.test.ts:43:22)

  ‚óè Sanitization Utilities ‚Ä∫ sanitizeHTML ‚Ä∫ should sanitize HTML with text config

    TypeError: DOMPurify.sanitize is not a function

    [0m [90m 65 |[39m   }[33m;[39m
     [90m 66 |[39m   
    [31m[1m>[22m[39m[90m 67 |[39m   [36mreturn[39m [33mDOMPurify[39m[33m.[39msanitize(html[33m,[39m {
     [90m    |[39m                    [31m[1m^[22m[39m
     [90m 68 |[39m     [33m...[39mconfig[33m,[39m
     [90m 69 |[39m     [33mUSE_PROFILES[39m[33m:[39m { html[33m:[39m [36mtrue[39m }[33m,[39m
     [90m 70 |[39m     [33mADD_ATTR[39m[33m:[39m [[32m'target'[39m][33m,[39m [90m// Allow target attribute for links[39m[0m

      at sanitize (src/lib/validation/sanitization.ts:67:20)
      at Object.sanitizeHTML (src/lib/validation/__tests__/sanitization.test.ts:49:22)

  ‚óè Sanitization Utilities ‚Ä∫ sanitizeHTML ‚Ä∫ should sanitize HTML with rich config

    TypeError: DOMPurify.sanitize is not a function

    [0m [90m 65 |[39m   }[33m;[39m
     [90m 66 |[39m   
    [31m[1m>[22m[39m[90m 67 |[39m   [36mreturn[39m [33mDOMPurify[39m[33m.[39msanitize(html[33m,[39m {
     [90m    |[39m                    [31m[1m^[22m[39m
     [90m 68 |[39m     [33m...[39mconfig[33m,[39m
     [90m 69 |[39m     [33mUSE_PROFILES[39m[33m:[39m { html[33m:[39m [36mtrue[39m }[33m,[39m
     [90m 70 |[39m     [33mADD_ATTR[39m[33m:[39m [[32m'target'[39m][33m,[39m [90m// Allow target attribute for links[39m[0m

      at sanitize (src/lib/validation/sanitization.ts:67:20)
      at Object.sanitizeHTML (src/lib/validation/__tests__/sanitization.test.ts:55:22)

  ‚óè Sanitization Utilities ‚Ä∫ sanitizeHTML ‚Ä∫ should sanitize HTML with markdown config

    TypeError: DOMPurify.sanitize is not a function

    [0m [90m 65 |[39m   }[33m;[39m
     [90m 66 |[39m   
    [31m[1m>[22m[39m[90m 67 |[39m   [36mreturn[39m [33mDOMPurify[39m[33m.[39msanitize(html[33m,[39m {
     [90m    |[39m                    [31m[1m^[22m[39m
     [90m 68 |[39m     [33m...[39mconfig[33m,[39m
     [90m 69 |[39m     [33mUSE_PROFILES[39m[33m:[39m { html[33m:[39m [36mtrue[39m }[33m,[39m
     [90m 70 |[39m     [33mADD_ATTR[39m[33m:[39m [[32m'target'[39m][33m,[39m [90m// Allow target attribute for links[39m[0m

      at sanitize (src/lib/validation/sanitization.ts:67:20)
      at Object.sanitizeHTML (src/lib/validation/__tests__/sanitization.test.ts:61:22)

  ‚óè Sanitization Utilities ‚Ä∫ sanitizeHTML ‚Ä∫ should handle empty strings

    TypeError: DOMPurify.sanitize is not a function

    [0m [90m 65 |[39m   }[33m;[39m
     [90m 66 |[39m   
    [31m[1m>[22m[39m[90m 67 |[39m   [36mreturn[39m [33mDOMPurify[39m[33m.[39msanitize(html[33m,[39m {
     [90m    |[39m                    [31m[1m^[22m[39m
     [90m 68 |[39m     [33m...[39mconfig[33m,[39m
     [90m 69 |[39m     [33mUSE_PROFILES[39m[33m:[39m { html[33m:[39m [36mtrue[39m }[33m,[39m
     [90m 70 |[39m     [33mADD_ATTR[39m[33m:[39m [[32m'target'[39m][33m,[39m [90m// Allow target attribute for links[39m[0m

      at sanitize (src/lib/validation/sanitization.ts:67:20)
      at Object.sanitizeHTML (src/lib/validation/__tests__/sanitization.test.ts:66:14)

  ‚óè Sanitization Utilities ‚Ä∫ sanitizeText ‚Ä∫ should remove all HTML tags

    TypeError: DOMPurify.sanitize is not a function

    [0m [90m 79 |[39m [90m */[39m
     [90m 80 |[39m [36mexport[39m [36mfunction[39m sanitizeText(text[33m:[39m string)[33m:[39m string {
    [31m[1m>[22m[39m[90m 81 |[39m   [36mreturn[39m [33mDOMPurify[39m[33m.[39msanitize(text[33m,[39m [33mSANITIZE_CONFIGS[39m[33m.[39mtext)[33m;[39m
     [90m    |[39m                    [31m[1m^[22m[39m
     [90m 82 |[39m }
     [90m 83 |[39m
     [90m 84 |[39m [90m/**[39m[0m

      at sanitize (src/lib/validation/sanitization.ts:81:20)
      at Object.sanitizeText (src/lib/validation/__tests__/sanitization.test.ts:73:22)

  ‚óè Sanitization Utilities ‚Ä∫ sanitizeText ‚Ä∫ should handle plain text

    TypeError: DOMPurify.sanitize is not a function

    [0m [90m 79 |[39m [90m */[39m
     [90m 80 |[39m [36mexport[39m [36mfunction[39m sanitizeText(text[33m:[39m string)[33m:[39m string {
    [31m[1m>[22m[39m[90m 81 |[39m   [36mreturn[39m [33mDOMPurify[39m[33m.[39msanitize(text[33m,[39m [33mSANITIZE_CONFIGS[39m[33m.[39mtext)[33m;[39m
     [90m    |[39m                    [31m[1m^[22m[39m
     [90m 82 |[39m }
     [90m 83 |[39m
     [90m 84 |[39m [90m/**[39m[0m

      at sanitize (src/lib/validation/sanitization.ts:81:20)
      at Object.sanitizeText (src/lib/validation/__tests__/sanitization.test.ts:79:22)

  ‚óè Sanitization Utilities ‚Ä∫ sanitizeText ‚Ä∫ should handle special characters

    TypeError: DOMPurify.sanitize is not a function

    [0m [90m 79 |[39m [90m */[39m
     [90m 80 |[39m [36mexport[39m [36mfunction[39m sanitizeText(text[33m:[39m string)[33m:[39m string {
    [31m[1m>[22m[39m[90m 81 |[39m   [36mreturn[39m [33mDOMPurify[39m[33m.[39msanitize(text[33m,[39m [33mSANITIZE_CONFIGS[39m[33m.[39mtext)[33m;[39m
     [90m    |[39m                    [31m[1m^[22m[39m
     [90m 82 |[39m }
     [90m 83 |[39m
     [90m 84 |[39m [90m/**[39m[0m

      at sanitize (src/lib/validation/sanitization.ts:81:20)
      at Object.sanitizeText (src/lib/validation/__tests__/sanitization.test.ts:85:22)

  ‚óè Sanitization Utilities ‚Ä∫ sanitizeUserInput ‚Ä∫ should escape HTML special characters

    TypeError: DOMPurify.sanitize is not a function

    [0m [90m 79 |[39m [90m */[39m
     [90m 80 |[39m [36mexport[39m [36mfunction[39m sanitizeText(text[33m:[39m string)[33m:[39m string {
    [31m[1m>[22m[39m[90m 81 |[39m   [36mreturn[39m [33mDOMPurify[39m[33m.[39msanitize(text[33m,[39m [33mSANITIZE_CONFIGS[39m[33m.[39mtext)[33m;[39m
     [90m    |[39m                    [31m[1m^[22m[39m
     [90m 82 |[39m }
     [90m 83 |[39m
     [90m 84 |[39m [90m/**[39m[0m

      at sanitize (src/lib/validation/sanitization.ts:81:20)
      at sanitizeText (src/lib/validation/sanitization.ts:89:21)
      at Object.sanitizeUserInput (src/lib/validation/__tests__/sanitization.test.ts:93:22)

  ‚óè Sanitization Utilities ‚Ä∫ sanitizeUserInput ‚Ä∫ should handle all special characters

    TypeError: DOMPurify.sanitize is not a function

    [0m [90m 79 |[39m [90m */[39m
     [90m 80 |[39m [36mexport[39m [36mfunction[39m sanitizeText(text[33m:[39m string)[33m:[39m string {
    [31m[1m>[22m[39m[90m 81 |[39m   [36mreturn[39m [33mDOMPurify[39m[33m.[39msanitize(text[33m,[39m [33mSANITIZE_CONFIGS[39m[33m.[39mtext)[33m;[39m
     [90m    |[39m                    [31m[1m^[22m[39m
     [90m 82 |[39m }
     [90m 83 |[39m
     [90m 84 |[39m [90m/**[39m[0m

      at sanitize (src/lib/validation/sanitization.ts:81:20)
      at sanitizeText (src/lib/validation/sanitization.ts:89:21)
      at Object.sanitizeUserInput (src/lib/validation/__tests__/sanitization.test.ts:101:22)

  ‚óè Sanitization Utilities ‚Ä∫ sanitizeUserInput ‚Ä∫ should first strip HTML then escape

    TypeError: DOMPurify.sanitize is not a function

    [0m [90m 79 |[39m [90m */[39m
     [90m 80 |[39m [36mexport[39m [36mfunction[39m sanitizeText(text[33m:[39m string)[33m:[39m string {
    [31m[1m>[22m[39m[90m 81 |[39m   [36mreturn[39m [33mDOMPurify[39m[33m.[39msanitize(text[33m,[39m [33mSANITIZE_CONFIGS[39m[33m.[39mtext)[33m;[39m
     [90m    |[39m                    [31m[1m^[22m[39m
     [90m 82 |[39m }
     [90m 83 |[39m
     [90m 84 |[39m [90m/**[39m[0m

      at sanitize (src/lib/validation/sanitization.ts:81:20)
      at sanitizeText (src/lib/validation/sanitization.ts:89:21)
      at Object.sanitizeUserInput (src/lib/validation/__tests__/sanitization.test.ts:107:22)

  ‚óè Sanitization Utilities ‚Ä∫ sanitizeUserInput ‚Ä∫ should handle empty strings

    TypeError: DOMPurify.sanitize is not a function

    [0m [90m 79 |[39m [90m */[39m
     [90m 80 |[39m [36mexport[39m [36mfunction[39m sanitizeText(text[33m:[39m string)[33m:[39m string {
    [31m[1m>[22m[39m[90m 81 |[39m   [36mreturn[39m [33mDOMPurify[39m[33m.[39msanitize(text[33m,[39m [33mSANITIZE_CONFIGS[39m[33m.[39mtext)[33m;[39m
     [90m    |[39m                    [31m[1m^[22m[39m
     [90m 82 |[39m }
     [90m 83 |[39m
     [90m 84 |[39m [90m/**[39m[0m

      at sanitize (src/lib/validation/sanitization.ts:81:20)
      at sanitizeText (src/lib/validation/sanitization.ts:89:21)
      at Object.sanitizeUserInput (src/lib/validation/__tests__/sanitization.test.ts:112:14)

  ‚óè Sanitization Utilities ‚Ä∫ sanitizeJSON ‚Ä∫ should sanitize string values

    TypeError: DOMPurify.sanitize is not a function

    [0m [90m 79 |[39m [90m */[39m
     [90m 80 |[39m [36mexport[39m [36mfunction[39m sanitizeText(text[33m:[39m string)[33m:[39m string {
    [31m[1m>[22m[39m[90m 81 |[39m   [36mreturn[39m [33mDOMPurify[39m[33m.[39msanitize(text[33m,[39m [33mSANITIZE_CONFIGS[39m[33m.[39mtext)[33m;[39m
     [90m    |[39m                    [31m[1m^[22m[39m
     [90m 82 |[39m }
     [90m 83 |[39m
     [90m 84 |[39m [90m/**[39m[0m

      at sanitize (src/lib/validation/sanitization.ts:81:20)
      at sanitizeText (src/lib/validation/sanitization.ts:106:12)
      at Object.sanitizeJSON (src/lib/validation/__tests__/sanitization.test.ts:119:22)

  ‚óè Sanitization Utilities ‚Ä∫ sanitizeJSON ‚Ä∫ should sanitize arrays

    TypeError: DOMPurify.sanitize is not a function

    [0m [90m 79 |[39m [90m */[39m
     [90m 80 |[39m [36mexport[39m [36mfunction[39m sanitizeText(text[33m:[39m string)[33m:[39m string {
    [31m[1m>[22m[39m[90m 81 |[39m   [36mreturn[39m [33mDOMPurify[39m[33m.[39msanitize(text[33m,[39m [33mSANITIZE_CONFIGS[39m[33m.[39mtext)[33m;[39m
     [90m    |[39m                    [31m[1m^[22m[39m
     [90m 82 |[39m }
     [90m 83 |[39m
     [90m 84 |[39m [90m/**[39m[0m

      at sanitize (src/lib/validation/sanitization.ts:81:20)
      at sanitizeText (src/lib/validation/sanitization.ts:106:12)
          at Array.map (<anonymous>)
      at map (src/lib/validation/sanitization.ts:110:17)
      at Object.sanitizeJSON (src/lib/validation/__tests__/sanitization.test.ts:125:22)

  ‚óè Sanitization Utilities ‚Ä∫ sanitizeJSON ‚Ä∫ should sanitize objects recursively

    TypeError: DOMPurify.sanitize is not a function

    [0m [90m 79 |[39m [90m */[39m
     [90m 80 |[39m [36mexport[39m [36mfunction[39m sanitizeText(text[33m:[39m string)[33m:[39m string {
    [31m[1m>[22m[39m[90m 81 |[39m   [36mreturn[39m [33mDOMPurify[39m[33m.[39msanitize(text[33m,[39m [33mSANITIZE_CONFIGS[39m[33m.[39mtext)[33m;[39m
     [90m    |[39m                    [31m[1m^[22m[39m
     [90m 82 |[39m }
     [90m 83 |[39m
     [90m 84 |[39m [90m/**[39m[0m

      at sanitize (src/lib/validation/sanitization.ts:81:20)
      at sanitizeText (src/lib/validation/sanitization.ts:117:28)
      at Object.sanitizeJSON (src/lib/validation/__tests__/sanitization.test.ts:141:22)

  ‚óè Sanitization Utilities ‚Ä∫ sanitizeFileName ‚Ä∫ should remove path separators

    expect(received).toBe(expected) // Object.is equality

    Expected: ".._.._etc_passwd"
    Received: "._._etc_passwd"

    [0m [90m 155 |[39m   describe([32m'sanitizeFileName'[39m[33m,[39m () [33m=>[39m {
     [90m 156 |[39m     it([32m'should remove path separators'[39m[33m,[39m () [33m=>[39m {
    [31m[1m>[22m[39m[90m 157 |[39m       expect(sanitizeFileName([32m'../../etc/passwd'[39m))[33m.[39mtoBe([32m'.._.._etc_passwd'[39m)[33m;[39m
     [90m     |[39m                                                    [31m[1m^[22m[39m
     [90m 158 |[39m       expect(sanitizeFileName([32m'C:\\Windows\\System32'[39m))[33m.[39mtoBe([32m'C__Windows_System32'[39m)[33m;[39m
     [90m 159 |[39m     })[33m;[39m
     [90m 160 |[39m[0m

      at Object.toBe (src/lib/validation/__tests__/sanitization.test.ts:157:52)

  ‚óè Sanitization Utilities ‚Ä∫ sanitizeFileName ‚Ä∫ should handle files without extension

    expect(received).toBeLessThanOrEqual(expected)

    Expected: <= 255
    Received:    301

    [0m [90m 181 |[39m       [36mconst[39m longName [33m=[39m [32m'a'[39m[33m.[39mrepeat([35m300[39m)[33m;[39m
     [90m 182 |[39m       [36mconst[39m result [33m=[39m sanitizeFileName(longName)[33m;[39m
    [31m[1m>[22m[39m[90m 183 |[39m       expect(result[33m.[39mlength)[33m.[39mtoBeLessThanOrEqual([35m255[39m)[33m;[39m
     [90m     |[39m                             [31m[1m^[22m[39m
     [90m 184 |[39m     })[33m;[39m
     [90m 185 |[39m
     [90m 186 |[39m     it([32m'should handle empty strings'[39m[33m,[39m () [33m=>[39m {[0m

      at Object.toBeLessThanOrEqual (src/lib/validation/__tests__/sanitization.test.ts:183:29)

  console.log
    [dotenv@17.0.1] injecting env (31) from .env.test ‚Äì [tip] encrypt with dotenvx: https://dotenvx.com

      at _log (node_modules/dotenv/lib/main.js:102:11)

  console.error
    Error: Not implemented: HTMLCanvasElement.prototype.getContext (without installing the canvas npm package)
        at module.exports (/workspaces/blipee-os/node_modules/jsdom/lib/jsdom/browser/not-implemented.js:9:17)
        at HTMLCanvasElementImpl.getContext (/workspaces/blipee-os/node_modules/jsdom/lib/jsdom/living/nodes/HTMLCanvasElement-impl.js:42:5)
        at HTMLCanvasElement.getContext (/workspaces/blipee-os/node_modules/jsdom/lib/jsdom/living/generated/HTMLCanvasElement.js:131:58)
        at getContext (/workspaces/blipee-os/src/components/effects/AmbientBackground.tsx:12:24)
        at commitHookEffectListMount (/workspaces/blipee-os/node_modules/react-dom/cjs/react-dom.development.js:23189:26)
        at commitPassiveMountOnFiber (/workspaces/blipee-os/node_modules/react-dom/cjs/react-dom.development.js:24970:11)
        at commitPassiveMountEffects_complete (/workspaces/blipee-os/node_modules/react-dom/cjs/react-dom.development.js:24930:9)
        at commitPassiveMountEffects_begin (/workspaces/blipee-os/node_modules/react-dom/cjs/react-dom.development.js:24917:7)
        at commitPassiveMountEffects (/workspaces/blipee-os/node_modules/react-dom/cjs/react-dom.development.js:24905:3)
        at flushPassiveEffectsImpl (/workspaces/blipee-os/node_modules/react-dom/cjs/react-dom.development.js:27078:3)
        at flushPassiveEffects (/workspaces/blipee-os/node_modules/react-dom/cjs/react-dom.development.js:27023:14)
        at /workspaces/blipee-os/node_modules/react-dom/cjs/react-dom.development.js:26808:9
        at flushActQueue (/workspaces/blipee-os/node_modules/react/cjs/react.development.js:2667:24)
        at act (/workspaces/blipee-os/node_modules/react/cjs/react.development.js:2582:11)
        at /workspaces/blipee-os/node_modules/@testing-library/react/dist/act-compat.js:47:25
        at renderRoot (/workspaces/blipee-os/node_modules/@testing-library/react/dist/pure.js:190:26)
        at render (/workspaces/blipee-os/node_modules/@testing-library/react/dist/pure.js:292:10)
        at Object.render (/workspaces/blipee-os/src/components/effects/__tests__/AmbientBackground.test.tsx:7:27)
        at Promise.then.completed (/workspaces/blipee-os/node_modules/jest-circus/build/utils.js:298:28)
        at new Promise (<anonymous>)
        at callAsyncCircusFn (/workspaces/blipee-os/node_modules/jest-circus/build/utils.js:231:10)
        at _callCircusTest (/workspaces/blipee-os/node_modules/jest-circus/build/run.js:316:40)
        at _runTest (/workspaces/blipee-os/node_modules/jest-circus/build/run.js:252:3)
        at _runTestsForDescribeBlock (/workspaces/blipee-os/node_modules/jest-circus/build/run.js:126:9)
        at _runTestsForDescribeBlock (/workspaces/blipee-os/node_modules/jest-circus/build/run.js:121:9)
        at run (/workspaces/blipee-os/node_modules/jest-circus/build/run.js:71:3)
        at runAndTransformResultsToJestFormat (/workspaces/blipee-os/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)
        at jestAdapter (/workspaces/blipee-os/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)
        at runTestInternal (/workspaces/blipee-os/node_modules/jest-runner/build/runTest.js:367:16)
        at runTest (/workspaces/blipee-os/node_modules/jest-runner/build/runTest.js:444:34) {
      type: 'not implemented'
    }

      243 |       return;
      244 |     }
    > 245 |     originalError.call(console, ...args);
          |                   ^
      246 |   };
      247 |   
      248 |   console.warn = (...args) => {

      at console.call [as error] (jest.setup.enterprise.js:245:19)
      at VirtualConsole.<anonymous> (node_modules/@jest/environment-jsdom-abstract/build/index.js:78:23)
      at module.exports (node_modules/jsdom/lib/jsdom/browser/not-implemented.js:12:26)
      at HTMLCanvasElementImpl.getContext (node_modules/jsdom/lib/jsdom/living/nodes/HTMLCanvasElement-impl.js:42:5)
      at HTMLCanvasElement.getContext (node_modules/jsdom/lib/jsdom/living/generated/HTMLCanvasElement.js:131:58)
      at getContext (src/components/effects/AmbientBackground.tsx:12:24)
      at commitHookEffectListMount (node_modules/react-dom/cjs/react-dom.development.js:23189:26)
      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom.development.js:24970:11)
      at commitPassiveMountEffects_complete (node_modules/react-dom/cjs/react-dom.development.js:24930:9)
      at commitPassiveMountEffects_begin (node_modules/react-dom/cjs/react-dom.development.js:24917:7)
      at commitPassiveMountEffects (node_modules/react-dom/cjs/react-dom.development.js:24905:3)
      at flushPassiveEffectsImpl (node_modules/react-dom/cjs/react-dom.development.js:27078:3)
      at flushPassiveEffects (node_modules/react-dom/cjs/react-dom.development.js:27023:14)
      at node_modules/react-dom/cjs/react-dom.development.js:26808:9
      at flushActQueue (node_modules/react/cjs/react.development.js:2667:24)
      at act (node_modules/react/cjs/react.development.js:2582:11)
      at node_modules/@testing-library/react/dist/act-compat.js:47:25
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:190:26)
      at render (node_modules/@testing-library/react/dist/pure.js:292:10)
      at Object.render (src/components/effects/__tests__/AmbientBackground.test.tsx:7:27)

  console.error
    Error: Not implemented: HTMLCanvasElement.prototype.getContext (without installing the canvas npm package)
        at module.exports (/workspaces/blipee-os/node_modules/jsdom/lib/jsdom/browser/not-implemented.js:9:17)
        at HTMLCanvasElementImpl.getContext (/workspaces/blipee-os/node_modules/jsdom/lib/jsdom/living/nodes/HTMLCanvasElement-impl.js:42:5)
        at HTMLCanvasElement.getContext (/workspaces/blipee-os/node_modules/jsdom/lib/jsdom/living/generated/HTMLCanvasElement.js:131:58)
        at getContext (/workspaces/blipee-os/src/components/effects/AmbientBackground.tsx:12:24)
        at commitHookEffectListMount (/workspaces/blipee-os/node_modules/react-dom/cjs/react-dom.development.js:23189:26)
        at commitPassiveMountOnFiber (/workspaces/blipee-os/node_modules/react-dom/cjs/react-dom.development.js:24970:11)
        at commitPassiveMountEffects_complete (/workspaces/blipee-os/node_modules/react-dom/cjs/react-dom.development.js:24930:9)
        at commitPassiveMountEffects_begin (/workspaces/blipee-os/node_modules/react-dom/cjs/react-dom.development.js:24917:7)
        at commitPassiveMountEffects (/workspaces/blipee-os/node_modules/react-dom/cjs/react-dom.development.js:24905:3)
        at flushPassiveEffectsImpl (/workspaces/blipee-os/node_modules/react-dom/cjs/react-dom.development.js:27078:3)
        at flushPassiveEffects (/workspaces/blipee-os/node_modules/react-dom/cjs/react-dom.development.js:27023:14)
        at /workspaces/blipee-os/node_modules/react-dom/cjs/react-dom.development.js:26808:9
        at flushActQueue (/workspaces/blipee-os/node_modules/react/cjs/react.development.js:2667:24)
        at act (/workspaces/blipee-os/node_modules/react/cjs/react.development.js:2582:11)
        at /workspaces/blipee-os/node_modules/@testing-library/react/dist/act-compat.js:47:25
        at renderRoot (/workspaces/blipee-os/node_modules/@testing-library/react/dist/pure.js:190:26)
        at render (/workspaces/blipee-os/node_modules/@testing-library/react/dist/pure.js:292:10)
        at Object.render (/workspaces/blipee-os/src/components/effects/__tests__/AmbientBackground.test.tsx:12:27)
        at Promise.then.completed (/workspaces/blipee-os/node_modules/jest-circus/build/utils.js:298:28)
        at new Promise (<anonymous>)
        at callAsyncCircusFn (/workspaces/blipee-os/node_modules/jest-circus/build/utils.js:231:10)
        at _callCircusTest (/workspaces/blipee-os/node_modules/jest-circus/build/run.js:316:40)
        at _runTest (/workspaces/blipee-os/node_modules/jest-circus/build/run.js:252:3)
        at _runTestsForDescribeBlock (/workspaces/blipee-os/node_modules/jest-circus/build/run.js:126:9)
        at _runTestsForDescribeBlock (/workspaces/blipee-os/node_modules/jest-circus/build/run.js:121:9)
        at run (/workspaces/blipee-os/node_modules/jest-circus/build/run.js:71:3)
        at runAndTransformResultsToJestFormat (/workspaces/blipee-os/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)
        at jestAdapter (/workspaces/blipee-os/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)
        at runTestInternal (/workspaces/blipee-os/node_modules/jest-runner/build/runTest.js:367:16)
        at runTest (/workspaces/blipee-os/node_modules/jest-runner/build/runTest.js:444:34) {
      type: 'not implemented'
    }

      243 |       return;
      244 |     }
    > 245 |     originalError.call(console, ...args);
          |                   ^
      246 |   };
      247 |   
      248 |   console.warn = (...args) => {

      at console.call [as error] (jest.setup.enterprise.js:245:19)
      at VirtualConsole.<anonymous> (node_modules/@jest/environment-jsdom-abstract/build/index.js:78:23)
      at module.exports (node_modules/jsdom/lib/jsdom/browser/not-implemented.js:12:26)
      at HTMLCanvasElementImpl.getContext (node_modules/jsdom/lib/jsdom/living/nodes/HTMLCanvasElement-impl.js:42:5)
      at HTMLCanvasElement.getContext (node_modules/jsdom/lib/jsdom/living/generated/HTMLCanvasElement.js:131:58)
      at getContext (src/components/effects/AmbientBackground.tsx:12:24)
      at commitHookEffectListMount (node_modules/react-dom/cjs/react-dom.development.js:23189:26)
      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom.development.js:24970:11)
      at commitPassiveMountEffects_complete (node_modules/react-dom/cjs/react-dom.development.js:24930:9)
      at commitPassiveMountEffects_begin (node_modules/react-dom/cjs/react-dom.development.js:24917:7)
      at commitPassiveMountEffects (node_modules/react-dom/cjs/react-dom.development.js:24905:3)
      at flushPassiveEffectsImpl (node_modules/react-dom/cjs/react-dom.development.js:27078:3)
      at flushPassiveEffects (node_modules/react-dom/cjs/react-dom.development.js:27023:14)
      at node_modules/react-dom/cjs/react-dom.development.js:26808:9
      at flushActQueue (node_modules/react/cjs/react.development.js:2667:24)
      at act (node_modules/react/cjs/react.development.js:2582:11)
      at node_modules/@testing-library/react/dist/act-compat.js:47:25
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:190:26)
      at render (node_modules/@testing-library/react/dist/pure.js:292:10)
      at Object.render (src/components/effects/__tests__/AmbientBackground.test.tsx:12:27)

  console.error
    Error: Not implemented: HTMLCanvasElement.prototype.getContext (without installing the canvas npm package)
        at module.exports (/workspaces/blipee-os/node_modules/jsdom/lib/jsdom/browser/not-implemented.js:9:17)
        at HTMLCanvasElementImpl.getContext (/workspaces/blipee-os/node_modules/jsdom/lib/jsdom/living/nodes/HTMLCanvasElement-impl.js:42:5)
        at HTMLCanvasElement.getContext (/workspaces/blipee-os/node_modules/jsdom/lib/jsdom/living/generated/HTMLCanvasElement.js:131:58)
        at getContext (/workspaces/blipee-os/src/components/effects/AmbientBackground.tsx:12:24)
        at commitHookEffectListMount (/workspaces/blipee-os/node_modules/react-dom/cjs/react-dom.development.js:23189:26)
        at commitPassiveMountOnFiber (/workspaces/blipee-os/node_modules/react-dom/cjs/react-dom.development.js:24970:11)
        at commitPassiveMountEffects_complete (/workspaces/blipee-os/node_modules/react-dom/cjs/react-dom.development.js:24930:9)
        at commitPassiveMountEffects_begin (/workspaces/blipee-os/node_modules/react-dom/cjs/react-dom.development.js:24917:7)
        at commitPassiveMountEffects (/workspaces/blipee-os/node_modules/react-dom/cjs/react-dom.development.js:24905:3)
        at flushPassiveEffectsImpl (/workspaces/blipee-os/node_modules/react-dom/cjs/react-dom.development.js:27078:3)
        at flushPassiveEffects (/workspaces/blipee-os/node_modules/react-dom/cjs/react-dom.development.js:27023:14)
        at /workspaces/blipee-os/node_modules/react-dom/cjs/react-dom.development.js:26808:9
        at flushActQueue (/workspaces/blipee-os/node_modules/react/cjs/react.development.js:2667:24)
        at act (/workspaces/blipee-os/node_modules/react/cjs/react.development.js:2582:11)
        at /workspaces/blipee-os/node_modules/@testing-library/react/dist/act-compat.js:47:25
        at renderRoot (/workspaces/blipee-os/node_modules/@testing-library/react/dist/pure.js:190:26)
        at render (/workspaces/blipee-os/node_modules/@testing-library/react/dist/pure.js:292:10)
        at Object.render (/workspaces/blipee-os/src/components/effects/__tests__/AmbientBackground.test.tsx:19:27)
        at Promise.then.completed (/workspaces/blipee-os/node_modules/jest-circus/build/utils.js:298:28)
        at new Promise (<anonymous>)
        at callAsyncCircusFn (/workspaces/blipee-os/node_modules/jest-circus/build/utils.js:231:10)
        at _callCircusTest (/workspaces/blipee-os/node_modules/jest-circus/build/run.js:316:40)
        at _runTest (/workspaces/blipee-os/node_modules/jest-circus/build/run.js:252:3)
        at _runTestsForDescribeBlock (/workspaces/blipee-os/node_modules/jest-circus/build/run.js:126:9)
        at _runTestsForDescribeBlock (/workspaces/blipee-os/node_modules/jest-circus/build/run.js:121:9)
        at run (/workspaces/blipee-os/node_modules/jest-circus/build/run.js:71:3)
        at runAndTransformResultsToJestFormat (/workspaces/blipee-os/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)
        at jestAdapter (/workspaces/blipee-os/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)
        at runTestInternal (/workspaces/blipee-os/node_modules/jest-runner/build/runTest.js:367:16)
        at runTest (/workspaces/blipee-os/node_modules/jest-runner/build/runTest.js:444:34) {
      type: 'not implemented'
    }

      243 |       return;
      244 |     }
    > 245 |     originalError.call(console, ...args);
          |                   ^
      246 |   };
      247 |   
      248 |   console.warn = (...args) => {

      at console.call [as error] (jest.setup.enterprise.js:245:19)
      at VirtualConsole.<anonymous> (node_modules/@jest/environment-jsdom-abstract/build/index.js:78:23)
      at module.exports (node_modules/jsdom/lib/jsdom/browser/not-implemented.js:12:26)
      at HTMLCanvasElementImpl.getContext (node_modules/jsdom/lib/jsdom/living/nodes/HTMLCanvasElement-impl.js:42:5)
      at HTMLCanvasElement.getContext (node_modules/jsdom/lib/jsdom/living/generated/HTMLCanvasElement.js:131:58)
      at getContext (src/components/effects/AmbientBackground.tsx:12:24)
      at commitHookEffectListMount (node_modules/react-dom/cjs/react-dom.development.js:23189:26)
      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom.development.js:24970:11)
      at commitPassiveMountEffects_complete (node_modules/react-dom/cjs/react-dom.development.js:24930:9)
      at commitPassiveMountEffects_begin (node_modules/react-dom/cjs/react-dom.development.js:24917:7)
      at commitPassiveMountEffects (node_modules/react-dom/cjs/react-dom.development.js:24905:3)
      at flushPassiveEffectsImpl (node_modules/react-dom/cjs/react-dom.development.js:27078:3)
      at flushPassiveEffects (node_modules/react-dom/cjs/react-dom.development.js:27023:14)
      at node_modules/react-dom/cjs/react-dom.development.js:26808:9
      at flushActQueue (node_modules/react/cjs/react.development.js:2667:24)
      at act (node_modules/react/cjs/react.development.js:2582:11)
      at node_modules/@testing-library/react/dist/act-compat.js:47:25
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:190:26)
      at render (node_modules/@testing-library/react/dist/pure.js:292:10)
      at Object.render (src/components/effects/__tests__/AmbientBackground.test.tsx:19:27)

  console.error
    Error: Not implemented: HTMLCanvasElement.prototype.getContext (without installing the canvas npm package)
        at module.exports (/workspaces/blipee-os/node_modules/jsdom/lib/jsdom/browser/not-implemented.js:9:17)
        at HTMLCanvasElementImpl.getContext (/workspaces/blipee-os/node_modules/jsdom/lib/jsdom/living/nodes/HTMLCanvasElement-impl.js:42:5)
        at HTMLCanvasElement.getContext (/workspaces/blipee-os/node_modules/jsdom/lib/jsdom/living/generated/HTMLCanvasElement.js:131:58)
        at getContext (/workspaces/blipee-os/src/components/effects/AmbientBackground.tsx:12:24)
        at commitHookEffectListMount (/workspaces/blipee-os/node_modules/react-dom/cjs/react-dom.development.js:23189:26)
        at commitPassiveMountOnFiber (/workspaces/blipee-os/node_modules/react-dom/cjs/react-dom.development.js:24970:11)
        at commitPassiveMountEffects_complete (/workspaces/blipee-os/node_modules/react-dom/cjs/react-dom.development.js:24930:9)
        at commitPassiveMountEffects_begin (/workspaces/blipee-os/node_modules/react-dom/cjs/react-dom.development.js:24917:7)
        at commitPassiveMountEffects (/workspaces/blipee-os/node_modules/react-dom/cjs/react-dom.development.js:24905:3)
        at flushPassiveEffectsImpl (/workspaces/blipee-os/node_modules/react-dom/cjs/react-dom.development.js:27078:3)
        at flushPassiveEffects (/workspaces/blipee-os/node_modules/react-dom/cjs/react-dom.development.js:27023:14)
        at /workspaces/blipee-os/node_modules/react-dom/cjs/react-dom.development.js:26808:9
        at flushActQueue (/workspaces/blipee-os/node_modules/react/cjs/react.development.js:2667:24)
        at act (/workspaces/blipee-os/node_modules/react/cjs/react.development.js:2582:11)
        at /workspaces/blipee-os/node_modules/@testing-library/react/dist/act-compat.js:47:25
        at renderRoot (/workspaces/blipee-os/node_modules/@testing-library/react/dist/pure.js:190:26)
        at render (/workspaces/blipee-os/node_modules/@testing-library/react/dist/pure.js:292:10)
        at Object.render (/workspaces/blipee-os/src/components/effects/__tests__/AmbientBackground.test.tsx:25:27)
        at Promise.then.completed (/workspaces/blipee-os/node_modules/jest-circus/build/utils.js:298:28)
        at new Promise (<anonymous>)
        at callAsyncCircusFn (/workspaces/blipee-os/node_modules/jest-circus/build/utils.js:231:10)
        at _callCircusTest (/workspaces/blipee-os/node_modules/jest-circus/build/run.js:316:40)
        at _runTest (/workspaces/blipee-os/node_modules/jest-circus/build/run.js:252:3)
        at _runTestsForDescribeBlock (/workspaces/blipee-os/node_modules/jest-circus/build/run.js:126:9)
        at _runTestsForDescribeBlock (/workspaces/blipee-os/node_modules/jest-circus/build/run.js:121:9)
        at run (/workspaces/blipee-os/node_modules/jest-circus/build/run.js:71:3)
        at runAndTransformResultsToJestFormat (/workspaces/blipee-os/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)
        at jestAdapter (/workspaces/blipee-os/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)
        at runTestInternal (/workspaces/blipee-os/node_modules/jest-runner/build/runTest.js:367:16)
        at runTest (/workspaces/blipee-os/node_modules/jest-runner/build/runTest.js:444:34) {
      type: 'not implemented'
    }

      243 |       return;
      244 |     }
    > 245 |     originalError.call(console, ...args);
          |                   ^
      246 |   };
      247 |   
      248 |   console.warn = (...args) => {

      at console.call [as error] (jest.setup.enterprise.js:245:19)
      at VirtualConsole.<anonymous> (node_modules/@jest/environment-jsdom-abstract/build/index.js:78:23)
      at module.exports (node_modules/jsdom/lib/jsdom/browser/not-implemented.js:12:26)
      at HTMLCanvasElementImpl.getContext (node_modules/jsdom/lib/jsdom/living/nodes/HTMLCanvasElement-impl.js:42:5)
      at HTMLCanvasElement.getContext (node_modules/jsdom/lib/jsdom/living/generated/HTMLCanvasElement.js:131:58)
      at getContext (src/components/effects/AmbientBackground.tsx:12:24)
      at commitHookEffectListMount (node_modules/react-dom/cjs/react-dom.development.js:23189:26)
      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom.development.js:24970:11)
      at commitPassiveMountEffects_complete (node_modules/react-dom/cjs/react-dom.development.js:24930:9)
      at commitPassiveMountEffects_begin (node_modules/react-dom/cjs/react-dom.development.js:24917:7)
      at commitPassiveMountEffects (node_modules/react-dom/cjs/react-dom.development.js:24905:3)
      at flushPassiveEffectsImpl (node_modules/react-dom/cjs/react-dom.development.js:27078:3)
      at flushPassiveEffects (node_modules/react-dom/cjs/react-dom.development.js:27023:14)
      at node_modules/react-dom/cjs/react-dom.development.js:26808:9
      at flushActQueue (node_modules/react/cjs/react.development.js:2667:24)
      at act (node_modules/react/cjs/react.development.js:2582:11)
      at node_modules/@testing-library/react/dist/act-compat.js:47:25
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:190:26)
      at render (node_modules/@testing-library/react/dist/pure.js:292:10)
      at Object.render (src/components/effects/__tests__/AmbientBackground.test.tsx:25:27)

  console.error
    Error: Not implemented: HTMLCanvasElement.prototype.getContext (without installing the canvas npm package)
        at module.exports (/workspaces/blipee-os/node_modules/jsdom/lib/jsdom/browser/not-implemented.js:9:17)
        at HTMLCanvasElementImpl.getContext (/workspaces/blipee-os/node_modules/jsdom/lib/jsdom/living/nodes/HTMLCanvasElement-impl.js:42:5)
        at HTMLCanvasElement.getContext (/workspaces/blipee-os/node_modules/jsdom/lib/jsdom/living/generated/HTMLCanvasElement.js:131:58)
        at getContext (/workspaces/blipee-os/src/components/effects/AmbientBackground.tsx:12:24)
        at commitHookEffectListMount (/workspaces/blipee-os/node_modules/react-dom/cjs/react-dom.development.js:23189:26)
        at commitPassiveMountOnFiber (/workspaces/blipee-os/node_modules/react-dom/cjs/react-dom.development.js:24970:11)
        at commitPassiveMountEffects_complete (/workspaces/blipee-os/node_modules/react-dom/cjs/react-dom.development.js:24930:9)
        at commitPassiveMountEffects_begin (/workspaces/blipee-os/node_modules/react-dom/cjs/react-dom.development.js:24917:7)
        at commitPassiveMountEffects (/workspaces/blipee-os/node_modules/react-dom/cjs/react-dom.development.js:24905:3)
        at flushPassiveEffectsImpl (/workspaces/blipee-os/node_modules/react-dom/cjs/react-dom.development.js:27078:3)
        at flushPassiveEffects (/workspaces/blipee-os/node_modules/react-dom/cjs/react-dom.development.js:27023:14)
        at /workspaces/blipee-os/node_modules/react-dom/cjs/react-dom.development.js:26808:9
        at flushActQueue (/workspaces/blipee-os/node_modules/react/cjs/react.development.js:2667:24)
        at act (/workspaces/blipee-os/node_modules/react/cjs/react.development.js:2582:11)
        at /workspaces/blipee-os/node_modules/@testing-library/react/dist/act-compat.js:47:25
        at renderRoot (/workspaces/blipee-os/node_modules/@testing-library/react/dist/pure.js:190:26)
        at render (/workspaces/blipee-os/node_modules/@testing-library/react/dist/pure.js:292:10)
        at Object.render (/workspaces/blipee-os/src/components/effects/__tests__/AmbientBackground.test.tsx:31:27)
        at Promise.then.completed (/workspaces/blipee-os/node_modules/jest-circus/build/utils.js:298:28)
        at new Promise (<anonymous>)
        at callAsyncCircusFn (/workspaces/blipee-os/node_modules/jest-circus/build/utils.js:231:10)
        at _callCircusTest (/workspaces/blipee-os/node_modules/jest-circus/build/run.js:316:40)
        at _runTest (/workspaces/blipee-os/node_modules/jest-circus/build/run.js:252:3)
        at _runTestsForDescribeBlock (/workspaces/blipee-os/node_modules/jest-circus/build/run.js:126:9)
        at _runTestsForDescribeBlock (/workspaces/blipee-os/node_modules/jest-circus/build/run.js:121:9)
        at run (/workspaces/blipee-os/node_modules/jest-circus/build/run.js:71:3)
        at runAndTransformResultsToJestFormat (/workspaces/blipee-os/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)
        at jestAdapter (/workspaces/blipee-os/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)
        at runTestInternal (/workspaces/blipee-os/node_modules/jest-runner/build/runTest.js:367:16)
        at runTest (/workspaces/blipee-os/node_modules/jest-runner/build/runTest.js:444:34) {
      type: 'not implemented'
    }

      243 |       return;
      244 |     }
    > 245 |     originalError.call(console, ...args);
          |                   ^
      246 |   };
      247 |   
      248 |   console.warn = (...args) => {

      at console.call [as error] (jest.setup.enterprise.js:245:19)
      at VirtualConsole.<anonymous> (node_modules/@jest/environment-jsdom-abstract/build/index.js:78:23)
      at module.exports (node_modules/jsdom/lib/jsdom/browser/not-implemented.js:12:26)
      at HTMLCanvasElementImpl.getContext (node_modules/jsdom/lib/jsdom/living/nodes/HTMLCanvasElement-impl.js:42:5)
      at HTMLCanvasElement.getContext (node_modules/jsdom/lib/jsdom/living/generated/HTMLCanvasElement.js:131:58)
      at getContext (src/components/effects/AmbientBackground.tsx:12:24)
      at commitHookEffectListMount (node_modules/react-dom/cjs/react-dom.development.js:23189:26)
      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom.development.js:24970:11)
      at commitPassiveMountEffects_complete (node_modules/react-dom/cjs/react-dom.development.js:24930:9)
      at commitPassiveMountEffects_begin (node_modules/react-dom/cjs/react-dom.development.js:24917:7)
      at commitPassiveMountEffects (node_modules/react-dom/cjs/react-dom.development.js:24905:3)
      at flushPassiveEffectsImpl (node_modules/react-dom/cjs/react-dom.development.js:27078:3)
      at flushPassiveEffects (node_modules/react-dom/cjs/react-dom.development.js:27023:14)
      at node_modules/react-dom/cjs/react-dom.development.js:26808:9
      at flushActQueue (node_modules/react/cjs/react.development.js:2667:24)
      at act (node_modules/react/cjs/react.development.js:2582:11)
      at node_modules/@testing-library/react/dist/act-compat.js:47:25
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:190:26)
      at render (node_modules/@testing-library/react/dist/pure.js:292:10)
      at Object.render (src/components/effects/__tests__/AmbientBackground.test.tsx:31:27)

  console.error
    Error: Not implemented: HTMLCanvasElement.prototype.getContext (without installing the canvas npm package)
        at module.exports (/workspaces/blipee-os/node_modules/jsdom/lib/jsdom/browser/not-implemented.js:9:17)
        at HTMLCanvasElementImpl.getContext (/workspaces/blipee-os/node_modules/jsdom/lib/jsdom/living/nodes/HTMLCanvasElement-impl.js:42:5)
        at HTMLCanvasElement.getContext (/workspaces/blipee-os/node_modules/jsdom/lib/jsdom/living/generated/HTMLCanvasElement.js:131:58)
        at getContext (/workspaces/blipee-os/src/components/effects/AmbientBackground.tsx:12:24)
        at commitHookEffectListMount (/workspaces/blipee-os/node_modules/react-dom/cjs/react-dom.development.js:23189:26)
        at commitPassiveMountOnFiber (/workspaces/blipee-os/node_modules/react-dom/cjs/react-dom.development.js:24970:11)
        at commitPassiveMountEffects_complete (/workspaces/blipee-os/node_modules/react-dom/cjs/react-dom.development.js:24930:9)
        at commitPassiveMountEffects_begin (/workspaces/blipee-os/node_modules/react-dom/cjs/react-dom.development.js:24917:7)
        at commitPassiveMountEffects (/workspaces/blipee-os/node_modules/react-dom/cjs/react-dom.development.js:24905:3)
        at flushPassiveEffectsImpl (/workspaces/blipee-os/node_modules/react-dom/cjs/react-dom.development.js:27078:3)
        at flushPassiveEffects (/workspaces/blipee-os/node_modules/react-dom/cjs/react-dom.development.js:27023:14)
        at /workspaces/blipee-os/node_modules/react-dom/cjs/react-dom.development.js:26808:9
        at flushActQueue (/workspaces/blipee-os/node_modules/react/cjs/react.development.js:2667:24)
        at act (/workspaces/blipee-os/node_modules/react/cjs/react.development.js:2582:11)
        at /workspaces/blipee-os/node_modules/@testing-library/react/dist/act-compat.js:47:25
        at renderRoot (/workspaces/blipee-os/node_modules/@testing-library/react/dist/pure.js:190:26)
        at render (/workspaces/blipee-os/node_modules/@testing-library/react/dist/pure.js:292:10)
        at Object.render (/workspaces/blipee-os/src/components/effects/__tests__/AmbientBackground.test.tsx:37:27)
        at Promise.then.completed (/workspaces/blipee-os/node_modules/jest-circus/build/utils.js:298:28)
        at new Promise (<anonymous>)
        at callAsyncCircusFn (/workspaces/blipee-os/node_modules/jest-circus/build/utils.js:231:10)
        at _callCircusTest (/workspaces/blipee-os/node_modules/jest-circus/build/run.js:316:40)
        at _runTest (/workspaces/blipee-os/node_modules/jest-circus/build/run.js:252:3)
        at _runTestsForDescribeBlock (/workspaces/blipee-os/node_modules/jest-circus/build/run.js:126:9)
        at _runTestsForDescribeBlock (/workspaces/blipee-os/node_modules/jest-circus/build/run.js:121:9)
        at run (/workspaces/blipee-os/node_modules/jest-circus/build/run.js:71:3)
        at runAndTransformResultsToJestFormat (/workspaces/blipee-os/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)
        at jestAdapter (/workspaces/blipee-os/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)
        at runTestInternal (/workspaces/blipee-os/node_modules/jest-runner/build/runTest.js:367:16)
        at runTest (/workspaces/blipee-os/node_modules/jest-runner/build/runTest.js:444:34) {
      type: 'not implemented'
    }

      243 |       return;
      244 |     }
    > 245 |     originalError.call(console, ...args);
          |                   ^
      246 |   };
      247 |   
      248 |   console.warn = (...args) => {

      at console.call [as error] (jest.setup.enterprise.js:245:19)
      at VirtualConsole.<anonymous> (node_modules/@jest/environment-jsdom-abstract/build/index.js:78:23)
      at module.exports (node_modules/jsdom/lib/jsdom/browser/not-implemented.js:12:26)
      at HTMLCanvasElementImpl.getContext (node_modules/jsdom/lib/jsdom/living/nodes/HTMLCanvasElement-impl.js:42:5)
      at HTMLCanvasElement.getContext (node_modules/jsdom/lib/jsdom/living/generated/HTMLCanvasElement.js:131:58)
      at getContext (src/components/effects/AmbientBackground.tsx:12:24)
      at commitHookEffectListMount (node_modules/react-dom/cjs/react-dom.development.js:23189:26)
      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom.development.js:24970:11)
      at commitPassiveMountEffects_complete (node_modules/react-dom/cjs/react-dom.development.js:24930:9)
      at commitPassiveMountEffects_begin (node_modules/react-dom/cjs/react-dom.development.js:24917:7)
      at commitPassiveMountEffects (node_modules/react-dom/cjs/react-dom.development.js:24905:3)
      at flushPassiveEffectsImpl (node_modules/react-dom/cjs/react-dom.development.js:27078:3)
      at flushPassiveEffects (node_modules/react-dom/cjs/react-dom.development.js:27023:14)
      at node_modules/react-dom/cjs/react-dom.development.js:26808:9
      at flushActQueue (node_modules/react/cjs/react.development.js:2667:24)
      at act (node_modules/react/cjs/react.development.js:2582:11)
      at node_modules/@testing-library/react/dist/act-compat.js:47:25
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:190:26)
      at render (node_modules/@testing-library/react/dist/pure.js:292:10)
      at Object.render (src/components/effects/__tests__/AmbientBackground.test.tsx:37:27)

  console.error
    Error: Not implemented: HTMLCanvasElement.prototype.getContext (without installing the canvas npm package)
        at module.exports (/workspaces/blipee-os/node_modules/jsdom/lib/jsdom/browser/not-implemented.js:9:17)
        at HTMLCanvasElementImpl.getContext (/workspaces/blipee-os/node_modules/jsdom/lib/jsdom/living/nodes/HTMLCanvasElement-impl.js:42:5)
        at HTMLCanvasElement.getContext (/workspaces/blipee-os/node_modules/jsdom/lib/jsdom/living/generated/HTMLCanvasElement.js:131:58)
        at getContext (/workspaces/blipee-os/src/components/effects/AmbientBackground.tsx:12:24)
        at commitHookEffectListMount (/workspaces/blipee-os/node_modules/react-dom/cjs/react-dom.development.js:23189:26)
        at commitPassiveMountOnFiber (/workspaces/blipee-os/node_modules/react-dom/cjs/react-dom.development.js:24970:11)
        at commitPassiveMountEffects_complete (/workspaces/blipee-os/node_modules/react-dom/cjs/react-dom.development.js:24930:9)
        at commitPassiveMountEffects_begin (/workspaces/blipee-os/node_modules/react-dom/cjs/react-dom.development.js:24917:7)
        at commitPassiveMountEffects (/workspaces/blipee-os/node_modules/react-dom/cjs/react-dom.development.js:24905:3)
        at flushPassiveEffectsImpl (/workspaces/blipee-os/node_modules/react-dom/cjs/react-dom.development.js:27078:3)
        at flushPassiveEffects (/workspaces/blipee-os/node_modules/react-dom/cjs/react-dom.development.js:27023:14)
        at /workspaces/blipee-os/node_modules/react-dom/cjs/react-dom.development.js:26808:9
        at flushActQueue (/workspaces/blipee-os/node_modules/react/cjs/react.development.js:2667:24)
        at act (/workspaces/blipee-os/node_modules/react/cjs/react.development.js:2582:11)
        at /workspaces/blipee-os/node_modules/@testing-library/react/dist/act-compat.js:47:25
        at renderRoot (/workspaces/blipee-os/node_modules/@testing-library/react/dist/pure.js:190:26)
        at render (/workspaces/blipee-os/node_modules/@testing-library/react/dist/pure.js:292:10)
        at Object.render (/workspaces/blipee-os/src/components/effects/__tests__/AmbientBackground.test.tsx:43:27)
        at Promise.then.completed (/workspaces/blipee-os/node_modules/jest-circus/build/utils.js:298:28)
        at new Promise (<anonymous>)
        at callAsyncCircusFn (/workspaces/blipee-os/node_modules/jest-circus/build/utils.js:231:10)
        at _callCircusTest (/workspaces/blipee-os/node_modules/jest-circus/build/run.js:316:40)
        at _runTest (/workspaces/blipee-os/node_modules/jest-circus/build/run.js:252:3)
        at _runTestsForDescribeBlock (/workspaces/blipee-os/node_modules/jest-circus/build/run.js:126:9)
        at _runTestsForDescribeBlock (/workspaces/blipee-os/node_modules/jest-circus/build/run.js:121:9)
        at run (/workspaces/blipee-os/node_modules/jest-circus/build/run.js:71:3)
        at runAndTransformResultsToJestFormat (/workspaces/blipee-os/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)
        at jestAdapter (/workspaces/blipee-os/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)
        at runTestInternal (/workspaces/blipee-os/node_modules/jest-runner/build/runTest.js:367:16)
        at runTest (/workspaces/blipee-os/node_modules/jest-runner/build/runTest.js:444:34) {
      type: 'not implemented'
    }

      243 |       return;
      244 |     }
    > 245 |     originalError.call(console, ...args);
          |                   ^
      246 |   };
      247 |   
      248 |   console.warn = (...args) => {

      at console.call [as error] (jest.setup.enterprise.js:245:19)
      at VirtualConsole.<anonymous> (node_modules/@jest/environment-jsdom-abstract/build/index.js:78:23)
      at module.exports (node_modules/jsdom/lib/jsdom/browser/not-implemented.js:12:26)
      at HTMLCanvasElementImpl.getContext (node_modules/jsdom/lib/jsdom/living/nodes/HTMLCanvasElement-impl.js:42:5)
      at HTMLCanvasElement.getContext (node_modules/jsdom/lib/jsdom/living/generated/HTMLCanvasElement.js:131:58)
      at getContext (src/components/effects/AmbientBackground.tsx:12:24)
      at commitHookEffectListMount (node_modules/react-dom/cjs/react-dom.development.js:23189:26)
      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom.development.js:24970:11)
      at commitPassiveMountEffects_complete (node_modules/react-dom/cjs/react-dom.development.js:24930:9)
      at commitPassiveMountEffects_begin (node_modules/react-dom/cjs/react-dom.development.js:24917:7)
      at commitPassiveMountEffects (node_modules/react-dom/cjs/react-dom.development.js:24905:3)
      at flushPassiveEffectsImpl (node_modules/react-dom/cjs/react-dom.development.js:27078:3)
      at flushPassiveEffects (node_modules/react-dom/cjs/react-dom.development.js:27023:14)
      at node_modules/react-dom/cjs/react-dom.development.js:26808:9
      at flushActQueue (node_modules/react/cjs/react.development.js:2667:24)
      at act (node_modules/react/cjs/react.development.js:2582:11)
      at node_modules/@testing-library/react/dist/act-compat.js:47:25
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:190:26)
      at render (node_modules/@testing-library/react/dist/pure.js:292:10)
      at Object.render (src/components/effects/__tests__/AmbientBackground.test.tsx:43:27)

  console.error
    Error: Not implemented: HTMLCanvasElement.prototype.getContext (without installing the canvas npm package)
        at module.exports (/workspaces/blipee-os/node_modules/jsdom/lib/jsdom/browser/not-implemented.js:9:17)
        at HTMLCanvasElementImpl.getContext (/workspaces/blipee-os/node_modules/jsdom/lib/jsdom/living/nodes/HTMLCanvasElement-impl.js:42:5)
        at HTMLCanvasElement.getContext (/workspaces/blipee-os/node_modules/jsdom/lib/jsdom/living/generated/HTMLCanvasElement.js:131:58)
        at getContext (/workspaces/blipee-os/src/components/effects/AmbientBackground.tsx:12:24)
        at commitHookEffectListMount (/workspaces/blipee-os/node_modules/react-dom/cjs/react-dom.development.js:23189:26)
        at commitPassiveMountOnFiber (/workspaces/blipee-os/node_modules/react-dom/cjs/react-dom.development.js:24970:11)
        at commitPassiveMountEffects_complete (/workspaces/blipee-os/node_modules/react-dom/cjs/react-dom.development.js:24930:9)
        at commitPassiveMountEffects_begin (/workspaces/blipee-os/node_modules/react-dom/cjs/react-dom.development.js:24917:7)
        at commitPassiveMountEffects (/workspaces/blipee-os/node_modules/react-dom/cjs/react-dom.development.js:24905:3)
        at flushPassiveEffectsImpl (/workspaces/blipee-os/node_modules/react-dom/cjs/react-dom.development.js:27078:3)
        at flushPassiveEffects (/workspaces/blipee-os/node_modules/react-dom/cjs/react-dom.development.js:27023:14)
        at /workspaces/blipee-os/node_modules/react-dom/cjs/react-dom.development.js:26808:9
        at flushActQueue (/workspaces/blipee-os/node_modules/react/cjs/react.development.js:2667:24)
        at act (/workspaces/blipee-os/node_modules/react/cjs/react.development.js:2582:11)
        at /workspaces/blipee-os/node_modules/@testing-library/react/dist/act-compat.js:47:25
        at renderRoot (/workspaces/blipee-os/node_modules/@testing-library/react/dist/pure.js:190:26)
        at render (/workspaces/blipee-os/node_modules/@testing-library/react/dist/pure.js:292:10)
        at Object.render (/workspaces/blipee-os/src/components/effects/__tests__/AmbientBackground.test.tsx:49:27)
        at Promise.then.completed (/workspaces/blipee-os/node_modules/jest-circus/build/utils.js:298:28)
        at new Promise (<anonymous>)
        at callAsyncCircusFn (/workspaces/blipee-os/node_modules/jest-circus/build/utils.js:231:10)
        at _callCircusTest (/workspaces/blipee-os/node_modules/jest-circus/build/run.js:316:40)
        at _runTest (/workspaces/blipee-os/node_modules/jest-circus/build/run.js:252:3)
        at _runTestsForDescribeBlock (/workspaces/blipee-os/node_modules/jest-circus/build/run.js:126:9)
        at _runTestsForDescribeBlock (/workspaces/blipee-os/node_modules/jest-circus/build/run.js:121:9)
        at run (/workspaces/blipee-os/node_modules/jest-circus/build/run.js:71:3)
        at runAndTransformResultsToJestFormat (/workspaces/blipee-os/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)
        at jestAdapter (/workspaces/blipee-os/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)
        at runTestInternal (/workspaces/blipee-os/node_modules/jest-runner/build/runTest.js:367:16)
        at runTest (/workspaces/blipee-os/node_modules/jest-runner/build/runTest.js:444:34) {
      type: 'not implemented'
    }

      243 |       return;
      244 |     }
    > 245 |     originalError.call(console, ...args);
          |                   ^
      246 |   };
      247 |   
      248 |   console.warn = (...args) => {

      at console.call [as error] (jest.setup.enterprise.js:245:19)
      at VirtualConsole.<anonymous> (node_modules/@jest/environment-jsdom-abstract/build/index.js:78:23)
      at module.exports (node_modules/jsdom/lib/jsdom/browser/not-implemented.js:12:26)
      at HTMLCanvasElementImpl.getContext (node_modules/jsdom/lib/jsdom/living/nodes/HTMLCanvasElement-impl.js:42:5)
      at HTMLCanvasElement.getContext (node_modules/jsdom/lib/jsdom/living/generated/HTMLCanvasElement.js:131:58)
      at getContext (src/components/effects/AmbientBackground.tsx:12:24)
      at commitHookEffectListMount (node_modules/react-dom/cjs/react-dom.development.js:23189:26)
      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom.development.js:24970:11)
      at commitPassiveMountEffects_complete (node_modules/react-dom/cjs/react-dom.development.js:24930:9)
      at commitPassiveMountEffects_begin (node_modules/react-dom/cjs/react-dom.development.js:24917:7)
      at commitPassiveMountEffects (node_modules/react-dom/cjs/react-dom.development.js:24905:3)
      at flushPassiveEffectsImpl (node_modules/react-dom/cjs/react-dom.development.js:27078:3)
      at flushPassiveEffects (node_modules/react-dom/cjs/react-dom.development.js:27023:14)
      at node_modules/react-dom/cjs/react-dom.development.js:26808:9
      at flushActQueue (node_modules/react/cjs/react.development.js:2667:24)
      at act (node_modules/react/cjs/react.development.js:2582:11)
      at node_modules/@testing-library/react/dist/act-compat.js:47:25
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:190:26)
      at render (node_modules/@testing-library/react/dist/pure.js:292:10)
      at Object.render (src/components/effects/__tests__/AmbientBackground.test.tsx:49:27)

FAIL src/components/effects/__tests__/AmbientBackground.test.tsx
  AmbientBackground component
    ‚úì should render without crashing (22 ms)
    ‚úì should have fixed positioning (6 ms)
    ‚úï should have proper z-index (14 ms)
    ‚úï should have overflow hidden (5 ms)
    ‚úï should have dark background (6 ms)
    ‚úï should render gradient elements (9 ms)
    ‚úï should apply opacity to gradient elements (5 ms)
    ‚úï should have blur effects (5 ms)

  ‚óè AmbientBackground component ‚Ä∫ should have proper z-index

    expect(element).toHaveClass("-z-10")

    Expected the element to have class:
      -z-10
    Received:
      fixed inset-0 pointer-events-none z-0

    [0m [90m 19 |[39m     [36mconst[39m { container } [33m=[39m render([33m<[39m[33mAmbientBackground[39m [33m/[39m[33m>[39m)[33m;[39m
     [90m 20 |[39m     [36mconst[39m background [33m=[39m container[33m.[39mfirstChild[33m;[39m
    [31m[1m>[22m[39m[90m 21 |[39m     expect(background)[33m.[39mtoHaveClass([32m'-z-10'[39m)[33m;[39m
     [90m    |[39m                        [31m[1m^[22m[39m
     [90m 22 |[39m   })[33m;[39m
     [90m 23 |[39m
     [90m 24 |[39m   it([32m'should have overflow hidden'[39m[33m,[39m () [33m=>[39m {[0m

      at Object.toHaveClass (src/components/effects/__tests__/AmbientBackground.test.tsx:21:24)

  ‚óè AmbientBackground component ‚Ä∫ should have overflow hidden

    expect(element).toHaveClass("overflow-hidden")

    Expected the element to have class:
      overflow-hidden
    Received:
      fixed inset-0 pointer-events-none z-0

    [0m [90m 25 |[39m     [36mconst[39m { container } [33m=[39m render([33m<[39m[33mAmbientBackground[39m [33m/[39m[33m>[39m)[33m;[39m
     [90m 26 |[39m     [36mconst[39m background [33m=[39m container[33m.[39mfirstChild[33m;[39m
    [31m[1m>[22m[39m[90m 27 |[39m     expect(background)[33m.[39mtoHaveClass([32m'overflow-hidden'[39m)[33m;[39m
     [90m    |[39m                        [31m[1m^[22m[39m
     [90m 28 |[39m   })[33m;[39m
     [90m 29 |[39m
     [90m 30 |[39m   it([32m'should have dark background'[39m[33m,[39m () [33m=>[39m {[0m

      at Object.toHaveClass (src/components/effects/__tests__/AmbientBackground.test.tsx:27:24)

  ‚óè AmbientBackground component ‚Ä∫ should have dark background

    expect(element).toHaveClass("bg-black")

    Expected the element to have class:
      bg-black
    Received:
      fixed inset-0 pointer-events-none z-0

    [0m [90m 31 |[39m     [36mconst[39m { container } [33m=[39m render([33m<[39m[33mAmbientBackground[39m [33m/[39m[33m>[39m)[33m;[39m
     [90m 32 |[39m     [36mconst[39m background [33m=[39m container[33m.[39mfirstChild[33m;[39m
    [31m[1m>[22m[39m[90m 33 |[39m     expect(background)[33m.[39mtoHaveClass([32m'bg-black'[39m)[33m;[39m
     [90m    |[39m                        [31m[1m^[22m[39m
     [90m 34 |[39m   })[33m;[39m
     [90m 35 |[39m
     [90m 36 |[39m   it([32m'should render gradient elements'[39m[33m,[39m () [33m=>[39m {[0m

      at Object.toHaveClass (src/components/effects/__tests__/AmbientBackground.test.tsx:33:24)

  ‚óè AmbientBackground component ‚Ä∫ should render gradient elements

    expect(received).toBeGreaterThan(expected)

    Expected: > 0
    Received:   0

    [0m [90m 37 |[39m     [36mconst[39m { container } [33m=[39m render([33m<[39m[33mAmbientBackground[39m [33m/[39m[33m>[39m)[33m;[39m
     [90m 38 |[39m     [36mconst[39m gradients [33m=[39m container[33m.[39mquerySelectorAll([32m'.absolute'[39m)[33m;[39m
    [31m[1m>[22m[39m[90m 39 |[39m     expect(gradients[33m.[39mlength)[33m.[39mtoBeGreaterThan([35m0[39m)[33m;[39m
     [90m    |[39m                              [31m[1m^[22m[39m
     [90m 40 |[39m   })[33m;[39m
     [90m 41 |[39m
     [90m 42 |[39m   it([32m'should apply opacity to gradient elements'[39m[33m,[39m () [33m=>[39m {[0m

      at Object.toBeGreaterThan (src/components/effects/__tests__/AmbientBackground.test.tsx:39:30)

  ‚óè AmbientBackground component ‚Ä∫ should apply opacity to gradient elements

    expect(received).toBeGreaterThan(expected)

    Expected: > 0
    Received:   0

    [0m [90m 43 |[39m     [36mconst[39m { container } [33m=[39m render([33m<[39m[33mAmbientBackground[39m [33m/[39m[33m>[39m)[33m;[39m
     [90m 44 |[39m     [36mconst[39m gradients [33m=[39m container[33m.[39mquerySelectorAll([32m'[class*="opacity-"]'[39m)[33m;[39m
    [31m[1m>[22m[39m[90m 45 |[39m     expect(gradients[33m.[39mlength)[33m.[39mtoBeGreaterThan([35m0[39m)[33m;[39m
     [90m    |[39m                              [31m[1m^[22m[39m
     [90m 46 |[39m   })[33m;[39m
     [90m 47 |[39m
     [90m 48 |[39m   it([32m'should have blur effects'[39m[33m,[39m () [33m=>[39m {[0m

      at Object.toBeGreaterThan (src/components/effects/__tests__/AmbientBackground.test.tsx:45:30)

  ‚óè AmbientBackground component ‚Ä∫ should have blur effects

    expect(received).toBeGreaterThan(expected)

    Expected: > 0
    Received:   0

    [0m [90m 49 |[39m     [36mconst[39m { container } [33m=[39m render([33m<[39m[33mAmbientBackground[39m [33m/[39m[33m>[39m)[33m;[39m
     [90m 50 |[39m     [36mconst[39m blurElements [33m=[39m container[33m.[39mquerySelectorAll([32m'[class*="blur-"]'[39m)[33m;[39m
    [31m[1m>[22m[39m[90m 51 |[39m     expect(blurElements[33m.[39mlength)[33m.[39mtoBeGreaterThan([35m0[39m)[33m;[39m
     [90m    |[39m                                 [31m[1m^[22m[39m
     [90m 52 |[39m   })[33m;[39m
     [90m 53 |[39m })[33m;[39m[0m

      at Object.toBeGreaterThan (src/components/effects/__tests__/AmbientBackground.test.tsx:51:33)

  console.log
    [dotenv@17.0.1] injecting env (31) from .env.test ‚Äì [tip] encrypt with dotenvx: https://dotenvx.com

      at _log (node_modules/dotenv/lib/main.js:102:11)

FAIL src/components/premium/__tests__/GlassCard.fixed.test.tsx
  GlassCard
    Basic rendering
      ‚úì should render with children (15 ms)
      ‚úì should render as div element (3 ms)
      ‚úì should apply default variant class (3 ms)
      ‚úï should apply custom className (5 ms)
    Variants
      ‚úï should apply default variant class (5 ms)
      ‚úï should apply elevated variant class (3 ms)
      ‚úï should apply outlined variant class (3 ms)
    onClick behavior
      ‚úï should handle onClick when provided (5 ms)
      ‚úï should pass event object to onClick handler (5 ms)
    Edge cases
      ‚úì should handle null children (4 ms)
      ‚úì should handle multiple children (7 ms)
    All props combination
      ‚úï should handle all props together (7 ms)

  ‚óè GlassCard ‚Ä∫ Basic rendering ‚Ä∫ should apply custom className

    expect(received).toContain(expected) // indexOf

    Expected substring: "custom-class"
    Received string:    ""

    [0m [90m 28 |[39m       render([33m<[39m[33mGlassCard[39m className[33m=[39m[32m"custom-class"[39m[33m>[39m[33mContent[39m[33m<[39m[33m/[39m[33mGlassCard[39m[33m>[39m)[33m;[39m
     [90m 29 |[39m       [36mconst[39m card [33m=[39m screen[33m.[39mgetByText([32m'Content'[39m)[33m.[39mparentElement[33m;[39m
    [31m[1m>[22m[39m[90m 30 |[39m       expect(card[33m?[39m[33m.[39mclassName)[33m.[39mtoContain([32m'custom-class'[39m)[33m;[39m
     [90m    |[39m                               [31m[1m^[22m[39m
     [90m 31 |[39m       expect(card[33m?[39m[33m.[39mclassName)[33m.[39mtoContain([32m'glass-card'[39m)[33m;[39m
     [90m 32 |[39m     })[33m;[39m
     [90m 33 |[39m   })[33m;[39m[0m

      at Object.toContain (src/components/premium/__tests__/GlassCard.fixed.test.tsx:30:31)

  ‚óè GlassCard ‚Ä∫ Variants ‚Ä∫ should apply default variant class

    expect(received).toContain(expected) // indexOf

    Expected substring: "glass-card-default"
    Received string:    ""

    [0m [90m 37 |[39m       render([33m<[39m[33mGlassCard[39m variant[33m=[39m[32m"default"[39m[33m>[39m[33mDefault[39m[33m<[39m[33m/[39m[33mGlassCard[39m[33m>[39m)[33m;[39m
     [90m 38 |[39m       [36mconst[39m card [33m=[39m screen[33m.[39mgetByText([32m'Default'[39m)[33m.[39mparentElement[33m;[39m
    [31m[1m>[22m[39m[90m 39 |[39m       expect(card[33m?[39m[33m.[39mclassName)[33m.[39mtoContain([32m'glass-card-default'[39m)[33m;[39m
     [90m    |[39m                               [31m[1m^[22m[39m
     [90m 40 |[39m     })[33m;[39m
     [90m 41 |[39m
     [90m 42 |[39m     it([32m'should apply elevated variant class'[39m[33m,[39m () [33m=>[39m {[0m

      at Object.toContain (src/components/premium/__tests__/GlassCard.fixed.test.tsx:39:31)

  ‚óè GlassCard ‚Ä∫ Variants ‚Ä∫ should apply elevated variant class

    expect(received).toContain(expected) // indexOf

    Expected substring: "glass-card-elevated"
    Received string:    ""

    [0m [90m 43 |[39m       render([33m<[39m[33mGlassCard[39m variant[33m=[39m[32m"elevated"[39m[33m>[39m[33mElevated[39m[33m<[39m[33m/[39m[33mGlassCard[39m[33m>[39m)[33m;[39m
     [90m 44 |[39m       [36mconst[39m card [33m=[39m screen[33m.[39mgetByText([32m'Elevated'[39m)[33m.[39mparentElement[33m;[39m
    [31m[1m>[22m[39m[90m 45 |[39m       expect(card[33m?[39m[33m.[39mclassName)[33m.[39mtoContain([32m'glass-card-elevated'[39m)[33m;[39m
     [90m    |[39m                               [31m[1m^[22m[39m
     [90m 46 |[39m     })[33m;[39m
     [90m 47 |[39m
     [90m 48 |[39m     it([32m'should apply outlined variant class'[39m[33m,[39m () [33m=>[39m {[0m

      at Object.toContain (src/components/premium/__tests__/GlassCard.fixed.test.tsx:45:31)

  ‚óè GlassCard ‚Ä∫ Variants ‚Ä∫ should apply outlined variant class

    expect(received).toContain(expected) // indexOf

    Expected substring: "glass-card-outlined"
    Received string:    ""

    [0m [90m 49 |[39m       render([33m<[39m[33mGlassCard[39m variant[33m=[39m[32m"outlined"[39m[33m>[39m[33mOutlined[39m[33m<[39m[33m/[39m[33mGlassCard[39m[33m>[39m)[33m;[39m
     [90m 50 |[39m       [36mconst[39m card [33m=[39m screen[33m.[39mgetByText([32m'Outlined'[39m)[33m.[39mparentElement[33m;[39m
    [31m[1m>[22m[39m[90m 51 |[39m       expect(card[33m?[39m[33m.[39mclassName)[33m.[39mtoContain([32m'glass-card-outlined'[39m)[33m;[39m
     [90m    |[39m                               [31m[1m^[22m[39m
     [90m 52 |[39m     })[33m;[39m
     [90m 53 |[39m   })[33m;[39m
     [90m 54 |[39m[0m

      at Object.toContain (src/components/premium/__tests__/GlassCard.fixed.test.tsx:51:31)

  ‚óè GlassCard ‚Ä∫ onClick behavior ‚Ä∫ should handle onClick when provided

    expect(jest.fn()).toHaveBeenCalledTimes(expected)

    Expected number of calls: 1
    Received number of calls: 0

    [0m [90m 61 |[39m       fireEvent[33m.[39mclick(card[33m![39m)[33m;[39m
     [90m 62 |[39m       
    [31m[1m>[22m[39m[90m 63 |[39m       expect(handleClick)[33m.[39mtoHaveBeenCalledTimes([35m1[39m)[33m;[39m
     [90m    |[39m                           [31m[1m^[22m[39m
     [90m 64 |[39m     })[33m;[39m
     [90m 65 |[39m
     [90m 66 |[39m     it([32m'should pass event object to onClick handler'[39m[33m,[39m () [33m=>[39m {[0m

      at Object.toHaveBeenCalledTimes (src/components/premium/__tests__/GlassCard.fixed.test.tsx:63:27)

  ‚óè GlassCard ‚Ä∫ onClick behavior ‚Ä∫ should pass event object to onClick handler

    expect(jest.fn()).toHaveBeenCalledWith(...expected)

    Expected: ObjectContaining {"type": "click"}

    Number of calls: 0

    [0m [90m 71 |[39m       fireEvent[33m.[39mclick(card[33m![39m)[33m;[39m
     [90m 72 |[39m       
    [31m[1m>[22m[39m[90m 73 |[39m       expect(handleClick)[33m.[39mtoHaveBeenCalledWith(expect[33m.[39mobjectContaining({
     [90m    |[39m                           [31m[1m^[22m[39m
     [90m 74 |[39m         type[33m:[39m [32m'click'[39m[33m,[39m
     [90m 75 |[39m       }))[33m;[39m
     [90m 76 |[39m     })[33m;[39m[0m

      at Object.toHaveBeenCalledWith (src/components/premium/__tests__/GlassCard.fixed.test.tsx:73:27)

  ‚óè GlassCard ‚Ä∫ All props combination ‚Ä∫ should handle all props together

    expect(received).toContain(expected) // indexOf

    Expected substring: "glass-card"
    Received string:    ""

    [0m [90m 114 |[39m       [36mconst[39m card [33m=[39m screen[33m.[39mgetByText([32m'All Props'[39m)[33m.[39mparentElement[33m;[39m
     [90m 115 |[39m       
    [31m[1m>[22m[39m[90m 116 |[39m       expect(card[33m?[39m[33m.[39mclassName)[33m.[39mtoContain([32m'glass-card'[39m)[33m;[39m
     [90m     |[39m                               [31m[1m^[22m[39m
     [90m 117 |[39m       expect(card[33m?[39m[33m.[39mclassName)[33m.[39mtoContain([32m'glass-card-elevated'[39m)[33m;[39m
     [90m 118 |[39m       expect(card[33m?[39m[33m.[39mclassName)[33m.[39mtoContain([32m'custom-test-class'[39m)[33m;[39m
     [90m 119 |[39m       [0m

      at Object.toContain (src/components/premium/__tests__/GlassCard.fixed.test.tsx:116:31)

  console.log
    [dotenv@17.0.1] injecting env (31) from .env.test ‚Äì [tip] encrypt with dotenvx: https://dotenvx.com

      at _log (node_modules/dotenv/lib/main.js:102:11)

FAIL src/lib/session/__tests__/session-service.test.ts
  Session Service
    Session creation
      ‚úì should create a new session (3 ms)
      ‚úì should create unique session IDs (1 ms)
    Session retrieval
      ‚úì should get an active session (1 ms)
      ‚úì should return null for non-existent session (1 ms)
      ‚úì should update last activity on retrieval (3 ms)
    Session expiration
      ‚úì should delete expired sessions (1 ms)
    User sessions
      ‚úì should get all sessions for a user (1 ms)
      ‚úì should delete all sessions for a user (1 ms)
    Session extension
      ‚úï should extend session expiration (1 ms)
      ‚úì should return false for non-existent session (1 ms)

  ‚óè Session Service ‚Ä∫ Session extension ‚Ä∫ should extend session expiration

    expect(received).toBeGreaterThan(expected)

    Expected: > 1752083178917
    Received:   1752081378917

    [0m [90m 162 |[39m       
     [90m 163 |[39m       [36mconst[39m updated [33m=[39m service[33m.[39mgetSession(session[33m.[39mid)[33m;[39m
    [31m[1m>[22m[39m[90m 164 |[39m       expect(updated[33m.[39mexpiresAt[33m.[39mgetTime())[33m.[39mtoBeGreaterThan(originalExpiry)[33m;[39m
     [90m     |[39m                                           [31m[1m^[22m[39m
     [90m 165 |[39m     })[33m;[39m
     [90m 166 |[39m     
     [90m 167 |[39m     it([32m'should return false for non-existent session'[39m[33m,[39m () [33m=>[39m {[0m

      at Object.toBeGreaterThan (src/lib/session/__tests__/session-service.test.ts:164:43)

  console.log
    [dotenv@17.0.1] injecting env (31) from .env.test ‚Äì [tip] encrypt with dotenvx: https://dotenvx.com

      at _log (node_modules/dotenv/lib/main.js:102:11)

FAIL src/lib/compliance/__tests__/service.test.ts
  service
    Initialization
      ‚úï should initialize correctly (1 ms)
      ‚úï should handle configuration options
    Core Functionality
      ‚úï should perform primary function correctly (1 ms)
      ‚úï should handle concurrent operations
    Error Handling
      ‚úï should handle network errors gracefully
      ‚úï should handle invalid input
      ‚úï should retry failed operations
    Security
      ‚úï should sanitize user input (1 ms)
      ‚úï should handle authentication correctly
    Performance
      ‚úï should cache results appropriately (1 ms)
      ‚úï should handle rate limiting
    Integration
      ‚úï should integrate with external services

  ‚óè service ‚Ä∫ Initialization ‚Ä∫ should initialize correctly

    TypeError: service is not a constructor

    [0m [90m 11 |[39m   beforeEach(() [33m=>[39m {
     [90m 12 |[39m     jest[33m.[39mclearAllMocks()[33m;[39m
    [31m[1m>[22m[39m[90m 13 |[39m     service [33m=[39m [36mnew[39m service()[33m;[39m
     [90m    |[39m               [31m[1m^[22m[39m
     [90m 14 |[39m   })[33m;[39m
     [90m 15 |[39m
     [90m 16 |[39m   describe([32m'Initialization'[39m[33m,[39m () [33m=>[39m {[0m

      at Object.<anonymous> (src/lib/compliance/__tests__/service.test.ts:13:15)

  ‚óè service ‚Ä∫ Initialization ‚Ä∫ should handle configuration options

    TypeError: service is not a constructor

    [0m [90m 11 |[39m   beforeEach(() [33m=>[39m {
     [90m 12 |[39m     jest[33m.[39mclearAllMocks()[33m;[39m
    [31m[1m>[22m[39m[90m 13 |[39m     service [33m=[39m [36mnew[39m service()[33m;[39m
     [90m    |[39m               [31m[1m^[22m[39m
     [90m 14 |[39m   })[33m;[39m
     [90m 15 |[39m
     [90m 16 |[39m   describe([32m'Initialization'[39m[33m,[39m () [33m=>[39m {[0m

      at Object.<anonymous> (src/lib/compliance/__tests__/service.test.ts:13:15)

  ‚óè service ‚Ä∫ Core Functionality ‚Ä∫ should perform primary function correctly

    TypeError: service is not a constructor

    [0m [90m 11 |[39m   beforeEach(() [33m=>[39m {
     [90m 12 |[39m     jest[33m.[39mclearAllMocks()[33m;[39m
    [31m[1m>[22m[39m[90m 13 |[39m     service [33m=[39m [36mnew[39m service()[33m;[39m
     [90m    |[39m               [31m[1m^[22m[39m
     [90m 14 |[39m   })[33m;[39m
     [90m 15 |[39m
     [90m 16 |[39m   describe([32m'Initialization'[39m[33m,[39m () [33m=>[39m {[0m

      at Object.<anonymous> (src/lib/compliance/__tests__/service.test.ts:13:15)

  ‚óè service ‚Ä∫ Core Functionality ‚Ä∫ should handle concurrent operations

    TypeError: service is not a constructor

    [0m [90m 11 |[39m   beforeEach(() [33m=>[39m {
     [90m 12 |[39m     jest[33m.[39mclearAllMocks()[33m;[39m
    [31m[1m>[22m[39m[90m 13 |[39m     service [33m=[39m [36mnew[39m service()[33m;[39m
     [90m    |[39m               [31m[1m^[22m[39m
     [90m 14 |[39m   })[33m;[39m
     [90m 15 |[39m
     [90m 16 |[39m   describe([32m'Initialization'[39m[33m,[39m () [33m=>[39m {[0m

      at Object.<anonymous> (src/lib/compliance/__tests__/service.test.ts:13:15)

  ‚óè service ‚Ä∫ Error Handling ‚Ä∫ should handle network errors gracefully

    TypeError: service is not a constructor

    [0m [90m 11 |[39m   beforeEach(() [33m=>[39m {
     [90m 12 |[39m     jest[33m.[39mclearAllMocks()[33m;[39m
    [31m[1m>[22m[39m[90m 13 |[39m     service [33m=[39m [36mnew[39m service()[33m;[39m
     [90m    |[39m               [31m[1m^[22m[39m
     [90m 14 |[39m   })[33m;[39m
     [90m 15 |[39m
     [90m 16 |[39m   describe([32m'Initialization'[39m[33m,[39m () [33m=>[39m {[0m

      at Object.<anonymous> (src/lib/compliance/__tests__/service.test.ts:13:15)

  ‚óè service ‚Ä∫ Error Handling ‚Ä∫ should handle invalid input

    TypeError: service is not a constructor

    [0m [90m 11 |[39m   beforeEach(() [33m=>[39m {
     [90m 12 |[39m     jest[33m.[39mclearAllMocks()[33m;[39m
    [31m[1m>[22m[39m[90m 13 |[39m     service [33m=[39m [36mnew[39m service()[33m;[39m
     [90m    |[39m               [31m[1m^[22m[39m
     [90m 14 |[39m   })[33m;[39m
     [90m 15 |[39m
     [90m 16 |[39m   describe([32m'Initialization'[39m[33m,[39m () [33m=>[39m {[0m

      at Object.<anonymous> (src/lib/compliance/__tests__/service.test.ts:13:15)

  ‚óè service ‚Ä∫ Error Handling ‚Ä∫ should retry failed operations

    TypeError: service is not a constructor

    [0m [90m 11 |[39m   beforeEach(() [33m=>[39m {
     [90m 12 |[39m     jest[33m.[39mclearAllMocks()[33m;[39m
    [31m[1m>[22m[39m[90m 13 |[39m     service [33m=[39m [36mnew[39m service()[33m;[39m
     [90m    |[39m               [31m[1m^[22m[39m
     [90m 14 |[39m   })[33m;[39m
     [90m 15 |[39m
     [90m 16 |[39m   describe([32m'Initialization'[39m[33m,[39m () [33m=>[39m {[0m

      at Object.<anonymous> (src/lib/compliance/__tests__/service.test.ts:13:15)

  ‚óè service ‚Ä∫ Security ‚Ä∫ should sanitize user input

    TypeError: service is not a constructor

    [0m [90m 11 |[39m   beforeEach(() [33m=>[39m {
     [90m 12 |[39m     jest[33m.[39mclearAllMocks()[33m;[39m
    [31m[1m>[22m[39m[90m 13 |[39m     service [33m=[39m [36mnew[39m service()[33m;[39m
     [90m    |[39m               [31m[1m^[22m[39m
     [90m 14 |[39m   })[33m;[39m
     [90m 15 |[39m
     [90m 16 |[39m   describe([32m'Initialization'[39m[33m,[39m () [33m=>[39m {[0m

      at Object.<anonymous> (src/lib/compliance/__tests__/service.test.ts:13:15)

  ‚óè service ‚Ä∫ Security ‚Ä∫ should handle authentication correctly

    TypeError: service is not a constructor

    [0m [90m 11 |[39m   beforeEach(() [33m=>[39m {
     [90m 12 |[39m     jest[33m.[39mclearAllMocks()[33m;[39m
    [31m[1m>[22m[39m[90m 13 |[39m     service [33m=[39m [36mnew[39m service()[33m;[39m
     [90m    |[39m               [31m[1m^[22m[39m
     [90m 14 |[39m   })[33m;[39m
     [90m 15 |[39m
     [90m 16 |[39m   describe([32m'Initialization'[39m[33m,[39m () [33m=>[39m {[0m

      at Object.<anonymous> (src/lib/compliance/__tests__/service.test.ts:13:15)

  ‚óè service ‚Ä∫ Performance ‚Ä∫ should cache results appropriately

    TypeError: service is not a constructor

    [0m [90m 11 |[39m   beforeEach(() [33m=>[39m {
     [90m 12 |[39m     jest[33m.[39mclearAllMocks()[33m;[39m
    [31m[1m>[22m[39m[90m 13 |[39m     service [33m=[39m [36mnew[39m service()[33m;[39m
     [90m    |[39m               [31m[1m^[22m[39m
     [90m 14 |[39m   })[33m;[39m
     [90m 15 |[39m
     [90m 16 |[39m   describe([32m'Initialization'[39m[33m,[39m () [33m=>[39m {[0m

      at Object.<anonymous> (src/lib/compliance/__tests__/service.test.ts:13:15)

  ‚óè service ‚Ä∫ Performance ‚Ä∫ should handle rate limiting

    TypeError: service is not a constructor

    [0m [90m 11 |[39m   beforeEach(() [33m=>[39m {
     [90m 12 |[39m     jest[33m.[39mclearAllMocks()[33m;[39m
    [31m[1m>[22m[39m[90m 13 |[39m     service [33m=[39m [36mnew[39m service()[33m;[39m
     [90m    |[39m               [31m[1m^[22m[39m
     [90m 14 |[39m   })[33m;[39m
     [90m 15 |[39m
     [90m 16 |[39m   describe([32m'Initialization'[39m[33m,[39m () [33m=>[39m {[0m

      at Object.<anonymous> (src/lib/compliance/__tests__/service.test.ts:13:15)

  ‚óè service ‚Ä∫ Integration ‚Ä∫ should integrate with external services

    TypeError: service is not a constructor

    [0m [90m 11 |[39m   beforeEach(() [33m=>[39m {
     [90m 12 |[39m     jest[33m.[39mclearAllMocks()[33m;[39m
    [31m[1m>[22m[39m[90m 13 |[39m     service [33m=[39m [36mnew[39m service()[33m;[39m
     [90m    |[39m               [31m[1m^[22m[39m
     [90m 14 |[39m   })[33m;[39m
     [90m 15 |[39m
     [90m 16 |[39m   describe([32m'Initialization'[39m[33m,[39m () [33m=>[39m {[0m

      at Object.<anonymous> (src/lib/compliance/__tests__/service.test.ts:13:15)

  console.log
    [dotenv@17.0.1] injecting env (31) from .env.test ‚Äì [tip] encrypt with dotenvx: https://dotenvx.com

      at _log (node_modules/dotenv/lib/main.js:102:11)

FAIL src/lib/security/__tests__/encryption.test.ts
  EncryptionService
    Basic Encryption/Decryption
      ‚úï should encrypt and decrypt text successfully (1 ms)
      ‚úï should handle empty strings
      ‚úï should handle unicode characters
      ‚úï should handle large text
    Context-based Encryption
      ‚úï should encrypt with context
      ‚úï should fail decryption with wrong context
    Key Management
      ‚úï should generate unique data keys for each encryption
      ‚úï should cache and reuse data keys (1 ms)
      ‚úï should clear cache properly (1 ms)
    Error Handling
      ‚úï should handle invalid ciphertext (1 ms)
      ‚úï should handle corrupted data
      ‚úï should handle missing algorithm
    Security Properties
      ‚úï should produce different ciphertext for same plaintext
      ‚úï should not leak plaintext in error messages
      ‚úï should securely clear data keys from memory
    Factory Pattern
      ‚úï should create encryption service with factory
      ‚úï should return singleton instance
      ‚úï should get service from convenience function (2 ms)
  LocalProvider
    Key Management
      ‚úï should generate and store master key (1 ms)
      ‚úï should rotate keys when needed
    Error Handling
      ‚úï should handle invalid key directory
      ‚úï should handle corrupted key files (1 ms)

  ‚óè EncryptionService ‚Ä∫ Basic Encryption/Decryption ‚Ä∫ should encrypt and decrypt text successfully

    ReferenceError: __dirname is not defined

    [0m [90m 12 |[39m   beforeEach([36masync[39m () [33m=>[39m {
     [90m 13 |[39m     [90m// Create a temporary directory for test keys[39m
    [31m[1m>[22m[39m[90m 14 |[39m     testKeyPath [33m=[39m path[33m.[39mjoin(__dirname[33m,[39m [32m'__test_keys__'[39m)[33m;[39m
     [90m    |[39m                             [31m[1m^[22m[39m
     [90m 15 |[39m     [36mif[39m ([33m![39mfs[33m.[39mexistsSync(testKeyPath)) {
     [90m 16 |[39m       fs[33m.[39mmkdirSync(testKeyPath[33m,[39m { recursive[33m:[39m [36mtrue[39m })[33m;[39m
     [90m 17 |[39m     }[0m

      at Object.__dirname (src/lib/security/__tests__/encryption.test.ts:14:29)

  ‚óè EncryptionService ‚Ä∫ Basic Encryption/Decryption ‚Ä∫ should handle empty strings

    ReferenceError: __dirname is not defined

    [0m [90m 12 |[39m   beforeEach([36masync[39m () [33m=>[39m {
     [90m 13 |[39m     [90m// Create a temporary directory for test keys[39m
    [31m[1m>[22m[39m[90m 14 |[39m     testKeyPath [33m=[39m path[33m.[39mjoin(__dirname[33m,[39m [32m'__test_keys__'[39m)[33m;[39m
     [90m    |[39m                             [31m[1m^[22m[39m
     [90m 15 |[39m     [36mif[39m ([33m![39mfs[33m.[39mexistsSync(testKeyPath)) {
     [90m 16 |[39m       fs[33m.[39mmkdirSync(testKeyPath[33m,[39m { recursive[33m:[39m [36mtrue[39m })[33m;[39m
     [90m 17 |[39m     }[0m

      at Object.__dirname (src/lib/security/__tests__/encryption.test.ts:14:29)

  ‚óè EncryptionService ‚Ä∫ Basic Encryption/Decryption ‚Ä∫ should handle unicode characters

    ReferenceError: __dirname is not defined

    [0m [90m 12 |[39m   beforeEach([36masync[39m () [33m=>[39m {
     [90m 13 |[39m     [90m// Create a temporary directory for test keys[39m
    [31m[1m>[22m[39m[90m 14 |[39m     testKeyPath [33m=[39m path[33m.[39mjoin(__dirname[33m,[39m [32m'__test_keys__'[39m)[33m;[39m
     [90m    |[39m                             [31m[1m^[22m[39m
     [90m 15 |[39m     [36mif[39m ([33m![39mfs[33m.[39mexistsSync(testKeyPath)) {
     [90m 16 |[39m       fs[33m.[39mmkdirSync(testKeyPath[33m,[39m { recursive[33m:[39m [36mtrue[39m })[33m;[39m
     [90m 17 |[39m     }[0m

      at Object.__dirname (src/lib/security/__tests__/encryption.test.ts:14:29)

  ‚óè EncryptionService ‚Ä∫ Basic Encryption/Decryption ‚Ä∫ should handle large text

    ReferenceError: __dirname is not defined

    [0m [90m 12 |[39m   beforeEach([36masync[39m () [33m=>[39m {
     [90m 13 |[39m     [90m// Create a temporary directory for test keys[39m
    [31m[1m>[22m[39m[90m 14 |[39m     testKeyPath [33m=[39m path[33m.[39mjoin(__dirname[33m,[39m [32m'__test_keys__'[39m)[33m;[39m
     [90m    |[39m                             [31m[1m^[22m[39m
     [90m 15 |[39m     [36mif[39m ([33m![39mfs[33m.[39mexistsSync(testKeyPath)) {
     [90m 16 |[39m       fs[33m.[39mmkdirSync(testKeyPath[33m,[39m { recursive[33m:[39m [36mtrue[39m })[33m;[39m
     [90m 17 |[39m     }[0m

      at Object.__dirname (src/lib/security/__tests__/encryption.test.ts:14:29)

  ‚óè EncryptionService ‚Ä∫ Context-based Encryption ‚Ä∫ should encrypt with context

    ReferenceError: __dirname is not defined

    [0m [90m 12 |[39m   beforeEach([36masync[39m () [33m=>[39m {
     [90m 13 |[39m     [90m// Create a temporary directory for test keys[39m
    [31m[1m>[22m[39m[90m 14 |[39m     testKeyPath [33m=[39m path[33m.[39mjoin(__dirname[33m,[39m [32m'__test_keys__'[39m)[33m;[39m
     [90m    |[39m                             [31m[1m^[22m[39m
     [90m 15 |[39m     [36mif[39m ([33m![39mfs[33m.[39mexistsSync(testKeyPath)) {
     [90m 16 |[39m       fs[33m.[39mmkdirSync(testKeyPath[33m,[39m { recursive[33m:[39m [36mtrue[39m })[33m;[39m
     [90m 17 |[39m     }[0m

      at Object.__dirname (src/lib/security/__tests__/encryption.test.ts:14:29)

  ‚óè EncryptionService ‚Ä∫ Context-based Encryption ‚Ä∫ should fail decryption with wrong context

    ReferenceError: __dirname is not defined

    [0m [90m 12 |[39m   beforeEach([36masync[39m () [33m=>[39m {
     [90m 13 |[39m     [90m// Create a temporary directory for test keys[39m
    [31m[1m>[22m[39m[90m 14 |[39m     testKeyPath [33m=[39m path[33m.[39mjoin(__dirname[33m,[39m [32m'__test_keys__'[39m)[33m;[39m
     [90m    |[39m                             [31m[1m^[22m[39m
     [90m 15 |[39m     [36mif[39m ([33m![39mfs[33m.[39mexistsSync(testKeyPath)) {
     [90m 16 |[39m       fs[33m.[39mmkdirSync(testKeyPath[33m,[39m { recursive[33m:[39m [36mtrue[39m })[33m;[39m
     [90m 17 |[39m     }[0m

      at Object.__dirname (src/lib/security/__tests__/encryption.test.ts:14:29)

  ‚óè EncryptionService ‚Ä∫ Key Management ‚Ä∫ should generate unique data keys for each encryption

    ReferenceError: __dirname is not defined

    [0m [90m 12 |[39m   beforeEach([36masync[39m () [33m=>[39m {
     [90m 13 |[39m     [90m// Create a temporary directory for test keys[39m
    [31m[1m>[22m[39m[90m 14 |[39m     testKeyPath [33m=[39m path[33m.[39mjoin(__dirname[33m,[39m [32m'__test_keys__'[39m)[33m;[39m
     [90m    |[39m                             [31m[1m^[22m[39m
     [90m 15 |[39m     [36mif[39m ([33m![39mfs[33m.[39mexistsSync(testKeyPath)) {
     [90m 16 |[39m       fs[33m.[39mmkdirSync(testKeyPath[33m,[39m { recursive[33m:[39m [36mtrue[39m })[33m;[39m
     [90m 17 |[39m     }[0m

      at Object.__dirname (src/lib/security/__tests__/encryption.test.ts:14:29)

  ‚óè EncryptionService ‚Ä∫ Key Management ‚Ä∫ should cache and reuse data keys

    ReferenceError: __dirname is not defined

    [0m [90m 12 |[39m   beforeEach([36masync[39m () [33m=>[39m {
     [90m 13 |[39m     [90m// Create a temporary directory for test keys[39m
    [31m[1m>[22m[39m[90m 14 |[39m     testKeyPath [33m=[39m path[33m.[39mjoin(__dirname[33m,[39m [32m'__test_keys__'[39m)[33m;[39m
     [90m    |[39m                             [31m[1m^[22m[39m
     [90m 15 |[39m     [36mif[39m ([33m![39mfs[33m.[39mexistsSync(testKeyPath)) {
     [90m 16 |[39m       fs[33m.[39mmkdirSync(testKeyPath[33m,[39m { recursive[33m:[39m [36mtrue[39m })[33m;[39m
     [90m 17 |[39m     }[0m

      at Object.__dirname (src/lib/security/__tests__/encryption.test.ts:14:29)

  ‚óè EncryptionService ‚Ä∫ Key Management ‚Ä∫ should clear cache properly

    ReferenceError: __dirname is not defined

    [0m [90m 12 |[39m   beforeEach([36masync[39m () [33m=>[39m {
     [90m 13 |[39m     [90m// Create a temporary directory for test keys[39m
    [31m[1m>[22m[39m[90m 14 |[39m     testKeyPath [33m=[39m path[33m.[39mjoin(__dirname[33m,[39m [32m'__test_keys__'[39m)[33m;[39m
     [90m    |[39m                             [31m[1m^[22m[39m
     [90m 15 |[39m     [36mif[39m ([33m![39mfs[33m.[39mexistsSync(testKeyPath)) {
     [90m 16 |[39m       fs[33m.[39mmkdirSync(testKeyPath[33m,[39m { recursive[33m:[39m [36mtrue[39m })[33m;[39m
     [90m 17 |[39m     }[0m

      at Object.__dirname (src/lib/security/__tests__/encryption.test.ts:14:29)

  ‚óè EncryptionService ‚Ä∫ Error Handling ‚Ä∫ should handle invalid ciphertext

    ReferenceError: __dirname is not defined

    [0m [90m 12 |[39m   beforeEach([36masync[39m () [33m=>[39m {
     [90m 13 |[39m     [90m// Create a temporary directory for test keys[39m
    [31m[1m>[22m[39m[90m 14 |[39m     testKeyPath [33m=[39m path[33m.[39mjoin(__dirname[33m,[39m [32m'__test_keys__'[39m)[33m;[39m
     [90m    |[39m                             [31m[1m^[22m[39m
     [90m 15 |[39m     [36mif[39m ([33m![39mfs[33m.[39mexistsSync(testKeyPath)) {
     [90m 16 |[39m       fs[33m.[39mmkdirSync(testKeyPath[33m,[39m { recursive[33m:[39m [36mtrue[39m })[33m;[39m
     [90m 17 |[39m     }[0m

      at Object.__dirname (src/lib/security/__tests__/encryption.test.ts:14:29)

  ‚óè EncryptionService ‚Ä∫ Error Handling ‚Ä∫ should handle corrupted data

    ReferenceError: __dirname is not defined

    [0m [90m 12 |[39m   beforeEach([36masync[39m () [33m=>[39m {
     [90m 13 |[39m     [90m// Create a temporary directory for test keys[39m
    [31m[1m>[22m[39m[90m 14 |[39m     testKeyPath [33m=[39m path[33m.[39mjoin(__dirname[33m,[39m [32m'__test_keys__'[39m)[33m;[39m
     [90m    |[39m                             [31m[1m^[22m[39m
     [90m 15 |[39m     [36mif[39m ([33m![39mfs[33m.[39mexistsSync(testKeyPath)) {
     [90m 16 |[39m       fs[33m.[39mmkdirSync(testKeyPath[33m,[39m { recursive[33m:[39m [36mtrue[39m })[33m;[39m
     [90m 17 |[39m     }[0m

      at Object.__dirname (src/lib/security/__tests__/encryption.test.ts:14:29)

  ‚óè EncryptionService ‚Ä∫ Error Handling ‚Ä∫ should handle missing algorithm

    ReferenceError: __dirname is not defined

    [0m [90m 12 |[39m   beforeEach([36masync[39m () [33m=>[39m {
     [90m 13 |[39m     [90m// Create a temporary directory for test keys[39m
    [31m[1m>[22m[39m[90m 14 |[39m     testKeyPath [33m=[39m path[33m.[39mjoin(__dirname[33m,[39m [32m'__test_keys__'[39m)[33m;[39m
     [90m    |[39m                             [31m[1m^[22m[39m
     [90m 15 |[39m     [36mif[39m ([33m![39mfs[33m.[39mexistsSync(testKeyPath)) {
     [90m 16 |[39m       fs[33m.[39mmkdirSync(testKeyPath[33m,[39m { recursive[33m:[39m [36mtrue[39m })[33m;[39m
     [90m 17 |[39m     }[0m

      at Object.__dirname (src/lib/security/__tests__/encryption.test.ts:14:29)

  ‚óè EncryptionService ‚Ä∫ Security Properties ‚Ä∫ should produce different ciphertext for same plaintext

    ReferenceError: __dirname is not defined

    [0m [90m 12 |[39m   beforeEach([36masync[39m () [33m=>[39m {
     [90m 13 |[39m     [90m// Create a temporary directory for test keys[39m
    [31m[1m>[22m[39m[90m 14 |[39m     testKeyPath [33m=[39m path[33m.[39mjoin(__dirname[33m,[39m [32m'__test_keys__'[39m)[33m;[39m
     [90m    |[39m                             [31m[1m^[22m[39m
     [90m 15 |[39m     [36mif[39m ([33m![39mfs[33m.[39mexistsSync(testKeyPath)) {
     [90m 16 |[39m       fs[33m.[39mmkdirSync(testKeyPath[33m,[39m { recursive[33m:[39m [36mtrue[39m })[33m;[39m
     [90m 17 |[39m     }[0m

      at Object.__dirname (src/lib/security/__tests__/encryption.test.ts:14:29)

  ‚óè EncryptionService ‚Ä∫ Security Properties ‚Ä∫ should not leak plaintext in error messages

    ReferenceError: __dirname is not defined

    [0m [90m 12 |[39m   beforeEach([36masync[39m () [33m=>[39m {
     [90m 13 |[39m     [90m// Create a temporary directory for test keys[39m
    [31m[1m>[22m[39m[90m 14 |[39m     testKeyPath [33m=[39m path[33m.[39mjoin(__dirname[33m,[39m [32m'__test_keys__'[39m)[33m;[39m
     [90m    |[39m                             [31m[1m^[22m[39m
     [90m 15 |[39m     [36mif[39m ([33m![39mfs[33m.[39mexistsSync(testKeyPath)) {
     [90m 16 |[39m       fs[33m.[39mmkdirSync(testKeyPath[33m,[39m { recursive[33m:[39m [36mtrue[39m })[33m;[39m
     [90m 17 |[39m     }[0m

      at Object.__dirname (src/lib/security/__tests__/encryption.test.ts:14:29)

  ‚óè EncryptionService ‚Ä∫ Security Properties ‚Ä∫ should securely clear data keys from memory

    ReferenceError: __dirname is not defined

    [0m [90m 12 |[39m   beforeEach([36masync[39m () [33m=>[39m {
     [90m 13 |[39m     [90m// Create a temporary directory for test keys[39m
    [31m[1m>[22m[39m[90m 14 |[39m     testKeyPath [33m=[39m path[33m.[39mjoin(__dirname[33m,[39m [32m'__test_keys__'[39m)[33m;[39m
     [90m    |[39m                             [31m[1m^[22m[39m
     [90m 15 |[39m     [36mif[39m ([33m![39mfs[33m.[39mexistsSync(testKeyPath)) {
     [90m 16 |[39m       fs[33m.[39mmkdirSync(testKeyPath[33m,[39m { recursive[33m:[39m [36mtrue[39m })[33m;[39m
     [90m 17 |[39m     }[0m

      at Object.__dirname (src/lib/security/__tests__/encryption.test.ts:14:29)

  ‚óè EncryptionService ‚Ä∫ Factory Pattern ‚Ä∫ should create encryption service with factory

    ReferenceError: __dirname is not defined

    [0m [90m 12 |[39m   beforeEach([36masync[39m () [33m=>[39m {
     [90m 13 |[39m     [90m// Create a temporary directory for test keys[39m
    [31m[1m>[22m[39m[90m 14 |[39m     testKeyPath [33m=[39m path[33m.[39mjoin(__dirname[33m,[39m [32m'__test_keys__'[39m)[33m;[39m
     [90m    |[39m                             [31m[1m^[22m[39m
     [90m 15 |[39m     [36mif[39m ([33m![39mfs[33m.[39mexistsSync(testKeyPath)) {
     [90m 16 |[39m       fs[33m.[39mmkdirSync(testKeyPath[33m,[39m { recursive[33m:[39m [36mtrue[39m })[33m;[39m
     [90m 17 |[39m     }[0m

      at Object.__dirname (src/lib/security/__tests__/encryption.test.ts:14:29)

  ‚óè EncryptionService ‚Ä∫ Factory Pattern ‚Ä∫ should return singleton instance

    ReferenceError: __dirname is not defined

    [0m [90m 12 |[39m   beforeEach([36masync[39m () [33m=>[39m {
     [90m 13 |[39m     [90m// Create a temporary directory for test keys[39m
    [31m[1m>[22m[39m[90m 14 |[39m     testKeyPath [33m=[39m path[33m.[39mjoin(__dirname[33m,[39m [32m'__test_keys__'[39m)[33m;[39m
     [90m    |[39m                             [31m[1m^[22m[39m
     [90m 15 |[39m     [36mif[39m ([33m![39mfs[33m.[39mexistsSync(testKeyPath)) {
     [90m 16 |[39m       fs[33m.[39mmkdirSync(testKeyPath[33m,[39m { recursive[33m:[39m [36mtrue[39m })[33m;[39m
     [90m 17 |[39m     }[0m

      at Object.__dirname (src/lib/security/__tests__/encryption.test.ts:14:29)

  ‚óè EncryptionService ‚Ä∫ Factory Pattern ‚Ä∫ should get service from convenience function

    ReferenceError: __dirname is not defined

    [0m [90m 12 |[39m   beforeEach([36masync[39m () [33m=>[39m {
     [90m 13 |[39m     [90m// Create a temporary directory for test keys[39m
    [31m[1m>[22m[39m[90m 14 |[39m     testKeyPath [33m=[39m path[33m.[39mjoin(__dirname[33m,[39m [32m'__test_keys__'[39m)[33m;[39m
     [90m    |[39m                             [31m[1m^[22m[39m
     [90m 15 |[39m     [36mif[39m ([33m![39mfs[33m.[39mexistsSync(testKeyPath)) {
     [90m 16 |[39m       fs[33m.[39mmkdirSync(testKeyPath[33m,[39m { recursive[33m:[39m [36mtrue[39m })[33m;[39m
     [90m 17 |[39m     }[0m

      at Object.__dirname (src/lib/security/__tests__/encryption.test.ts:14:29)

  ‚óè LocalProvider ‚Ä∫ Key Management ‚Ä∫ should generate and store master key

    ReferenceError: __dirname is not defined

    [0m [90m 259 |[39m
     [90m 260 |[39m   beforeEach(() [33m=>[39m {
    [31m[1m>[22m[39m[90m 261 |[39m     testKeyPath [33m=[39m path[33m.[39mjoin(__dirname[33m,[39m [32m'__test_keys__'[39m)[33m;[39m
     [90m     |[39m                             [31m[1m^[22m[39m
     [90m 262 |[39m     [36mif[39m ([33m![39mfs[33m.[39mexistsSync(testKeyPath)) {
     [90m 263 |[39m       fs[33m.[39mmkdirSync(testKeyPath[33m,[39m { recursive[33m:[39m [36mtrue[39m })[33m;[39m
     [90m 264 |[39m     }[0m

      at Object.__dirname (src/lib/security/__tests__/encryption.test.ts:261:29)

  ‚óè LocalProvider ‚Ä∫ Key Management ‚Ä∫ should rotate keys when needed

    ReferenceError: __dirname is not defined

    [0m [90m 259 |[39m
     [90m 260 |[39m   beforeEach(() [33m=>[39m {
    [31m[1m>[22m[39m[90m 261 |[39m     testKeyPath [33m=[39m path[33m.[39mjoin(__dirname[33m,[39m [32m'__test_keys__'[39m)[33m;[39m
     [90m     |[39m                             [31m[1m^[22m[39m
     [90m 262 |[39m     [36mif[39m ([33m![39mfs[33m.[39mexistsSync(testKeyPath)) {
     [90m 263 |[39m       fs[33m.[39mmkdirSync(testKeyPath[33m,[39m { recursive[33m:[39m [36mtrue[39m })[33m;[39m
     [90m 264 |[39m     }[0m

      at Object.__dirname (src/lib/security/__tests__/encryption.test.ts:261:29)

  ‚óè LocalProvider ‚Ä∫ Error Handling ‚Ä∫ should handle invalid key directory

    ReferenceError: __dirname is not defined

    [0m [90m 259 |[39m
     [90m 260 |[39m   beforeEach(() [33m=>[39m {
    [31m[1m>[22m[39m[90m 261 |[39m     testKeyPath [33m=[39m path[33m.[39mjoin(__dirname[33m,[39m [32m'__test_keys__'[39m)[33m;[39m
     [90m     |[39m                             [31m[1m^[22m[39m
     [90m 262 |[39m     [36mif[39m ([33m![39mfs[33m.[39mexistsSync(testKeyPath)) {
     [90m 263 |[39m       fs[33m.[39mmkdirSync(testKeyPath[33m,[39m { recursive[33m:[39m [36mtrue[39m })[33m;[39m
     [90m 264 |[39m     }[0m

      at Object.__dirname (src/lib/security/__tests__/encryption.test.ts:261:29)

  ‚óè LocalProvider ‚Ä∫ Error Handling ‚Ä∫ should handle corrupted key files

    ReferenceError: __dirname is not defined

    [0m [90m 259 |[39m
     [90m 260 |[39m   beforeEach(() [33m=>[39m {
    [31m[1m>[22m[39m[90m 261 |[39m     testKeyPath [33m=[39m path[33m.[39mjoin(__dirname[33m,[39m [32m'__test_keys__'[39m)[33m;[39m
     [90m     |[39m                             [31m[1m^[22m[39m
     [90m 262 |[39m     [36mif[39m ([33m![39mfs[33m.[39mexistsSync(testKeyPath)) {
     [90m 263 |[39m       fs[33m.[39mmkdirSync(testKeyPath[33m,[39m { recursive[33m:[39m [36mtrue[39m })[33m;[39m
     [90m 264 |[39m     }[0m

      at Object.__dirname (src/lib/security/__tests__/encryption.test.ts:261:29)

  console.log
    [dotenv@17.0.1] injecting env (31) from .env.test ‚Äì [tip] encrypt with dotenvx: https://dotenvx.com

      at _log (node_modules/dotenv/lib/main.js:102:11)

FAIL src/lib/validation/__tests__/sanitization-real.test.ts
  Sanitization Utils
    sanitizeHTML
      ‚úï should sanitize HTML with default config (1 ms)
      ‚úï should apply custom config
      ‚úï should handle empty input
    sanitizeText
      ‚úï should remove all HTML from text
      ‚úï should handle plain text
    sanitizeUserInput
      ‚úï should sanitize user input
      ‚úï should trim whitespace
    sanitizeJSON
      ‚úï should sanitize JSON data recursively
      ‚úï should handle primitive values
    sanitizeFileName
      ‚úì should sanitize file names (2 ms)
      ‚úì should preserve extensions (1 ms)
      ‚úì should handle special characters (8 ms)
    sanitizeURL
      ‚úï should sanitize URLs (3 ms)
      ‚úì should allow safe protocols (1 ms)
      ‚úï should handle invalid URLs (1 ms)

  ‚óè Sanitization Utils ‚Ä∫ sanitizeHTML ‚Ä∫ should sanitize HTML with default config

    TypeError: DOMPurify.sanitize is not a function

    [0m [90m 65 |[39m   }[33m;[39m
     [90m 66 |[39m   
    [31m[1m>[22m[39m[90m 67 |[39m   [36mreturn[39m [33mDOMPurify[39m[33m.[39msanitize(html[33m,[39m {
     [90m    |[39m                    [31m[1m^[22m[39m
     [90m 68 |[39m     [33m...[39mconfig[33m,[39m
     [90m 69 |[39m     [33mUSE_PROFILES[39m[33m:[39m { html[33m:[39m [36mtrue[39m }[33m,[39m
     [90m 70 |[39m     [33mADD_ATTR[39m[33m:[39m [[32m'target'[39m][33m,[39m [90m// Allow target attribute for links[39m[0m

      at sanitize (src/lib/validation/sanitization.ts:67:20)
      at Object.sanitizeHTML (src/lib/validation/__tests__/sanitization-real.test.ts:37:21)

  ‚óè Sanitization Utils ‚Ä∫ sanitizeHTML ‚Ä∫ should apply custom config

    TypeError: DOMPurify.sanitize is not a function

    [0m [90m 65 |[39m   }[33m;[39m
     [90m 66 |[39m   
    [31m[1m>[22m[39m[90m 67 |[39m   [36mreturn[39m [33mDOMPurify[39m[33m.[39msanitize(html[33m,[39m {
     [90m    |[39m                    [31m[1m^[22m[39m
     [90m 68 |[39m     [33m...[39mconfig[33m,[39m
     [90m 69 |[39m     [33mUSE_PROFILES[39m[33m:[39m { html[33m:[39m [36mtrue[39m }[33m,[39m
     [90m 70 |[39m     [33mADD_ATTR[39m[33m:[39m [[32m'target'[39m][33m,[39m [90m// Allow target attribute for links[39m[0m

      at sanitize (src/lib/validation/sanitization.ts:67:20)
      at Object.sanitizeHTML (src/lib/validation/__tests__/sanitization-real.test.ts:44:21)

  ‚óè Sanitization Utils ‚Ä∫ sanitizeHTML ‚Ä∫ should handle empty input

    TypeError: DOMPurify.sanitize is not a function

    [0m [90m 65 |[39m   }[33m;[39m
     [90m 66 |[39m   
    [31m[1m>[22m[39m[90m 67 |[39m   [36mreturn[39m [33mDOMPurify[39m[33m.[39msanitize(html[33m,[39m {
     [90m    |[39m                    [31m[1m^[22m[39m
     [90m 68 |[39m     [33m...[39mconfig[33m,[39m
     [90m 69 |[39m     [33mUSE_PROFILES[39m[33m:[39m { html[33m:[39m [36mtrue[39m }[33m,[39m
     [90m 70 |[39m     [33mADD_ATTR[39m[33m:[39m [[32m'target'[39m][33m,[39m [90m// Allow target attribute for links[39m[0m

      at sanitize (src/lib/validation/sanitization.ts:67:20)
      at Object.sanitizeHTML (src/lib/validation/__tests__/sanitization-real.test.ts:49:14)

  ‚óè Sanitization Utils ‚Ä∫ sanitizeText ‚Ä∫ should remove all HTML from text

    TypeError: DOMPurify.sanitize is not a function

    [0m [90m 79 |[39m [90m */[39m
     [90m 80 |[39m [36mexport[39m [36mfunction[39m sanitizeText(text[33m:[39m string)[33m:[39m string {
    [31m[1m>[22m[39m[90m 81 |[39m   [36mreturn[39m [33mDOMPurify[39m[33m.[39msanitize(text[33m,[39m [33mSANITIZE_CONFIGS[39m[33m.[39mtext)[33m;[39m
     [90m    |[39m                    [31m[1m^[22m[39m
     [90m 82 |[39m }
     [90m 83 |[39m
     [90m 84 |[39m [90m/**[39m[0m

      at sanitize (src/lib/validation/sanitization.ts:81:20)
      at Object.sanitizeText (src/lib/validation/__tests__/sanitization-real.test.ts:58:21)

  ‚óè Sanitization Utils ‚Ä∫ sanitizeText ‚Ä∫ should handle plain text

    TypeError: DOMPurify.sanitize is not a function

    [0m [90m 79 |[39m [90m */[39m
     [90m 80 |[39m [36mexport[39m [36mfunction[39m sanitizeText(text[33m:[39m string)[33m:[39m string {
    [31m[1m>[22m[39m[90m 81 |[39m   [36mreturn[39m [33mDOMPurify[39m[33m.[39msanitize(text[33m,[39m [33mSANITIZE_CONFIGS[39m[33m.[39mtext)[33m;[39m
     [90m    |[39m                    [31m[1m^[22m[39m
     [90m 82 |[39m }
     [90m 83 |[39m
     [90m 84 |[39m [90m/**[39m[0m

      at sanitize (src/lib/validation/sanitization.ts:81:20)
      at Object.sanitizeText (src/lib/validation/__tests__/sanitization-real.test.ts:65:14)

  ‚óè Sanitization Utils ‚Ä∫ sanitizeUserInput ‚Ä∫ should sanitize user input

    TypeError: DOMPurify.sanitize is not a function

    [0m [90m 79 |[39m [90m */[39m
     [90m 80 |[39m [36mexport[39m [36mfunction[39m sanitizeText(text[33m:[39m string)[33m:[39m string {
    [31m[1m>[22m[39m[90m 81 |[39m   [36mreturn[39m [33mDOMPurify[39m[33m.[39msanitize(text[33m,[39m [33mSANITIZE_CONFIGS[39m[33m.[39mtext)[33m;[39m
     [90m    |[39m                    [31m[1m^[22m[39m
     [90m 82 |[39m }
     [90m 83 |[39m
     [90m 84 |[39m [90m/**[39m[0m

      at sanitize (src/lib/validation/sanitization.ts:81:20)
      at sanitizeText (src/lib/validation/sanitization.ts:89:21)
      at Object.sanitizeUserInput (src/lib/validation/__tests__/sanitization-real.test.ts:72:21)

  ‚óè Sanitization Utils ‚Ä∫ sanitizeUserInput ‚Ä∫ should trim whitespace

    TypeError: DOMPurify.sanitize is not a function

    [0m [90m 79 |[39m [90m */[39m
     [90m 80 |[39m [36mexport[39m [36mfunction[39m sanitizeText(text[33m:[39m string)[33m:[39m string {
    [31m[1m>[22m[39m[90m 81 |[39m   [36mreturn[39m [33mDOMPurify[39m[33m.[39msanitize(text[33m,[39m [33mSANITIZE_CONFIGS[39m[33m.[39mtext)[33m;[39m
     [90m    |[39m                    [31m[1m^[22m[39m
     [90m 82 |[39m }
     [90m 83 |[39m
     [90m 84 |[39m [90m/**[39m[0m

      at sanitize (src/lib/validation/sanitization.ts:81:20)
      at sanitizeText (src/lib/validation/sanitization.ts:89:21)
      at Object.sanitizeUserInput (src/lib/validation/__tests__/sanitization-real.test.ts:79:14)

  ‚óè Sanitization Utils ‚Ä∫ sanitizeJSON ‚Ä∫ should sanitize JSON data recursively

    TypeError: DOMPurify.sanitize is not a function

    [0m [90m 79 |[39m [90m */[39m
     [90m 80 |[39m [36mexport[39m [36mfunction[39m sanitizeText(text[33m:[39m string)[33m:[39m string {
    [31m[1m>[22m[39m[90m 81 |[39m   [36mreturn[39m [33mDOMPurify[39m[33m.[39msanitize(text[33m,[39m [33mSANITIZE_CONFIGS[39m[33m.[39mtext)[33m;[39m
     [90m    |[39m                    [31m[1m^[22m[39m
     [90m 82 |[39m }
     [90m 83 |[39m
     [90m 84 |[39m [90m/**[39m[0m

      at sanitize (src/lib/validation/sanitization.ts:81:20)
      at sanitizeText (src/lib/validation/sanitization.ts:117:28)
      at Object.sanitizeJSON (src/lib/validation/__tests__/sanitization-real.test.ts:93:21)

  ‚óè Sanitization Utils ‚Ä∫ sanitizeJSON ‚Ä∫ should handle primitive values

    TypeError: DOMPurify.sanitize is not a function

    [0m [90m 79 |[39m [90m */[39m
     [90m 80 |[39m [36mexport[39m [36mfunction[39m sanitizeText(text[33m:[39m string)[33m:[39m string {
    [31m[1m>[22m[39m[90m 81 |[39m   [36mreturn[39m [33mDOMPurify[39m[33m.[39msanitize(text[33m,[39m [33mSANITIZE_CONFIGS[39m[33m.[39mtext)[33m;[39m
     [90m    |[39m                    [31m[1m^[22m[39m
     [90m 82 |[39m }
     [90m 83 |[39m
     [90m 84 |[39m [90m/**[39m[0m

      at sanitize (src/lib/validation/sanitization.ts:81:20)
      at sanitizeText (src/lib/validation/sanitization.ts:106:12)
      at Object.sanitizeJSON (src/lib/validation/__tests__/sanitization-real.test.ts:100:14)

  ‚óè Sanitization Utils ‚Ä∫ sanitizeURL ‚Ä∫ should sanitize URLs

    expect(received).toBe(expected) // Object.is equality

    Expected: ""
    Received: null

    [0m [90m 127 |[39m     it([32m'should sanitize URLs'[39m[33m,[39m () [33m=>[39m {
     [90m 128 |[39m       expect(sanitizeURL([32m'https://example.com'[39m))[33m.[39mtoBe([32m'https://example.com'[39m)[33m;[39m
    [31m[1m>[22m[39m[90m 129 |[39m       expect(sanitizeURL([32m'javascript:alert(1)'[39m))[33m.[39mtoBe([32m''[39m)[33m;[39m
     [90m     |[39m                                                  [31m[1m^[22m[39m
     [90m 130 |[39m       expect(sanitizeURL([32m'data:text/html,<script>alert(1)</script>'[39m))[33m.[39mtoBe([32m''[39m)[33m;[39m
     [90m 131 |[39m     })[33m;[39m
     [90m 132 |[39m[0m

      at Object.toBe (src/lib/validation/__tests__/sanitization-real.test.ts:129:50)

  ‚óè Sanitization Utils ‚Ä∫ sanitizeURL ‚Ä∫ should handle invalid URLs

    expect(received).toBe(expected) // Object.is equality

    Expected: ""
    Received: null

    [0m [90m 138 |[39m
     [90m 139 |[39m     it([32m'should handle invalid URLs'[39m[33m,[39m () [33m=>[39m {
    [31m[1m>[22m[39m[90m 140 |[39m       expect(sanitizeURL([32m'not a url'[39m))[33m.[39mtoBe([32m''[39m)[33m;[39m
     [90m     |[39m                                        [31m[1m^[22m[39m
     [90m 141 |[39m       expect(sanitizeURL([32m''[39m))[33m.[39mtoBe([32m''[39m)[33m;[39m
     [90m 142 |[39m     })[33m;[39m
     [90m 143 |[39m   })[33m;[39m[0m

      at Object.toBe (src/lib/validation/__tests__/sanitization-real.test.ts:140:40)

  console.log
    [dotenv@17.0.1] injecting env (31) from .env.test ‚Äì [tip] encrypt with dotenvx: https://dotenvx.com

      at _log (node_modules/dotenv/lib/main.js:102:11)

FAIL src/lib/auth/webauthn/__tests__/service.test.ts
  service
    Initialization
      ‚úï should initialize correctly (1 ms)
      ‚úï should handle configuration options
    Core Functionality
      ‚úï should perform primary function correctly
      ‚úï should handle concurrent operations (1 ms)
    Error Handling
      ‚úï should handle network errors gracefully
      ‚úï should handle invalid input
      ‚úï should retry failed operations (1 ms)
    Security
      ‚úï should sanitize user input
      ‚úï should handle authentication correctly (1 ms)
    Performance
      ‚úï should cache results appropriately
      ‚úï should handle rate limiting (1 ms)
    Integration
      ‚úï should integrate with external services

  ‚óè service ‚Ä∫ Initialization ‚Ä∫ should initialize correctly

    TypeError: service is not a constructor

    [0m [90m 11 |[39m   beforeEach(() [33m=>[39m {
     [90m 12 |[39m     jest[33m.[39mclearAllMocks()[33m;[39m
    [31m[1m>[22m[39m[90m 13 |[39m     service [33m=[39m [36mnew[39m service()[33m;[39m
     [90m    |[39m               [31m[1m^[22m[39m
     [90m 14 |[39m   })[33m;[39m
     [90m 15 |[39m
     [90m 16 |[39m   describe([32m'Initialization'[39m[33m,[39m () [33m=>[39m {[0m

      at Object.<anonymous> (src/lib/auth/webauthn/__tests__/service.test.ts:13:15)

  ‚óè service ‚Ä∫ Initialization ‚Ä∫ should handle configuration options

    TypeError: service is not a constructor

    [0m [90m 11 |[39m   beforeEach(() [33m=>[39m {
     [90m 12 |[39m     jest[33m.[39mclearAllMocks()[33m;[39m
    [31m[1m>[22m[39m[90m 13 |[39m     service [33m=[39m [36mnew[39m service()[33m;[39m
     [90m    |[39m               [31m[1m^[22m[39m
     [90m 14 |[39m   })[33m;[39m
     [90m 15 |[39m
     [90m 16 |[39m   describe([32m'Initialization'[39m[33m,[39m () [33m=>[39m {[0m

      at Object.<anonymous> (src/lib/auth/webauthn/__tests__/service.test.ts:13:15)

  ‚óè service ‚Ä∫ Core Functionality ‚Ä∫ should perform primary function correctly

    TypeError: service is not a constructor

    [0m [90m 11 |[39m   beforeEach(() [33m=>[39m {
     [90m 12 |[39m     jest[33m.[39mclearAllMocks()[33m;[39m
    [31m[1m>[22m[39m[90m 13 |[39m     service [33m=[39m [36mnew[39m service()[33m;[39m
     [90m    |[39m               [31m[1m^[22m[39m
     [90m 14 |[39m   })[33m;[39m
     [90m 15 |[39m
     [90m 16 |[39m   describe([32m'Initialization'[39m[33m,[39m () [33m=>[39m {[0m

      at Object.<anonymous> (src/lib/auth/webauthn/__tests__/service.test.ts:13:15)

  ‚óè service ‚Ä∫ Core Functionality ‚Ä∫ should handle concurrent operations

    TypeError: service is not a constructor

    [0m [90m 11 |[39m   beforeEach(() [33m=>[39m {
     [90m 12 |[39m     jest[33m.[39mclearAllMocks()[33m;[39m
    [31m[1m>[22m[39m[90m 13 |[39m     service [33m=[39m [36mnew[39m service()[33m;[39m
     [90m    |[39m               [31m[1m^[22m[39m
     [90m 14 |[39m   })[33m;[39m
     [90m 15 |[39m
     [90m 16 |[39m   describe([32m'Initialization'[39m[33m,[39m () [33m=>[39m {[0m

      at Object.<anonymous> (src/lib/auth/webauthn/__tests__/service.test.ts:13:15)

  ‚óè service ‚Ä∫ Error Handling ‚Ä∫ should handle network errors gracefully

    TypeError: service is not a constructor

    [0m [90m 11 |[39m   beforeEach(() [33m=>[39m {
     [90m 12 |[39m     jest[33m.[39mclearAllMocks()[33m;[39m
    [31m[1m>[22m[39m[90m 13 |[39m     service [33m=[39m [36mnew[39m service()[33m;[39m
     [90m    |[39m               [31m[1m^[22m[39m
     [90m 14 |[39m   })[33m;[39m
     [90m 15 |[39m
     [90m 16 |[39m   describe([32m'Initialization'[39m[33m,[39m () [33m=>[39m {[0m

      at Object.<anonymous> (src/lib/auth/webauthn/__tests__/service.test.ts:13:15)

  ‚óè service ‚Ä∫ Error Handling ‚Ä∫ should handle invalid input

    TypeError: service is not a constructor

    [0m [90m 11 |[39m   beforeEach(() [33m=>[39m {
     [90m 12 |[39m     jest[33m.[39mclearAllMocks()[33m;[39m
    [31m[1m>[22m[39m[90m 13 |[39m     service [33m=[39m [36mnew[39m service()[33m;[39m
     [90m    |[39m               [31m[1m^[22m[39m
     [90m 14 |[39m   })[33m;[39m
     [90m 15 |[39m
     [90m 16 |[39m   describe([32m'Initialization'[39m[33m,[39m () [33m=>[39m {[0m

      at Object.<anonymous> (src/lib/auth/webauthn/__tests__/service.test.ts:13:15)

  ‚óè service ‚Ä∫ Error Handling ‚Ä∫ should retry failed operations

    TypeError: service is not a constructor

    [0m [90m 11 |[39m   beforeEach(() [33m=>[39m {
     [90m 12 |[39m     jest[33m.[39mclearAllMocks()[33m;[39m
    [31m[1m>[22m[39m[90m 13 |[39m     service [33m=[39m [36mnew[39m service()[33m;[39m
     [90m    |[39m               [31m[1m^[22m[39m
     [90m 14 |[39m   })[33m;[39m
     [90m 15 |[39m
     [90m 16 |[39m   describe([32m'Initialization'[39m[33m,[39m () [33m=>[39m {[0m

      at Object.<anonymous> (src/lib/auth/webauthn/__tests__/service.test.ts:13:15)

  ‚óè service ‚Ä∫ Security ‚Ä∫ should sanitize user input

    TypeError: service is not a constructor

    [0m [90m 11 |[39m   beforeEach(() [33m=>[39m {
     [90m 12 |[39m     jest[33m.[39mclearAllMocks()[33m;[39m
    [31m[1m>[22m[39m[90m 13 |[39m     service [33m=[39m [36mnew[39m service()[33m;[39m
     [90m    |[39m               [31m[1m^[22m[39m
     [90m 14 |[39m   })[33m;[39m
     [90m 15 |[39m
     [90m 16 |[39m   describe([32m'Initialization'[39m[33m,[39m () [33m=>[39m {[0m

      at Object.<anonymous> (src/lib/auth/webauthn/__tests__/service.test.ts:13:15)

  ‚óè service ‚Ä∫ Security ‚Ä∫ should handle authentication correctly

    TypeError: service is not a constructor

    [0m [90m 11 |[39m   beforeEach(() [33m=>[39m {
     [90m 12 |[39m     jest[33m.[39mclearAllMocks()[33m;[39m
    [31m[1m>[22m[39m[90m 13 |[39m     service [33m=[39m [36mnew[39m service()[33m;[39m
     [90m    |[39m               [31m[1m^[22m[39m
     [90m 14 |[39m   })[33m;[39m
     [90m 15 |[39m
     [90m 16 |[39m   describe([32m'Initialization'[39m[33m,[39m () [33m=>[39m {[0m

      at Object.<anonymous> (src/lib/auth/webauthn/__tests__/service.test.ts:13:15)

  ‚óè service ‚Ä∫ Performance ‚Ä∫ should cache results appropriately

    TypeError: service is not a constructor

    [0m [90m 11 |[39m   beforeEach(() [33m=>[39m {
     [90m 12 |[39m     jest[33m.[39mclearAllMocks()[33m;[39m
    [31m[1m>[22m[39m[90m 13 |[39m     service [33m=[39m [36mnew[39m service()[33m;[39m
     [90m    |[39m               [31m[1m^[22m[39m
     [90m 14 |[39m   })[33m;[39m
     [90m 15 |[39m
     [90m 16 |[39m   describe([32m'Initialization'[39m[33m,[39m () [33m=>[39m {[0m

      at Object.<anonymous> (src/lib/auth/webauthn/__tests__/service.test.ts:13:15)

  ‚óè service ‚Ä∫ Performance ‚Ä∫ should handle rate limiting

    TypeError: service is not a constructor

    [0m [90m 11 |[39m   beforeEach(() [33m=>[39m {
     [90m 12 |[39m     jest[33m.[39mclearAllMocks()[33m;[39m
    [31m[1m>[22m[39m[90m 13 |[39m     service [33m=[39m [36mnew[39m service()[33m;[39m
     [90m    |[39m               [31m[1m^[22m[39m
     [90m 14 |[39m   })[33m;[39m
     [90m 15 |[39m
     [90m 16 |[39m   describe([32m'Initialization'[39m[33m,[39m () [33m=>[39m {[0m

      at Object.<anonymous> (src/lib/auth/webauthn/__tests__/service.test.ts:13:15)

  ‚óè service ‚Ä∫ Integration ‚Ä∫ should integrate with external services

    TypeError: service is not a constructor

    [0m [90m 11 |[39m   beforeEach(() [33m=>[39m {
     [90m 12 |[39m     jest[33m.[39mclearAllMocks()[33m;[39m
    [31m[1m>[22m[39m[90m 13 |[39m     service [33m=[39m [36mnew[39m service()[33m;[39m
     [90m    |[39m               [31m[1m^[22m[39m
     [90m 14 |[39m   })[33m;[39m
     [90m 15 |[39m
     [90m 16 |[39m   describe([32m'Initialization'[39m[33m,[39m () [33m=>[39m {[0m

      at Object.<anonymous> (src/lib/auth/webauthn/__tests__/service.test.ts:13:15)

  console.log
    [dotenv@17.0.1] injecting env (31) from .env.test ‚Äì [tip] encrypt with dotenvx: https://dotenvx.com

      at _log (node_modules/dotenv/lib/main.js:102:11)

FAIL src/lib/validation/__tests__/schemas-real.test.ts
  Validation Schemas
    uuidSchema
      ‚úì should validate valid UUIDs (2 ms)
      ‚úì should reject invalid UUIDs (1 ms)
    emailSchema
      ‚úì should validate valid emails (1 ms)
      ‚úì should reject invalid emails (1 ms)
      ‚úï should transform to lowercase (5 ms)
    passwordSchema
      ‚úì should validate strong passwords (1 ms)
      ‚úï should reject weak passwords (2 ms)
      ‚úì should provide detailed error messages (1 ms)
    validateAndSanitize
      ‚úï should validate and sanitize data (1 ms)
      ‚úì should handle validation errors (1 ms)
      ‚úì should work with complex schemas (1 ms)

  ‚óè Validation Schemas ‚Ä∫ emailSchema ‚Ä∫ should transform to lowercase

    expect(received).toBe(expected) // Object.is equality

    Expected: "user@example.com"
    Received: "USER@EXAMPLE.COM"

    [0m [90m 71 |[39m       [36mconst[39m result [33m=[39m emailSchema[33m.[39msafeParse([32m'USER@EXAMPLE.COM'[39m)[33m;[39m
     [90m 72 |[39m       expect(result[33m.[39msuccess)[33m.[39mtoBe([36mtrue[39m)[33m;[39m
    [31m[1m>[22m[39m[90m 73 |[39m       expect(result[33m.[39mdata)[33m.[39mtoBe([32m'user@example.com'[39m)[33m;[39m
     [90m    |[39m                           [31m[1m^[22m[39m
     [90m 74 |[39m     })[33m;[39m
     [90m 75 |[39m   })[33m;[39m
     [90m 76 |[39m[0m

      at Object.toBe (src/lib/validation/__tests__/schemas-real.test.ts:73:27)

  ‚óè Validation Schemas ‚Ä∫ passwordSchema ‚Ä∫ should reject weak passwords

    expect(received).toBe(expected) // Object.is equality

    Expected: false
    Received: true

    [0m [90m 103 |[39m       weakPasswords[33m.[39mforEach(password [33m=>[39m {
     [90m 104 |[39m         [36mconst[39m result [33m=[39m passwordSchema[33m.[39msafeParse(password)[33m;[39m
    [31m[1m>[22m[39m[90m 105 |[39m         expect(result[33m.[39msuccess)[33m.[39mtoBe([36mfalse[39m)[33m;[39m
     [90m     |[39m                                [31m[1m^[22m[39m
     [90m 106 |[39m       })[33m;[39m
     [90m 107 |[39m     })[33m;[39m
     [90m 108 |[39m[0m

      at toBe (src/lib/validation/__tests__/schemas-real.test.ts:105:32)
          at Array.forEach (<anonymous>)
      at Object.forEach (src/lib/validation/__tests__/schemas-real.test.ts:103:21)

  ‚óè Validation Schemas ‚Ä∫ validateAndSanitize ‚Ä∫ should validate and sanitize data

    expect(received).toBe(expected) // Object.is equality

    Expected: true
    Received: false

    [0m [90m 122 |[39m       
     [90m 123 |[39m       [36mconst[39m result [33m=[39m [36mawait[39m validateAndSanitize(schema[33m,[39m dirtyData)[33m;[39m
    [31m[1m>[22m[39m[90m 124 |[39m       expect(result[33m.[39msuccess)[33m.[39mtoBe([36mtrue[39m)[33m;[39m
     [90m     |[39m                              [31m[1m^[22m[39m
     [90m 125 |[39m       expect(result[33m.[39mdata)[33m.[39mtoBe([32m'user@example.com'[39m)[33m;[39m
     [90m 126 |[39m     })[33m;[39m
     [90m 127 |[39m[0m

      at Object.toBe (src/lib/validation/__tests__/schemas-real.test.ts:124:30)

  console.log
    [dotenv@17.0.1] injecting env (31) from .env.test ‚Äì [tip] encrypt with dotenvx: https://dotenvx.com

      at _log (node_modules/dotenv/lib/main.js:102:11)

FAIL src/lib/ai/__tests__/building-sustainability-context-real.test.ts
  Building Sustainability Context Utils
    formatEmissions
      ‚úï should format emissions in kg CO2 (3 ms)
      ‚úï should handle decimal values
      ‚úï should handle negative values
    getEmissionContext
      ‚úï should provide context for emissions (6 ms)
      ‚úì should handle edge cases

  ‚óè Building Sustainability Context Utils ‚Ä∫ formatEmissions ‚Ä∫ should format emissions in kg CO2

    expect(received).toBe(expected) // Object.is equality

    Expected: "100 kg CO2"
    Received: "100.0kg CO‚ÇÇ"

    [0m [90m  5 |[39m   describe([32m'formatEmissions'[39m[33m,[39m () [33m=>[39m {
     [90m  6 |[39m     it([32m'should format emissions in kg CO2'[39m[33m,[39m () [33m=>[39m {
    [31m[1m>[22m[39m[90m  7 |[39m       expect(formatEmissions([35m100[39m))[33m.[39mtoBe([32m'100 kg CO2'[39m)[33m;[39m
     [90m    |[39m                                    [31m[1m^[22m[39m
     [90m  8 |[39m       expect(formatEmissions([35m1500[39m))[33m.[39mtoBe([32m'1,500 kg CO2'[39m)[33m;[39m
     [90m  9 |[39m       expect(formatEmissions([35m0[39m))[33m.[39mtoBe([32m'0 kg CO2'[39m)[33m;[39m
     [90m 10 |[39m     })[33m;[39m[0m

      at Object.toBe (src/lib/ai/__tests__/building-sustainability-context-real.test.ts:7:36)

  ‚óè Building Sustainability Context Utils ‚Ä∫ formatEmissions ‚Ä∫ should handle decimal values

    expect(received).toBe(expected) // Object.is equality

    Expected: "123.46 kg CO2"
    Received: "123.5kg CO‚ÇÇ"

    [0m [90m 11 |[39m
     [90m 12 |[39m     it([32m'should handle decimal values'[39m[33m,[39m () [33m=>[39m {
    [31m[1m>[22m[39m[90m 13 |[39m       expect(formatEmissions([35m123.456[39m))[33m.[39mtoBe([32m'123.46 kg CO2'[39m)[33m;[39m
     [90m    |[39m                                        [31m[1m^[22m[39m
     [90m 14 |[39m       expect(formatEmissions([35m0.1[39m))[33m.[39mtoBe([32m'0.1 kg CO2'[39m)[33m;[39m
     [90m 15 |[39m     })[33m;[39m
     [90m 16 |[39m[0m

      at Object.toBe (src/lib/ai/__tests__/building-sustainability-context-real.test.ts:13:40)

  ‚óè Building Sustainability Context Utils ‚Ä∫ formatEmissions ‚Ä∫ should handle negative values

    expect(received).toBe(expected) // Object.is equality

    Expected: "-100 kg CO2"
    Received: "-100000g CO‚ÇÇ"

    [0m [90m 16 |[39m
     [90m 17 |[39m     it([32m'should handle negative values'[39m[33m,[39m () [33m=>[39m {
    [31m[1m>[22m[39m[90m 18 |[39m       expect(formatEmissions([33m-[39m[35m100[39m))[33m.[39mtoBe([32m'-100 kg CO2'[39m)[33m;[39m
     [90m    |[39m                                     [31m[1m^[22m[39m
     [90m 19 |[39m     })[33m;[39m
     [90m 20 |[39m   })[33m;[39m
     [90m 21 |[39m[0m

      at Object.toBe (src/lib/ai/__tests__/building-sustainability-context-real.test.ts:18:37)

  ‚óè Building Sustainability Context Utils ‚Ä∫ getEmissionContext ‚Ä∫ should provide context for emissions

    expect(received).toContain(expected) // indexOf

    Expected substring: "low"
    Received string:    "equivalent to driving 2970 miles"

    [0m [90m 23 |[39m     it([32m'should provide context for emissions'[39m[33m,[39m () [33m=>[39m {
     [90m 24 |[39m       [36mconst[39m lowContext [33m=[39m getEmissionContext([35m50[39m)[33m;[39m
    [31m[1m>[22m[39m[90m 25 |[39m       expect(lowContext)[33m.[39mtoContain([32m'low'[39m)[33m;[39m
     [90m    |[39m                          [31m[1m^[22m[39m
     [90m 26 |[39m       
     [90m 27 |[39m       [36mconst[39m medContext [33m=[39m getEmissionContext([35m500[39m)[33m;[39m
     [90m 28 |[39m       expect(medContext)[33m.[39mtoContain([32m'moderate'[39m)[33m;[39m[0m

      at Object.toContain (src/lib/ai/__tests__/building-sustainability-context-real.test.ts:25:26)

  console.log
    [dotenv@17.0.1] injecting env (31) from .env.test ‚Äì [tip] encrypt with dotenvx: https://dotenvx.com

      at _log (node_modules/dotenv/lib/main.js:102:11)

FAIL src/lib/validation/__tests__/schemas.test.ts
  Validation Schemas
    Common Schemas
      uuidSchema
        ‚úì should accept valid UUIDs (2 ms)
        ‚úï should reject invalid UUIDs (3 ms)
      emailSchema
        ‚úì should accept valid emails (2 ms)
        ‚úì should reject invalid emails (14 ms)
      passwordSchema
        ‚úì should accept valid passwords (1 ms)
        ‚úì should reject passwords without uppercase (1 ms)
        ‚úì should reject passwords without lowercase
        ‚úì should reject passwords without numbers (1 ms)
        ‚úì should reject short passwords
        ‚úì should reject very long passwords (1 ms)
    Auth Schemas
      signUpSchema
        ‚úì should accept valid sign up data (1 ms)
        ‚úì should accept sign up without optional fields (1 ms)
        ‚úì should reject invalid full names (1 ms)
        ‚úì should validate role enum (1 ms)
      signInSchema
        ‚úì should accept valid sign in data
        ‚úì should reject empty password (1 ms)
      resetPasswordSchema
        ‚úì should accept valid email
      updatePasswordSchema
        ‚úì should accept valid update data
    Chat/AI Schemas
      chatMessageSchema
        ‚úì should accept minimal message
        ‚úì should accept message with all fields (1 ms)
        ‚úì should reject empty message (1 ms)
        ‚úì should reject very long message
        ‚úì should reject attachments over 10MB
    validateAndSanitize
      ‚úì should return success with valid data
      ‚úì should return error with invalid data (1 ms)

  ‚óè Validation Schemas ‚Ä∫ Common Schemas ‚Ä∫ uuidSchema ‚Ä∫ should reject invalid UUIDs

    expect(received).toContain(expected) // indexOf

    Expected substring: "Invalid UUID"
    Received string:    "Expected string, received null"

    [0m [90m 51 |[39m           expect(result[33m.[39msuccess)[33m.[39mtoBe([36mfalse[39m)[33m;[39m
     [90m 52 |[39m           [36mif[39m ([33m![39mresult[33m.[39msuccess) {
    [31m[1m>[22m[39m[90m 53 |[39m             expect(result[33m.[39merror[33m.[39merrors[[35m0[39m][33m.[39mmessage)[33m.[39mtoContain([32m'Invalid UUID'[39m)[33m;[39m
     [90m    |[39m                                                    [31m[1m^[22m[39m
     [90m 54 |[39m           }
     [90m 55 |[39m         })[33m;[39m
     [90m 56 |[39m       })[33m;[39m[0m

      at toContain (src/lib/validation/__tests__/schemas.test.ts:53:52)
          at Array.forEach (<anonymous>)
      at Object.forEach (src/lib/validation/__tests__/schemas.test.ts:49:22)

  console.log
    [dotenv@17.0.1] injecting env (31) from .env.test ‚Äì [tip] encrypt with dotenvx: https://dotenvx.com

      at _log (node_modules/dotenv/lib/main.js:102:11)

FAIL src/lib/conversations/__tests__/service.test.ts
  service
    Initialization
      ‚úï should initialize correctly (1 ms)
      ‚úï should handle configuration options (1 ms)
    Core Functionality
      ‚úï should perform primary function correctly (1 ms)
      ‚úï should handle concurrent operations
    Error Handling
      ‚úï should handle network errors gracefully
      ‚úï should handle invalid input (1 ms)
      ‚úï should retry failed operations
    Security
      ‚úï should sanitize user input
      ‚úï should handle authentication correctly
    Performance
      ‚úï should cache results appropriately (1 ms)
      ‚úï should handle rate limiting
    Integration
      ‚úï should integrate with external services

  ‚óè service ‚Ä∫ Initialization ‚Ä∫ should initialize correctly

    TypeError: service is not a constructor

    [0m [90m 11 |[39m   beforeEach(() [33m=>[39m {
     [90m 12 |[39m     jest[33m.[39mclearAllMocks()[33m;[39m
    [31m[1m>[22m[39m[90m 13 |[39m     service [33m=[39m [36mnew[39m service()[33m;[39m
     [90m    |[39m               [31m[1m^[22m[39m
     [90m 14 |[39m   })[33m;[39m
     [90m 15 |[39m
     [90m 16 |[39m   describe([32m'Initialization'[39m[33m,[39m () [33m=>[39m {[0m

      at Object.<anonymous> (src/lib/conversations/__tests__/service.test.ts:13:15)

  ‚óè service ‚Ä∫ Initialization ‚Ä∫ should handle configuration options

    TypeError: service is not a constructor

    [0m [90m 11 |[39m   beforeEach(() [33m=>[39m {
     [90m 12 |[39m     jest[33m.[39mclearAllMocks()[33m;[39m
    [31m[1m>[22m[39m[90m 13 |[39m     service [33m=[39m [36mnew[39m service()[33m;[39m
     [90m    |[39m               [31m[1m^[22m[39m
     [90m 14 |[39m   })[33m;[39m
     [90m 15 |[39m
     [90m 16 |[39m   describe([32m'Initialization'[39m[33m,[39m () [33m=>[39m {[0m

      at Object.<anonymous> (src/lib/conversations/__tests__/service.test.ts:13:15)

  ‚óè service ‚Ä∫ Core Functionality ‚Ä∫ should perform primary function correctly

    TypeError: service is not a constructor

    [0m [90m 11 |[39m   beforeEach(() [33m=>[39m {
     [90m 12 |[39m     jest[33m.[39mclearAllMocks()[33m;[39m
    [31m[1m>[22m[39m[90m 13 |[39m     service [33m=[39m [36mnew[39m service()[33m;[39m
     [90m    |[39m               [31m[1m^[22m[39m
     [90m 14 |[39m   })[33m;[39m
     [90m 15 |[39m
     [90m 16 |[39m   describe([32m'Initialization'[39m[33m,[39m () [33m=>[39m {[0m

      at Object.<anonymous> (src/lib/conversations/__tests__/service.test.ts:13:15)

  ‚óè service ‚Ä∫ Core Functionality ‚Ä∫ should handle concurrent operations

    TypeError: service is not a constructor

    [0m [90m 11 |[39m   beforeEach(() [33m=>[39m {
     [90m 12 |[39m     jest[33m.[39mclearAllMocks()[33m;[39m
    [31m[1m>[22m[39m[90m 13 |[39m     service [33m=[39m [36mnew[39m service()[33m;[39m
     [90m    |[39m               [31m[1m^[22m[39m
     [90m 14 |[39m   })[33m;[39m
     [90m 15 |[39m
     [90m 16 |[39m   describe([32m'Initialization'[39m[33m,[39m () [33m=>[39m {[0m

      at Object.<anonymous> (src/lib/conversations/__tests__/service.test.ts:13:15)

  ‚óè service ‚Ä∫ Error Handling ‚Ä∫ should handle network errors gracefully

    TypeError: service is not a constructor

    [0m [90m 11 |[39m   beforeEach(() [33m=>[39m {
     [90m 12 |[39m     jest[33m.[39mclearAllMocks()[33m;[39m
    [31m[1m>[22m[39m[90m 13 |[39m     service [33m=[39m [36mnew[39m service()[33m;[39m
     [90m    |[39m               [31m[1m^[22m[39m
     [90m 14 |[39m   })[33m;[39m
     [90m 15 |[39m
     [90m 16 |[39m   describe([32m'Initialization'[39m[33m,[39m () [33m=>[39m {[0m

      at Object.<anonymous> (src/lib/conversations/__tests__/service.test.ts:13:15)

  ‚óè service ‚Ä∫ Error Handling ‚Ä∫ should handle invalid input

    TypeError: service is not a constructor

    [0m [90m 11 |[39m   beforeEach(() [33m=>[39m {
     [90m 12 |[39m     jest[33m.[39mclearAllMocks()[33m;[39m
    [31m[1m>[22m[39m[90m 13 |[39m     service [33m=[39m [36mnew[39m service()[33m;[39m
     [90m    |[39m               [31m[1m^[22m[39m
     [90m 14 |[39m   })[33m;[39m
     [90m 15 |[39m
     [90m 16 |[39m   describe([32m'Initialization'[39m[33m,[39m () [33m=>[39m {[0m

      at Object.<anonymous> (src/lib/conversations/__tests__/service.test.ts:13:15)

  ‚óè service ‚Ä∫ Error Handling ‚Ä∫ should retry failed operations

    TypeError: service is not a constructor

    [0m [90m 11 |[39m   beforeEach(() [33m=>[39m {
     [90m 12 |[39m     jest[33m.[39mclearAllMocks()[33m;[39m
    [31m[1m>[22m[39m[90m 13 |[39m     service [33m=[39m [36mnew[39m service()[33m;[39m
     [90m    |[39m               [31m[1m^[22m[39m
     [90m 14 |[39m   })[33m;[39m
     [90m 15 |[39m
     [90m 16 |[39m   describe([32m'Initialization'[39m[33m,[39m () [33m=>[39m {[0m

      at Object.<anonymous> (src/lib/conversations/__tests__/service.test.ts:13:15)

  ‚óè service ‚Ä∫ Security ‚Ä∫ should sanitize user input

    TypeError: service is not a constructor

    [0m [90m 11 |[39m   beforeEach(() [33m=>[39m {
     [90m 12 |[39m     jest[33m.[39mclearAllMocks()[33m;[39m
    [31m[1m>[22m[39m[90m 13 |[39m     service [33m=[39m [36mnew[39m service()[33m;[39m
     [90m    |[39m               [31m[1m^[22m[39m
     [90m 14 |[39m   })[33m;[39m
     [90m 15 |[39m
     [90m 16 |[39m   describe([32m'Initialization'[39m[33m,[39m () [33m=>[39m {[0m

      at Object.<anonymous> (src/lib/conversations/__tests__/service.test.ts:13:15)

  ‚óè service ‚Ä∫ Security ‚Ä∫ should handle authentication correctly

    TypeError: service is not a constructor

    [0m [90m 11 |[39m   beforeEach(() [33m=>[39m {
     [90m 12 |[39m     jest[33m.[39mclearAllMocks()[33m;[39m
    [31m[1m>[22m[39m[90m 13 |[39m     service [33m=[39m [36mnew[39m service()[33m;[39m
     [90m    |[39m               [31m[1m^[22m[39m
     [90m 14 |[39m   })[33m;[39m
     [90m 15 |[39m
     [90m 16 |[39m   describe([32m'Initialization'[39m[33m,[39m () [33m=>[39m {[0m

      at Object.<anonymous> (src/lib/conversations/__tests__/service.test.ts:13:15)

  ‚óè service ‚Ä∫ Performance ‚Ä∫ should cache results appropriately

    TypeError: service is not a constructor

    [0m [90m 11 |[39m   beforeEach(() [33m=>[39m {
     [90m 12 |[39m     jest[33m.[39mclearAllMocks()[33m;[39m
    [31m[1m>[22m[39m[90m 13 |[39m     service [33m=[39m [36mnew[39m service()[33m;[39m
     [90m    |[39m               [31m[1m^[22m[39m
     [90m 14 |[39m   })[33m;[39m
     [90m 15 |[39m
     [90m 16 |[39m   describe([32m'Initialization'[39m[33m,[39m () [33m=>[39m {[0m

      at Object.<anonymous> (src/lib/conversations/__tests__/service.test.ts:13:15)

  ‚óè service ‚Ä∫ Performance ‚Ä∫ should handle rate limiting

    TypeError: service is not a constructor

    [0m [90m 11 |[39m   beforeEach(() [33m=>[39m {
     [90m 12 |[39m     jest[33m.[39mclearAllMocks()[33m;[39m
    [31m[1m>[22m[39m[90m 13 |[39m     service [33m=[39m [36mnew[39m service()[33m;[39m
     [90m    |[39m               [31m[1m^[22m[39m
     [90m 14 |[39m   })[33m;[39m
     [90m 15 |[39m
     [90m 16 |[39m   describe([32m'Initialization'[39m[33m,[39m () [33m=>[39m {[0m

      at Object.<anonymous> (src/lib/conversations/__tests__/service.test.ts:13:15)

  ‚óè service ‚Ä∫ Integration ‚Ä∫ should integrate with external services

    TypeError: service is not a constructor

    [0m [90m 11 |[39m   beforeEach(() [33m=>[39m {
     [90m 12 |[39m     jest[33m.[39mclearAllMocks()[33m;[39m
    [31m[1m>[22m[39m[90m 13 |[39m     service [33m=[39m [36mnew[39m service()[33m;[39m
     [90m    |[39m               [31m[1m^[22m[39m
     [90m 14 |[39m   })[33m;[39m
     [90m 15 |[39m
     [90m 16 |[39m   describe([32m'Initialization'[39m[33m,[39m () [33m=>[39m {[0m

      at Object.<anonymous> (src/lib/conversations/__tests__/service.test.ts:13:15)

  console.log
    [dotenv@17.0.1] injecting env (31) from .env.test ‚Äì [tip] encrypt with dotenvx: https://dotenvx.com

      at _log (node_modules/dotenv/lib/main.js:102:11)

FAIL src/lib/ai/__tests__/service.test.ts
  service
    Initialization
      ‚úï should initialize correctly
      ‚úï should handle configuration options
    Core Functionality
      ‚úï should perform primary function correctly
      ‚úï should handle concurrent operations (1 ms)
    Error Handling
      ‚úï should handle network errors gracefully
      ‚úï should handle invalid input
      ‚úï should retry failed operations (1 ms)
    Security
      ‚úï should sanitize user input
      ‚úï should handle authentication correctly
    Performance
      ‚úï should cache results appropriately
      ‚úï should handle rate limiting
    Integration
      ‚úï should integrate with external services

  ‚óè service ‚Ä∫ Initialization ‚Ä∫ should initialize correctly

    TypeError: service is not a constructor

    [0m [90m 11 |[39m   beforeEach(() [33m=>[39m {
     [90m 12 |[39m     jest[33m.[39mclearAllMocks()[33m;[39m
    [31m[1m>[22m[39m[90m 13 |[39m     service [33m=[39m [36mnew[39m service()[33m;[39m
     [90m    |[39m               [31m[1m^[22m[39m
     [90m 14 |[39m   })[33m;[39m
     [90m 15 |[39m
     [90m 16 |[39m   describe([32m'Initialization'[39m[33m,[39m () [33m=>[39m {[0m

      at Object.<anonymous> (src/lib/ai/__tests__/service.test.ts:13:15)

  ‚óè service ‚Ä∫ Initialization ‚Ä∫ should handle configuration options

    TypeError: service is not a constructor

    [0m [90m 11 |[39m   beforeEach(() [33m=>[39m {
     [90m 12 |[39m     jest[33m.[39mclearAllMocks()[33m;[39m
    [31m[1m>[22m[39m[90m 13 |[39m     service [33m=[39m [36mnew[39m service()[33m;[39m
     [90m    |[39m               [31m[1m^[22m[39m
     [90m 14 |[39m   })[33m;[39m
     [90m 15 |[39m
     [90m 16 |[39m   describe([32m'Initialization'[39m[33m,[39m () [33m=>[39m {[0m

      at Object.<anonymous> (src/lib/ai/__tests__/service.test.ts:13:15)

  ‚óè service ‚Ä∫ Core Functionality ‚Ä∫ should perform primary function correctly

    TypeError: service is not a constructor

    [0m [90m 11 |[39m   beforeEach(() [33m=>[39m {
     [90m 12 |[39m     jest[33m.[39mclearAllMocks()[33m;[39m
    [31m[1m>[22m[39m[90m 13 |[39m     service [33m=[39m [36mnew[39m service()[33m;[39m
     [90m    |[39m               [31m[1m^[22m[39m
     [90m 14 |[39m   })[33m;[39m
     [90m 15 |[39m
     [90m 16 |[39m   describe([32m'Initialization'[39m[33m,[39m () [33m=>[39m {[0m

      at Object.<anonymous> (src/lib/ai/__tests__/service.test.ts:13:15)

  ‚óè service ‚Ä∫ Core Functionality ‚Ä∫ should handle concurrent operations

    TypeError: service is not a constructor

    [0m [90m 11 |[39m   beforeEach(() [33m=>[39m {
     [90m 12 |[39m     jest[33m.[39mclearAllMocks()[33m;[39m
    [31m[1m>[22m[39m[90m 13 |[39m     service [33m=[39m [36mnew[39m service()[33m;[39m
     [90m    |[39m               [31m[1m^[22m[39m
     [90m 14 |[39m   })[33m;[39m
     [90m 15 |[39m
     [90m 16 |[39m   describe([32m'Initialization'[39m[33m,[39m () [33m=>[39m {[0m

      at Object.<anonymous> (src/lib/ai/__tests__/service.test.ts:13:15)

  ‚óè service ‚Ä∫ Error Handling ‚Ä∫ should handle network errors gracefully

    TypeError: service is not a constructor

    [0m [90m 11 |[39m   beforeEach(() [33m=>[39m {
     [90m 12 |[39m     jest[33m.[39mclearAllMocks()[33m;[39m
    [31m[1m>[22m[39m[90m 13 |[39m     service [33m=[39m [36mnew[39m service()[33m;[39m
     [90m    |[39m               [31m[1m^[22m[39m
     [90m 14 |[39m   })[33m;[39m
     [90m 15 |[39m
     [90m 16 |[39m   describe([32m'Initialization'[39m[33m,[39m () [33m=>[39m {[0m

      at Object.<anonymous> (src/lib/ai/__tests__/service.test.ts:13:15)

  ‚óè service ‚Ä∫ Error Handling ‚Ä∫ should handle invalid input

    TypeError: service is not a constructor

    [0m [90m 11 |[39m   beforeEach(() [33m=>[39m {
     [90m 12 |[39m     jest[33m.[39mclearAllMocks()[33m;[39m
    [31m[1m>[22m[39m[90m 13 |[39m     service [33m=[39m [36mnew[39m service()[33m;[39m
     [90m    |[39m               [31m[1m^[22m[39m
     [90m 14 |[39m   })[33m;[39m
     [90m 15 |[39m
     [90m 16 |[39m   describe([32m'Initialization'[39m[33m,[39m () [33m=>[39m {[0m

      at Object.<anonymous> (src/lib/ai/__tests__/service.test.ts:13:15)

  ‚óè service ‚Ä∫ Error Handling ‚Ä∫ should retry failed operations

    TypeError: service is not a constructor

    [0m [90m 11 |[39m   beforeEach(() [33m=>[39m {
     [90m 12 |[39m     jest[33m.[39mclearAllMocks()[33m;[39m
    [31m[1m>[22m[39m[90m 13 |[39m     service [33m=[39m [36mnew[39m service()[33m;[39m
     [90m    |[39m               [31m[1m^[22m[39m
     [90m 14 |[39m   })[33m;[39m
     [90m 15 |[39m
     [90m 16 |[39m   describe([32m'Initialization'[39m[33m,[39m () [33m=>[39m {[0m

      at Object.<anonymous> (src/lib/ai/__tests__/service.test.ts:13:15)

  ‚óè service ‚Ä∫ Security ‚Ä∫ should sanitize user input

    TypeError: service is not a constructor

    [0m [90m 11 |[39m   beforeEach(() [33m=>[39m {
     [90m 12 |[39m     jest[33m.[39mclearAllMocks()[33m;[39m
    [31m[1m>[22m[39m[90m 13 |[39m     service [33m=[39m [36mnew[39m service()[33m;[39m
     [90m    |[39m               [31m[1m^[22m[39m
     [90m 14 |[39m   })[33m;[39m
     [90m 15 |[39m
     [90m 16 |[39m   describe([32m'Initialization'[39m[33m,[39m () [33m=>[39m {[0m

      at Object.<anonymous> (src/lib/ai/__tests__/service.test.ts:13:15)

  ‚óè service ‚Ä∫ Security ‚Ä∫ should handle authentication correctly

    TypeError: service is not a constructor

    [0m [90m 11 |[39m   beforeEach(() [33m=>[39m {
     [90m 12 |[39m     jest[33m.[39mclearAllMocks()[33m;[39m
    [31m[1m>[22m[39m[90m 13 |[39m     service [33m=[39m [36mnew[39m service()[33m;[39m
     [90m    |[39m               [31m[1m^[22m[39m
     [90m 14 |[39m   })[33m;[39m
     [90m 15 |[39m
     [90m 16 |[39m   describe([32m'Initialization'[39m[33m,[39m () [33m=>[39m {[0m

      at Object.<anonymous> (src/lib/ai/__tests__/service.test.ts:13:15)

  ‚óè service ‚Ä∫ Performance ‚Ä∫ should cache results appropriately

    TypeError: service is not a constructor

    [0m [90m 11 |[39m   beforeEach(() [33m=>[39m {
     [90m 12 |[39m     jest[33m.[39mclearAllMocks()[33m;[39m
    [31m[1m>[22m[39m[90m 13 |[39m     service [33m=[39m [36mnew[39m service()[33m;[39m
     [90m    |[39m               [31m[1m^[22m[39m
     [90m 14 |[39m   })[33m;[39m
     [90m 15 |[39m
     [90m 16 |[39m   describe([32m'Initialization'[39m[33m,[39m () [33m=>[39m {[0m

      at Object.<anonymous> (src/lib/ai/__tests__/service.test.ts:13:15)

  ‚óè service ‚Ä∫ Performance ‚Ä∫ should handle rate limiting

    TypeError: service is not a constructor

    [0m [90m 11 |[39m   beforeEach(() [33m=>[39m {
     [90m 12 |[39m     jest[33m.[39mclearAllMocks()[33m;[39m
    [31m[1m>[22m[39m[90m 13 |[39m     service [33m=[39m [36mnew[39m service()[33m;[39m
     [90m    |[39m               [31m[1m^[22m[39m
     [90m 14 |[39m   })[33m;[39m
     [90m 15 |[39m
     [90m 16 |[39m   describe([32m'Initialization'[39m[33m,[39m () [33m=>[39m {[0m

      at Object.<anonymous> (src/lib/ai/__tests__/service.test.ts:13:15)

  ‚óè service ‚Ä∫ Integration ‚Ä∫ should integrate with external services

    TypeError: service is not a constructor

    [0m [90m 11 |[39m   beforeEach(() [33m=>[39m {
     [90m 12 |[39m     jest[33m.[39mclearAllMocks()[33m;[39m
    [31m[1m>[22m[39m[90m 13 |[39m     service [33m=[39m [36mnew[39m service()[33m;[39m
     [90m    |[39m               [31m[1m^[22m[39m
     [90m 14 |[39m   })[33m;[39m
     [90m 15 |[39m
     [90m 16 |[39m   describe([32m'Initialization'[39m[33m,[39m () [33m=>[39m {[0m

      at Object.<anonymous> (src/lib/ai/__tests__/service.test.ts:13:15)

  console.log
    [dotenv@17.0.1] injecting env (31) from .env.test ‚Äì [tip] encrypt with dotenvx: https://dotenvx.com

      at _log (node_modules/dotenv/lib/main.js:102:11)

FAIL src/lib/performance/__tests__/optimize-real.test.ts
  Performance Optimization Utils
    debounce
      ‚úì should debounce function calls (3 ms)
      ‚úì should handle multiple rapid calls (1 ms)
    throttle
      ‚úì should throttle function calls (2 ms)
    memoize
      ‚úì should cache function results (2 ms)
      ‚úì should use custom resolver (1 ms)
    whenIdle
      ‚úï should execute callback when idle (2 ms)
      ‚úì should fallback to setTimeout (1 ms)

  ‚óè Performance Optimization Utils ‚Ä∫ whenIdle ‚Ä∫ should execute callback when idle

    expect(jest.fn()).toHaveBeenCalled()

    Expected number of calls: >= 1
    Received number of calls:    0

    [0m [90m 108 |[39m       
     [90m 109 |[39m       whenIdle(callback)[33m;[39m
    [31m[1m>[22m[39m[90m 110 |[39m       expect(callback)[33m.[39mtoHaveBeenCalled()[33m;[39m
     [90m     |[39m                        [31m[1m^[22m[39m
     [90m 111 |[39m       
     [90m 112 |[39m       [36mdelete[39m (global [36mas[39m any)[33m.[39mwindow[33m;[39m
     [90m 113 |[39m     })[33m;[39m[0m

      at Object.toHaveBeenCalled (src/lib/performance/__tests__/optimize-real.test.ts:110:24)

  console.log
    [dotenv@17.0.1] injecting env (31) from .env.test ‚Äì [tip] encrypt with dotenvx: https://dotenvx.com

      at _log (node_modules/dotenv/lib/main.js:102:11)

FAIL src/lib/security/encryption/__tests__/service.test.ts
  service
    Initialization
      ‚úï should initialize correctly (1 ms)
      ‚úï should handle configuration options (1 ms)
    Core Functionality
      ‚úï should perform primary function correctly
      ‚úï should handle concurrent operations
    Error Handling
      ‚úï should handle network errors gracefully
      ‚úï should handle invalid input
      ‚úï should retry failed operations (1 ms)
    Security
      ‚úï should sanitize user input
      ‚úï should handle authentication correctly
    Performance
      ‚úï should cache results appropriately (1 ms)
      ‚úï should handle rate limiting
    Integration
      ‚úï should integrate with external services

  ‚óè service ‚Ä∫ Initialization ‚Ä∫ should initialize correctly

    TypeError: service is not a constructor

    [0m [90m 11 |[39m   beforeEach(() [33m=>[39m {
     [90m 12 |[39m     jest[33m.[39mclearAllMocks()[33m;[39m
    [31m[1m>[22m[39m[90m 13 |[39m     service [33m=[39m [36mnew[39m service()[33m;[39m
     [90m    |[39m               [31m[1m^[22m[39m
     [90m 14 |[39m   })[33m;[39m
     [90m 15 |[39m
     [90m 16 |[39m   describe([32m'Initialization'[39m[33m,[39m () [33m=>[39m {[0m

      at Object.<anonymous> (src/lib/security/encryption/__tests__/service.test.ts:13:15)

  ‚óè service ‚Ä∫ Initialization ‚Ä∫ should handle configuration options

    TypeError: service is not a constructor

    [0m [90m 11 |[39m   beforeEach(() [33m=>[39m {
     [90m 12 |[39m     jest[33m.[39mclearAllMocks()[33m;[39m
    [31m[1m>[22m[39m[90m 13 |[39m     service [33m=[39m [36mnew[39m service()[33m;[39m
     [90m    |[39m               [31m[1m^[22m[39m
     [90m 14 |[39m   })[33m;[39m
     [90m 15 |[39m
     [90m 16 |[39m   describe([32m'Initialization'[39m[33m,[39m () [33m=>[39m {[0m

      at Object.<anonymous> (src/lib/security/encryption/__tests__/service.test.ts:13:15)

  ‚óè service ‚Ä∫ Core Functionality ‚Ä∫ should perform primary function correctly

    TypeError: service is not a constructor

    [0m [90m 11 |[39m   beforeEach(() [33m=>[39m {
     [90m 12 |[39m     jest[33m.[39mclearAllMocks()[33m;[39m
    [31m[1m>[22m[39m[90m 13 |[39m     service [33m=[39m [36mnew[39m service()[33m;[39m
     [90m    |[39m               [31m[1m^[22m[39m
     [90m 14 |[39m   })[33m;[39m
     [90m 15 |[39m
     [90m 16 |[39m   describe([32m'Initialization'[39m[33m,[39m () [33m=>[39m {[0m

      at Object.<anonymous> (src/lib/security/encryption/__tests__/service.test.ts:13:15)

  ‚óè service ‚Ä∫ Core Functionality ‚Ä∫ should handle concurrent operations

    TypeError: service is not a constructor

    [0m [90m 11 |[39m   beforeEach(() [33m=>[39m {
     [90m 12 |[39m     jest[33m.[39mclearAllMocks()[33m;[39m
    [31m[1m>[22m[39m[90m 13 |[39m     service [33m=[39m [36mnew[39m service()[33m;[39m
     [90m    |[39m               [31m[1m^[22m[39m
     [90m 14 |[39m   })[33m;[39m
     [90m 15 |[39m
     [90m 16 |[39m   describe([32m'Initialization'[39m[33m,[39m () [33m=>[39m {[0m

      at Object.<anonymous> (src/lib/security/encryption/__tests__/service.test.ts:13:15)

  ‚óè service ‚Ä∫ Error Handling ‚Ä∫ should handle network errors gracefully

    TypeError: service is not a constructor

    [0m [90m 11 |[39m   beforeEach(() [33m=>[39m {
     [90m 12 |[39m     jest[33m.[39mclearAllMocks()[33m;[39m
    [31m[1m>[22m[39m[90m 13 |[39m     service [33m=[39m [36mnew[39m service()[33m;[39m
     [90m    |[39m               [31m[1m^[22m[39m
     [90m 14 |[39m   })[33m;[39m
     [90m 15 |[39m
     [90m 16 |[39m   describe([32m'Initialization'[39m[33m,[39m () [33m=>[39m {[0m

      at Object.<anonymous> (src/lib/security/encryption/__tests__/service.test.ts:13:15)

  ‚óè service ‚Ä∫ Error Handling ‚Ä∫ should handle invalid input

    TypeError: service is not a constructor

    [0m [90m 11 |[39m   beforeEach(() [33m=>[39m {
     [90m 12 |[39m     jest[33m.[39mclearAllMocks()[33m;[39m
    [31m[1m>[22m[39m[90m 13 |[39m     service [33m=[39m [36mnew[39m service()[33m;[39m
     [90m    |[39m               [31m[1m^[22m[39m
     [90m 14 |[39m   })[33m;[39m
     [90m 15 |[39m
     [90m 16 |[39m   describe([32m'Initialization'[39m[33m,[39m () [33m=>[39m {[0m

      at Object.<anonymous> (src/lib/security/encryption/__tests__/service.test.ts:13:15)

  ‚óè service ‚Ä∫ Error Handling ‚Ä∫ should retry failed operations

    TypeError: service is not a constructor

    [0m [90m 11 |[39m   beforeEach(() [33m=>[39m {
     [90m 12 |[39m     jest[33m.[39mclearAllMocks()[33m;[39m
    [31m[1m>[22m[39m[90m 13 |[39m     service [33m=[39m [36mnew[39m service()[33m;[39m
     [90m    |[39m               [31m[1m^[22m[39m
     [90m 14 |[39m   })[33m;[39m
     [90m 15 |[39m
     [90m 16 |[39m   describe([32m'Initialization'[39m[33m,[39m () [33m=>[39m {[0m

      at Object.<anonymous> (src/lib/security/encryption/__tests__/service.test.ts:13:15)

  ‚óè service ‚Ä∫ Security ‚Ä∫ should sanitize user input

    TypeError: service is not a constructor

    [0m [90m 11 |[39m   beforeEach(() [33m=>[39m {
     [90m 12 |[39m     jest[33m.[39mclearAllMocks()[33m;[39m
    [31m[1m>[22m[39m[90m 13 |[39m     service [33m=[39m [36mnew[39m service()[33m;[39m
     [90m    |[39m               [31m[1m^[22m[39m
     [90m 14 |[39m   })[33m;[39m
     [90m 15 |[39m
     [90m 16 |[39m   describe([32m'Initialization'[39m[33m,[39m () [33m=>[39m {[0m

      at Object.<anonymous> (src/lib/security/encryption/__tests__/service.test.ts:13:15)

  ‚óè service ‚Ä∫ Security ‚Ä∫ should handle authentication correctly

    TypeError: service is not a constructor

    [0m [90m 11 |[39m   beforeEach(() [33m=>[39m {
     [90m 12 |[39m     jest[33m.[39mclearAllMocks()[33m;[39m
    [31m[1m>[22m[39m[90m 13 |[39m     service [33m=[39m [36mnew[39m service()[33m;[39m
     [90m    |[39m               [31m[1m^[22m[39m
     [90m 14 |[39m   })[33m;[39m
     [90m 15 |[39m
     [90m 16 |[39m   describe([32m'Initialization'[39m[33m,[39m () [33m=>[39m {[0m

      at Object.<anonymous> (src/lib/security/encryption/__tests__/service.test.ts:13:15)

  ‚óè service ‚Ä∫ Performance ‚Ä∫ should cache results appropriately

    TypeError: service is not a constructor

    [0m [90m 11 |[39m   beforeEach(() [33m=>[39m {
     [90m 12 |[39m     jest[33m.[39mclearAllMocks()[33m;[39m
    [31m[1m>[22m[39m[90m 13 |[39m     service [33m=[39m [36mnew[39m service()[33m;[39m
     [90m    |[39m               [31m[1m^[22m[39m
     [90m 14 |[39m   })[33m;[39m
     [90m 15 |[39m
     [90m 16 |[39m   describe([32m'Initialization'[39m[33m,[39m () [33m=>[39m {[0m

      at Object.<anonymous> (src/lib/security/encryption/__tests__/service.test.ts:13:15)

  ‚óè service ‚Ä∫ Performance ‚Ä∫ should handle rate limiting

    TypeError: service is not a constructor

    [0m [90m 11 |[39m   beforeEach(() [33m=>[39m {
     [90m 12 |[39m     jest[33m.[39mclearAllMocks()[33m;[39m
    [31m[1m>[22m[39m[90m 13 |[39m     service [33m=[39m [36mnew[39m service()[33m;[39m
     [90m    |[39m               [31m[1m^[22m[39m
     [90m 14 |[39m   })[33m;[39m
     [90m 15 |[39m
     [90m 16 |[39m   describe([32m'Initialization'[39m[33m,[39m () [33m=>[39m {[0m

      at Object.<anonymous> (src/lib/security/encryption/__tests__/service.test.ts:13:15)

  ‚óè service ‚Ä∫ Integration ‚Ä∫ should integrate with external services

    TypeError: service is not a constructor

    [0m [90m 11 |[39m   beforeEach(() [33m=>[39m {
     [90m 12 |[39m     jest[33m.[39mclearAllMocks()[33m;[39m
    [31m[1m>[22m[39m[90m 13 |[39m     service [33m=[39m [36mnew[39m service()[33m;[39m
     [90m    |[39m               [31m[1m^[22m[39m
     [90m 14 |[39m   })[33m;[39m
     [90m 15 |[39m
     [90m 16 |[39m   describe([32m'Initialization'[39m[33m,[39m () [33m=>[39m {[0m

      at Object.<anonymous> (src/lib/security/encryption/__tests__/service.test.ts:13:15)

  console.log
    [dotenv@17.0.1] injecting env (31) from .env.test ‚Äì [tip] encrypt with dotenvx: https://dotenvx.com

      at _log (node_modules/dotenv/lib/main.js:102:11)

FAIL src/lib/auth/recovery/__tests__/service.test.ts
  service
    Initialization
      ‚úï should initialize correctly
      ‚úï should handle configuration options (1 ms)
    Core Functionality
      ‚úï should perform primary function correctly
      ‚úï should handle concurrent operations
    Error Handling
      ‚úï should handle network errors gracefully (6 ms)
      ‚úï should handle invalid input
      ‚úï should retry failed operations (1 ms)
    Security
      ‚úï should sanitize user input
      ‚úï should handle authentication correctly
    Performance
      ‚úï should cache results appropriately
      ‚úï should handle rate limiting
    Integration
      ‚úï should integrate with external services

  ‚óè service ‚Ä∫ Initialization ‚Ä∫ should initialize correctly

    TypeError: service is not a constructor

    [0m [90m 11 |[39m   beforeEach(() [33m=>[39m {
     [90m 12 |[39m     jest[33m.[39mclearAllMocks()[33m;[39m
    [31m[1m>[22m[39m[90m 13 |[39m     service [33m=[39m [36mnew[39m service()[33m;[39m
     [90m    |[39m               [31m[1m^[22m[39m
     [90m 14 |[39m   })[33m;[39m
     [90m 15 |[39m
     [90m 16 |[39m   describe([32m'Initialization'[39m[33m,[39m () [33m=>[39m {[0m

      at Object.<anonymous> (src/lib/auth/recovery/__tests__/service.test.ts:13:15)

  ‚óè service ‚Ä∫ Initialization ‚Ä∫ should handle configuration options

    TypeError: service is not a constructor

    [0m [90m 11 |[39m   beforeEach(() [33m=>[39m {
     [90m 12 |[39m     jest[33m.[39mclearAllMocks()[33m;[39m
    [31m[1m>[22m[39m[90m 13 |[39m     service [33m=[39m [36mnew[39m service()[33m;[39m
     [90m    |[39m               [31m[1m^[22m[39m
     [90m 14 |[39m   })[33m;[39m
     [90m 15 |[39m
     [90m 16 |[39m   describe([32m'Initialization'[39m[33m,[39m () [33m=>[39m {[0m

      at Object.<anonymous> (src/lib/auth/recovery/__tests__/service.test.ts:13:15)

  ‚óè service ‚Ä∫ Core Functionality ‚Ä∫ should perform primary function correctly

    TypeError: service is not a constructor

    [0m [90m 11 |[39m   beforeEach(() [33m=>[39m {
     [90m 12 |[39m     jest[33m.[39mclearAllMocks()[33m;[39m
    [31m[1m>[22m[39m[90m 13 |[39m     service [33m=[39m [36mnew[39m service()[33m;[39m
     [90m    |[39m               [31m[1m^[22m[39m
     [90m 14 |[39m   })[33m;[39m
     [90m 15 |[39m
     [90m 16 |[39m   describe([32m'Initialization'[39m[33m,[39m () [33m=>[39m {[0m

      at Object.<anonymous> (src/lib/auth/recovery/__tests__/service.test.ts:13:15)

  ‚óè service ‚Ä∫ Core Functionality ‚Ä∫ should handle concurrent operations

    TypeError: service is not a constructor

    [0m [90m 11 |[39m   beforeEach(() [33m=>[39m {
     [90m 12 |[39m     jest[33m.[39mclearAllMocks()[33m;[39m
    [31m[1m>[22m[39m[90m 13 |[39m     service [33m=[39m [36mnew[39m service()[33m;[39m
     [90m    |[39m               [31m[1m^[22m[39m
     [90m 14 |[39m   })[33m;[39m
     [90m 15 |[39m
     [90m 16 |[39m   describe([32m'Initialization'[39m[33m,[39m () [33m=>[39m {[0m

      at Object.<anonymous> (src/lib/auth/recovery/__tests__/service.test.ts:13:15)

  ‚óè service ‚Ä∫ Error Handling ‚Ä∫ should handle network errors gracefully

    TypeError: service is not a constructor

    [0m [90m 11 |[39m   beforeEach(() [33m=>[39m {
     [90m 12 |[39m     jest[33m.[39mclearAllMocks()[33m;[39m
    [31m[1m>[22m[39m[90m 13 |[39m     service [33m=[39m [36mnew[39m service()[33m;[39m
     [90m    |[39m               [31m[1m^[22m[39m
     [90m 14 |[39m   })[33m;[39m
     [90m 15 |[39m
     [90m 16 |[39m   describe([32m'Initialization'[39m[33m,[39m () [33m=>[39m {[0m

      at Object.<anonymous> (src/lib/auth/recovery/__tests__/service.test.ts:13:15)

  ‚óè service ‚Ä∫ Error Handling ‚Ä∫ should handle invalid input

    TypeError: service is not a constructor

    [0m [90m 11 |[39m   beforeEach(() [33m=>[39m {
     [90m 12 |[39m     jest[33m.[39mclearAllMocks()[33m;[39m
    [31m[1m>[22m[39m[90m 13 |[39m     service [33m=[39m [36mnew[39m service()[33m;[39m
     [90m    |[39m               [31m[1m^[22m[39m
     [90m 14 |[39m   })[33m;[39m
     [90m 15 |[39m
     [90m 16 |[39m   describe([32m'Initialization'[39m[33m,[39m () [33m=>[39m {[0m

      at Object.<anonymous> (src/lib/auth/recovery/__tests__/service.test.ts:13:15)

  ‚óè service ‚Ä∫ Error Handling ‚Ä∫ should retry failed operations

    TypeError: service is not a constructor

    [0m [90m 11 |[39m   beforeEach(() [33m=>[39m {
     [90m 12 |[39m     jest[33m.[39mclearAllMocks()[33m;[39m
    [31m[1m>[22m[39m[90m 13 |[39m     service [33m=[39m [36mnew[39m service()[33m;[39m
     [90m    |[39m               [31m[1m^[22m[39m
     [90m 14 |[39m   })[33m;[39m
     [90m 15 |[39m
     [90m 16 |[39m   describe([32m'Initialization'[39m[33m,[39m () [33m=>[39m {[0m

      at Object.<anonymous> (src/lib/auth/recovery/__tests__/service.test.ts:13:15)

  ‚óè service ‚Ä∫ Security ‚Ä∫ should sanitize user input

    TypeError: service is not a constructor

    [0m [90m 11 |[39m   beforeEach(() [33m=>[39m {
     [90m 12 |[39m     jest[33m.[39mclearAllMocks()[33m;[39m
    [31m[1m>[22m[39m[90m 13 |[39m     service [33m=[39m [36mnew[39m service()[33m;[39m
     [90m    |[39m               [31m[1m^[22m[39m
     [90m 14 |[39m   })[33m;[39m
     [90m 15 |[39m
     [90m 16 |[39m   describe([32m'Initialization'[39m[33m,[39m () [33m=>[39m {[0m

      at Object.<anonymous> (src/lib/auth/recovery/__tests__/service.test.ts:13:15)

  ‚óè service ‚Ä∫ Security ‚Ä∫ should handle authentication correctly

    TypeError: service is not a constructor

    [0m [90m 11 |[39m   beforeEach(() [33m=>[39m {
     [90m 12 |[39m     jest[33m.[39mclearAllMocks()[33m;[39m
    [31m[1m>[22m[39m[90m 13 |[39m     service [33m=[39m [36mnew[39m service()[33m;[39m
     [90m    |[39m               [31m[1m^[22m[39m
     [90m 14 |[39m   })[33m;[39m
     [90m 15 |[39m
     [90m 16 |[39m   describe([32m'Initialization'[39m[33m,[39m () [33m=>[39m {[0m

      at Object.<anonymous> (src/lib/auth/recovery/__tests__/service.test.ts:13:15)

  ‚óè service ‚Ä∫ Performance ‚Ä∫ should cache results appropriately

    TypeError: service is not a constructor

    [0m [90m 11 |[39m   beforeEach(() [33m=>[39m {
     [90m 12 |[39m     jest[33m.[39mclearAllMocks()[33m;[39m
    [31m[1m>[22m[39m[90m 13 |[39m     service [33m=[39m [36mnew[39m service()[33m;[39m
     [90m    |[39m               [31m[1m^[22m[39m
     [90m 14 |[39m   })[33m;[39m
     [90m 15 |[39m
     [90m 16 |[39m   describe([32m'Initialization'[39m[33m,[39m () [33m=>[39m {[0m

      at Object.<anonymous> (src/lib/auth/recovery/__tests__/service.test.ts:13:15)

  ‚óè service ‚Ä∫ Performance ‚Ä∫ should handle rate limiting

    TypeError: service is not a constructor

    [0m [90m 11 |[39m   beforeEach(() [33m=>[39m {
     [90m 12 |[39m     jest[33m.[39mclearAllMocks()[33m;[39m
    [31m[1m>[22m[39m[90m 13 |[39m     service [33m=[39m [36mnew[39m service()[33m;[39m
     [90m    |[39m               [31m[1m^[22m[39m
     [90m 14 |[39m   })[33m;[39m
     [90m 15 |[39m
     [90m 16 |[39m   describe([32m'Initialization'[39m[33m,[39m () [33m=>[39m {[0m

      at Object.<anonymous> (src/lib/auth/recovery/__tests__/service.test.ts:13:15)

  ‚óè service ‚Ä∫ Integration ‚Ä∫ should integrate with external services

    TypeError: service is not a constructor

    [0m [90m 11 |[39m   beforeEach(() [33m=>[39m {
     [90m 12 |[39m     jest[33m.[39mclearAllMocks()[33m;[39m
    [31m[1m>[22m[39m[90m 13 |[39m     service [33m=[39m [36mnew[39m service()[33m;[39m
     [90m    |[39m               [31m[1m^[22m[39m
     [90m 14 |[39m   })[33m;[39m
     [90m 15 |[39m
     [90m 16 |[39m   describe([32m'Initialization'[39m[33m,[39m () [33m=>[39m {[0m

      at Object.<anonymous> (src/lib/auth/recovery/__tests__/service.test.ts:13:15)

  console.log
    [dotenv@17.0.1] injecting env (31) from .env.test ‚Äì [tip] encrypt with dotenvx: https://dotenvx.com

      at _log (node_modules/dotenv/lib/main.js:102:11)

FAIL src/lib/audit/__tests__/service.test.ts
  service
    Initialization
      ‚úï should initialize correctly (1 ms)
      ‚úï should handle configuration options
    Core Functionality
      ‚úï should perform primary function correctly
      ‚úï should handle concurrent operations
    Error Handling
      ‚úï should handle network errors gracefully
      ‚úï should handle invalid input
      ‚úï should retry failed operations (1 ms)
    Security
      ‚úï should sanitize user input
      ‚úï should handle authentication correctly
    Performance
      ‚úï should cache results appropriately (1 ms)
      ‚úï should handle rate limiting (1 ms)
    Integration
      ‚úï should integrate with external services

  ‚óè service ‚Ä∫ Initialization ‚Ä∫ should initialize correctly

    TypeError: service is not a constructor

    [0m [90m 11 |[39m   beforeEach(() [33m=>[39m {
     [90m 12 |[39m     jest[33m.[39mclearAllMocks()[33m;[39m
    [31m[1m>[22m[39m[90m 13 |[39m     service [33m=[39m [36mnew[39m service()[33m;[39m
     [90m    |[39m               [31m[1m^[22m[39m
     [90m 14 |[39m   })[33m;[39m
     [90m 15 |[39m
     [90m 16 |[39m   describe([32m'Initialization'[39m[33m,[39m () [33m=>[39m {[0m

      at Object.<anonymous> (src/lib/audit/__tests__/service.test.ts:13:15)

  ‚óè service ‚Ä∫ Initialization ‚Ä∫ should handle configuration options

    TypeError: service is not a constructor

    [0m [90m 11 |[39m   beforeEach(() [33m=>[39m {
     [90m 12 |[39m     jest[33m.[39mclearAllMocks()[33m;[39m
    [31m[1m>[22m[39m[90m 13 |[39m     service [33m=[39m [36mnew[39m service()[33m;[39m
     [90m    |[39m               [31m[1m^[22m[39m
     [90m 14 |[39m   })[33m;[39m
     [90m 15 |[39m
     [90m 16 |[39m   describe([32m'Initialization'[39m[33m,[39m () [33m=>[39m {[0m

      at Object.<anonymous> (src/lib/audit/__tests__/service.test.ts:13:15)

  ‚óè service ‚Ä∫ Core Functionality ‚Ä∫ should perform primary function correctly

    TypeError: service is not a constructor

    [0m [90m 11 |[39m   beforeEach(() [33m=>[39m {
     [90m 12 |[39m     jest[33m.[39mclearAllMocks()[33m;[39m
    [31m[1m>[22m[39m[90m 13 |[39m     service [33m=[39m [36mnew[39m service()[33m;[39m
     [90m    |[39m               [31m[1m^[22m[39m
     [90m 14 |[39m   })[33m;[39m
     [90m 15 |[39m
     [90m 16 |[39m   describe([32m'Initialization'[39m[33m,[39m () [33m=>[39m {[0m

      at Object.<anonymous> (src/lib/audit/__tests__/service.test.ts:13:15)

  ‚óè service ‚Ä∫ Core Functionality ‚Ä∫ should handle concurrent operations

    TypeError: service is not a constructor

    [0m [90m 11 |[39m   beforeEach(() [33m=>[39m {
     [90m 12 |[39m     jest[33m.[39mclearAllMocks()[33m;[39m
    [31m[1m>[22m[39m[90m 13 |[39m     service [33m=[39m [36mnew[39m service()[33m;[39m
     [90m    |[39m               [31m[1m^[22m[39m
     [90m 14 |[39m   })[33m;[39m
     [90m 15 |[39m
     [90m 16 |[39m   describe([32m'Initialization'[39m[33m,[39m () [33m=>[39m {[0m

      at Object.<anonymous> (src/lib/audit/__tests__/service.test.ts:13:15)

  ‚óè service ‚Ä∫ Error Handling ‚Ä∫ should handle network errors gracefully

    TypeError: service is not a constructor

    [0m [90m 11 |[39m   beforeEach(() [33m=>[39m {
     [90m 12 |[39m     jest[33m.[39mclearAllMocks()[33m;[39m
    [31m[1m>[22m[39m[90m 13 |[39m     service [33m=[39m [36mnew[39m service()[33m;[39m
     [90m    |[39m               [31m[1m^[22m[39m
     [90m 14 |[39m   })[33m;[39m
     [90m 15 |[39m
     [90m 16 |[39m   describe([32m'Initialization'[39m[33m,[39m () [33m=>[39m {[0m

      at Object.<anonymous> (src/lib/audit/__tests__/service.test.ts:13:15)

  ‚óè service ‚Ä∫ Error Handling ‚Ä∫ should handle invalid input

    TypeError: service is not a constructor

    [0m [90m 11 |[39m   beforeEach(() [33m=>[39m {
     [90m 12 |[39m     jest[33m.[39mclearAllMocks()[33m;[39m
    [31m[1m>[22m[39m[90m 13 |[39m     service [33m=[39m [36mnew[39m service()[33m;[39m
     [90m    |[39m               [31m[1m^[22m[39m
     [90m 14 |[39m   })[33m;[39m
     [90m 15 |[39m
     [90m 16 |[39m   describe([32m'Initialization'[39m[33m,[39m () [33m=>[39m {[0m

      at Object.<anonymous> (src/lib/audit/__tests__/service.test.ts:13:15)

  ‚óè service ‚Ä∫ Error Handling ‚Ä∫ should retry failed operations

    TypeError: service is not a constructor

    [0m [90m 11 |[39m   beforeEach(() [33m=>[39m {
     [90m 12 |[39m     jest[33m.[39mclearAllMocks()[33m;[39m
    [31m[1m>[22m[39m[90m 13 |[39m     service [33m=[39m [36mnew[39m service()[33m;[39m
     [90m    |[39m               [31m[1m^[22m[39m
     [90m 14 |[39m   })[33m;[39m
     [90m 15 |[39m
     [90m 16 |[39m   describe([32m'Initialization'[39m[33m,[39m () [33m=>[39m {[0m

      at Object.<anonymous> (src/lib/audit/__tests__/service.test.ts:13:15)

  ‚óè service ‚Ä∫ Security ‚Ä∫ should sanitize user input

    TypeError: service is not a constructor

    [0m [90m 11 |[39m   beforeEach(() [33m=>[39m {
     [90m 12 |[39m     jest[33m.[39mclearAllMocks()[33m;[39m
    [31m[1m>[22m[39m[90m 13 |[39m     service [33m=[39m [36mnew[39m service()[33m;[39m
     [90m    |[39m               [31m[1m^[22m[39m
     [90m 14 |[39m   })[33m;[39m
     [90m 15 |[39m
     [90m 16 |[39m   describe([32m'Initialization'[39m[33m,[39m () [33m=>[39m {[0m

      at Object.<anonymous> (src/lib/audit/__tests__/service.test.ts:13:15)

  ‚óè service ‚Ä∫ Security ‚Ä∫ should handle authentication correctly

    TypeError: service is not a constructor

    [0m [90m 11 |[39m   beforeEach(() [33m=>[39m {
     [90m 12 |[39m     jest[33m.[39mclearAllMocks()[33m;[39m
    [31m[1m>[22m[39m[90m 13 |[39m     service [33m=[39m [36mnew[39m service()[33m;[39m
     [90m    |[39m               [31m[1m^[22m[39m
     [90m 14 |[39m   })[33m;[39m
     [90m 15 |[39m
     [90m 16 |[39m   describe([32m'Initialization'[39m[33m,[39m () [33m=>[39m {[0m

      at Object.<anonymous> (src/lib/audit/__tests__/service.test.ts:13:15)

  ‚óè service ‚Ä∫ Performance ‚Ä∫ should cache results appropriately

    TypeError: service is not a constructor

    [0m [90m 11 |[39m   beforeEach(() [33m=>[39m {
     [90m 12 |[39m     jest[33m.[39mclearAllMocks()[33m;[39m
    [31m[1m>[22m[39m[90m 13 |[39m     service [33m=[39m [36mnew[39m service()[33m;[39m
     [90m    |[39m               [31m[1m^[22m[39m
     [90m 14 |[39m   })[33m;[39m
     [90m 15 |[39m
     [90m 16 |[39m   describe([32m'Initialization'[39m[33m,[39m () [33m=>[39m {[0m

      at Object.<anonymous> (src/lib/audit/__tests__/service.test.ts:13:15)

  ‚óè service ‚Ä∫ Performance ‚Ä∫ should handle rate limiting

    TypeError: service is not a constructor

    [0m [90m 11 |[39m   beforeEach(() [33m=>[39m {
     [90m 12 |[39m     jest[33m.[39mclearAllMocks()[33m;[39m
    [31m[1m>[22m[39m[90m 13 |[39m     service [33m=[39m [36mnew[39m service()[33m;[39m
     [90m    |[39m               [31m[1m^[22m[39m
     [90m 14 |[39m   })[33m;[39m
     [90m 15 |[39m
     [90m 16 |[39m   describe([32m'Initialization'[39m[33m,[39m () [33m=>[39m {[0m

      at Object.<anonymous> (src/lib/audit/__tests__/service.test.ts:13:15)

  ‚óè service ‚Ä∫ Integration ‚Ä∫ should integrate with external services

    TypeError: service is not a constructor

    [0m [90m 11 |[39m   beforeEach(() [33m=>[39m {
     [90m 12 |[39m     jest[33m.[39mclearAllMocks()[33m;[39m
    [31m[1m>[22m[39m[90m 13 |[39m     service [33m=[39m [36mnew[39m service()[33m;[39m
     [90m    |[39m               [31m[1m^[22m[39m
     [90m 14 |[39m   })[33m;[39m
     [90m 15 |[39m
     [90m 16 |[39m   describe([32m'Initialization'[39m[33m,[39m () [33m=>[39m {[0m

      at Object.<anonymous> (src/lib/audit/__tests__/service.test.ts:13:15)

  console.log
    [dotenv@17.0.1] injecting env (31) from .env.test ‚Äì [tip] encrypt with dotenvx: https://dotenvx.com

      at _log (node_modules/dotenv/lib/main.js:102:11)

FAIL src/lib/auth/mfa/__tests__/service.test.ts
  service
    Initialization
      ‚úï should initialize correctly
      ‚úï should handle configuration options (1 ms)
    Core Functionality
      ‚úï should perform primary function correctly
      ‚úï should handle concurrent operations
    Error Handling
      ‚úï should handle network errors gracefully
      ‚úï should handle invalid input
      ‚úï should retry failed operations (1 ms)
    Security
      ‚úï should sanitize user input
      ‚úï should handle authentication correctly (1 ms)
    Performance
      ‚úï should cache results appropriately
      ‚úï should handle rate limiting (1 ms)
    Integration
      ‚úï should integrate with external services

  ‚óè service ‚Ä∫ Initialization ‚Ä∫ should initialize correctly

    TypeError: service is not a constructor

    [0m [90m 11 |[39m   beforeEach(() [33m=>[39m {
     [90m 12 |[39m     jest[33m.[39mclearAllMocks()[33m;[39m
    [31m[1m>[22m[39m[90m 13 |[39m     service [33m=[39m [36mnew[39m service()[33m;[39m
     [90m    |[39m               [31m[1m^[22m[39m
     [90m 14 |[39m   })[33m;[39m
     [90m 15 |[39m
     [90m 16 |[39m   describe([32m'Initialization'[39m[33m,[39m () [33m=>[39m {[0m

      at Object.<anonymous> (src/lib/auth/mfa/__tests__/service.test.ts:13:15)

  ‚óè service ‚Ä∫ Initialization ‚Ä∫ should handle configuration options

    TypeError: service is not a constructor

    [0m [90m 11 |[39m   beforeEach(() [33m=>[39m {
     [90m 12 |[39m     jest[33m.[39mclearAllMocks()[33m;[39m
    [31m[1m>[22m[39m[90m 13 |[39m     service [33m=[39m [36mnew[39m service()[33m;[39m
     [90m    |[39m               [31m[1m^[22m[39m
     [90m 14 |[39m   })[33m;[39m
     [90m 15 |[39m
     [90m 16 |[39m   describe([32m'Initialization'[39m[33m,[39m () [33m=>[39m {[0m

      at Object.<anonymous> (src/lib/auth/mfa/__tests__/service.test.ts:13:15)

  ‚óè service ‚Ä∫ Core Functionality ‚Ä∫ should perform primary function correctly

    TypeError: service is not a constructor

    [0m [90m 11 |[39m   beforeEach(() [33m=>[39m {
     [90m 12 |[39m     jest[33m.[39mclearAllMocks()[33m;[39m
    [31m[1m>[22m[39m[90m 13 |[39m     service [33m=[39m [36mnew[39m service()[33m;[39m
     [90m    |[39m               [31m[1m^[22m[39m
     [90m 14 |[39m   })[33m;[39m
     [90m 15 |[39m
     [90m 16 |[39m   describe([32m'Initialization'[39m[33m,[39m () [33m=>[39m {[0m

      at Object.<anonymous> (src/lib/auth/mfa/__tests__/service.test.ts:13:15)

  ‚óè service ‚Ä∫ Core Functionality ‚Ä∫ should handle concurrent operations

    TypeError: service is not a constructor

    [0m [90m 11 |[39m   beforeEach(() [33m=>[39m {
     [90m 12 |[39m     jest[33m.[39mclearAllMocks()[33m;[39m
    [31m[1m>[22m[39m[90m 13 |[39m     service [33m=[39m [36mnew[39m service()[33m;[39m
     [90m    |[39m               [31m[1m^[22m[39m
     [90m 14 |[39m   })[33m;[39m
     [90m 15 |[39m
     [90m 16 |[39m   describe([32m'Initialization'[39m[33m,[39m () [33m=>[39m {[0m

      at Object.<anonymous> (src/lib/auth/mfa/__tests__/service.test.ts:13:15)

  ‚óè service ‚Ä∫ Error Handling ‚Ä∫ should handle network errors gracefully

    TypeError: service is not a constructor

    [0m [90m 11 |[39m   beforeEach(() [33m=>[39m {
     [90m 12 |[39m     jest[33m.[39mclearAllMocks()[33m;[39m
    [31m[1m>[22m[39m[90m 13 |[39m     service [33m=[39m [36mnew[39m service()[33m;[39m
     [90m    |[39m               [31m[1m^[22m[39m
     [90m 14 |[39m   })[33m;[39m
     [90m 15 |[39m
     [90m 16 |[39m   describe([32m'Initialization'[39m[33m,[39m () [33m=>[39m {[0m

      at Object.<anonymous> (src/lib/auth/mfa/__tests__/service.test.ts:13:15)

  ‚óè service ‚Ä∫ Error Handling ‚Ä∫ should handle invalid input

    TypeError: service is not a constructor

    [0m [90m 11 |[39m   beforeEach(() [33m=>[39m {
     [90m 12 |[39m     jest[33m.[39mclearAllMocks()[33m;[39m
    [31m[1m>[22m[39m[90m 13 |[39m     service [33m=[39m [36mnew[39m service()[33m;[39m
     [90m    |[39m               [31m[1m^[22m[39m
     [90m 14 |[39m   })[33m;[39m
     [90m 15 |[39m
     [90m 16 |[39m   describe([32m'Initialization'[39m[33m,[39m () [33m=>[39m {[0m

      at Object.<anonymous> (src/lib/auth/mfa/__tests__/service.test.ts:13:15)

  ‚óè service ‚Ä∫ Error Handling ‚Ä∫ should retry failed operations

    TypeError: service is not a constructor

    [0m [90m 11 |[39m   beforeEach(() [33m=>[39m {
     [90m 12 |[39m     jest[33m.[39mclearAllMocks()[33m;[39m
    [31m[1m>[22m[39m[90m 13 |[39m     service [33m=[39m [36mnew[39m service()[33m;[39m
     [90m    |[39m               [31m[1m^[22m[39m
     [90m 14 |[39m   })[33m;[39m
     [90m 15 |[39m
     [90m 16 |[39m   describe([32m'Initialization'[39m[33m,[39m () [33m=>[39m {[0m

      at Object.<anonymous> (src/lib/auth/mfa/__tests__/service.test.ts:13:15)

  ‚óè service ‚Ä∫ Security ‚Ä∫ should sanitize user input

    TypeError: service is not a constructor

    [0m [90m 11 |[39m   beforeEach(() [33m=>[39m {
     [90m 12 |[39m     jest[33m.[39mclearAllMocks()[33m;[39m
    [31m[1m>[22m[39m[90m 13 |[39m     service [33m=[39m [36mnew[39m service()[33m;[39m
     [90m    |[39m               [31m[1m^[22m[39m
     [90m 14 |[39m   })[33m;[39m
     [90m 15 |[39m
     [90m 16 |[39m   describe([32m'Initialization'[39m[33m,[39m () [33m=>[39m {[0m

      at Object.<anonymous> (src/lib/auth/mfa/__tests__/service.test.ts:13:15)

  ‚óè service ‚Ä∫ Security ‚Ä∫ should handle authentication correctly

    TypeError: service is not a constructor

    [0m [90m 11 |[39m   beforeEach(() [33m=>[39m {
     [90m 12 |[39m     jest[33m.[39mclearAllMocks()[33m;[39m
    [31m[1m>[22m[39m[90m 13 |[39m     service [33m=[39m [36mnew[39m service()[33m;[39m
     [90m    |[39m               [31m[1m^[22m[39m
     [90m 14 |[39m   })[33m;[39m
     [90m 15 |[39m
     [90m 16 |[39m   describe([32m'Initialization'[39m[33m,[39m () [33m=>[39m {[0m

      at Object.<anonymous> (src/lib/auth/mfa/__tests__/service.test.ts:13:15)

  ‚óè service ‚Ä∫ Performance ‚Ä∫ should cache results appropriately

    TypeError: service is not a constructor

    [0m [90m 11 |[39m   beforeEach(() [33m=>[39m {
     [90m 12 |[39m     jest[33m.[39mclearAllMocks()[33m;[39m
    [31m[1m>[22m[39m[90m 13 |[39m     service [33m=[39m [36mnew[39m service()[33m;[39m
     [90m    |[39m               [31m[1m^[22m[39m
     [90m 14 |[39m   })[33m;[39m
     [90m 15 |[39m
     [90m 16 |[39m   describe([32m'Initialization'[39m[33m,[39m () [33m=>[39m {[0m

      at Object.<anonymous> (src/lib/auth/mfa/__tests__/service.test.ts:13:15)

  ‚óè service ‚Ä∫ Performance ‚Ä∫ should handle rate limiting

    TypeError: service is not a constructor

    [0m [90m 11 |[39m   beforeEach(() [33m=>[39m {
     [90m 12 |[39m     jest[33m.[39mclearAllMocks()[33m;[39m
    [31m[1m>[22m[39m[90m 13 |[39m     service [33m=[39m [36mnew[39m service()[33m;[39m
     [90m    |[39m               [31m[1m^[22m[39m
     [90m 14 |[39m   })[33m;[39m
     [90m 15 |[39m
     [90m 16 |[39m   describe([32m'Initialization'[39m[33m,[39m () [33m=>[39m {[0m

      at Object.<anonymous> (src/lib/auth/mfa/__tests__/service.test.ts:13:15)

  ‚óè service ‚Ä∫ Integration ‚Ä∫ should integrate with external services

    TypeError: service is not a constructor

    [0m [90m 11 |[39m   beforeEach(() [33m=>[39m {
     [90m 12 |[39m     jest[33m.[39mclearAllMocks()[33m;[39m
    [31m[1m>[22m[39m[90m 13 |[39m     service [33m=[39m [36mnew[39m service()[33m;[39m
     [90m    |[39m               [31m[1m^[22m[39m
     [90m 14 |[39m   })[33m;[39m
     [90m 15 |[39m
     [90m 16 |[39m   describe([32m'Initialization'[39m[33m,[39m () [33m=>[39m {[0m

      at Object.<anonymous> (src/lib/auth/mfa/__tests__/service.test.ts:13:15)

  console.log
    [dotenv@17.0.1] injecting env (31) from .env.test ‚Äì [tip] encrypt with dotenvx: https://dotenvx.com

      at _log (node_modules/dotenv/lib/main.js:102:11)

FAIL src/lib/onboarding/__tests__/service.test.ts
  service
    Initialization
      ‚úï should initialize correctly
      ‚úï should handle configuration options (1 ms)
    Core Functionality
      ‚úï should perform primary function correctly
      ‚úï should handle concurrent operations
    Error Handling
      ‚úï should handle network errors gracefully
      ‚úï should handle invalid input
      ‚úï should retry failed operations (1 ms)
    Security
      ‚úï should sanitize user input
      ‚úï should handle authentication correctly (1 ms)
    Performance
      ‚úï should cache results appropriately
      ‚úï should handle rate limiting (1 ms)
    Integration
      ‚úï should integrate with external services

  ‚óè service ‚Ä∫ Initialization ‚Ä∫ should initialize correctly

    TypeError: service is not a constructor

    [0m [90m 11 |[39m   beforeEach(() [33m=>[39m {
     [90m 12 |[39m     jest[33m.[39mclearAllMocks()[33m;[39m
    [31m[1m>[22m[39m[90m 13 |[39m     service [33m=[39m [36mnew[39m service()[33m;[39m
     [90m    |[39m               [31m[1m^[22m[39m
     [90m 14 |[39m   })[33m;[39m
     [90m 15 |[39m
     [90m 16 |[39m   describe([32m'Initialization'[39m[33m,[39m () [33m=>[39m {[0m

      at Object.<anonymous> (src/lib/onboarding/__tests__/service.test.ts:13:15)

  ‚óè service ‚Ä∫ Initialization ‚Ä∫ should handle configuration options

    TypeError: service is not a constructor

    [0m [90m 11 |[39m   beforeEach(() [33m=>[39m {
     [90m 12 |[39m     jest[33m.[39mclearAllMocks()[33m;[39m
    [31m[1m>[22m[39m[90m 13 |[39m     service [33m=[39m [36mnew[39m service()[33m;[39m
     [90m    |[39m               [31m[1m^[22m[39m
     [90m 14 |[39m   })[33m;[39m
     [90m 15 |[39m
     [90m 16 |[39m   describe([32m'Initialization'[39m[33m,[39m () [33m=>[39m {[0m

      at Object.<anonymous> (src/lib/onboarding/__tests__/service.test.ts:13:15)

  ‚óè service ‚Ä∫ Core Functionality ‚Ä∫ should perform primary function correctly

    TypeError: service is not a constructor

    [0m [90m 11 |[39m   beforeEach(() [33m=>[39m {
     [90m 12 |[39m     jest[33m.[39mclearAllMocks()[33m;[39m
    [31m[1m>[22m[39m[90m 13 |[39m     service [33m=[39m [36mnew[39m service()[33m;[39m
     [90m    |[39m               [31m[1m^[22m[39m
     [90m 14 |[39m   })[33m;[39m
     [90m 15 |[39m
     [90m 16 |[39m   describe([32m'Initialization'[39m[33m,[39m () [33m=>[39m {[0m

      at Object.<anonymous> (src/lib/onboarding/__tests__/service.test.ts:13:15)

  ‚óè service ‚Ä∫ Core Functionality ‚Ä∫ should handle concurrent operations

    TypeError: service is not a constructor

    [0m [90m 11 |[39m   beforeEach(() [33m=>[39m {
     [90m 12 |[39m     jest[33m.[39mclearAllMocks()[33m;[39m
    [31m[1m>[22m[39m[90m 13 |[39m     service [33m=[39m [36mnew[39m service()[33m;[39m
     [90m    |[39m               [31m[1m^[22m[39m
     [90m 14 |[39m   })[33m;[39m
     [90m 15 |[39m
     [90m 16 |[39m   describe([32m'Initialization'[39m[33m,[39m () [33m=>[39m {[0m

      at Object.<anonymous> (src/lib/onboarding/__tests__/service.test.ts:13:15)

  ‚óè service ‚Ä∫ Error Handling ‚Ä∫ should handle network errors gracefully

    TypeError: service is not a constructor

    [0m [90m 11 |[39m   beforeEach(() [33m=>[39m {
     [90m 12 |[39m     jest[33m.[39mclearAllMocks()[33m;[39m
    [31m[1m>[22m[39m[90m 13 |[39m     service [33m=[39m [36mnew[39m service()[33m;[39m
     [90m    |[39m               [31m[1m^[22m[39m
     [90m 14 |[39m   })[33m;[39m
     [90m 15 |[39m
     [90m 16 |[39m   describe([32m'Initialization'[39m[33m,[39m () [33m=>[39m {[0m

      at Object.<anonymous> (src/lib/onboarding/__tests__/service.test.ts:13:15)

  ‚óè service ‚Ä∫ Error Handling ‚Ä∫ should handle invalid input

    TypeError: service is not a constructor

    [0m [90m 11 |[39m   beforeEach(() [33m=>[39m {
     [90m 12 |[39m     jest[33m.[39mclearAllMocks()[33m;[39m
    [31m[1m>[22m[39m[90m 13 |[39m     service [33m=[39m [36mnew[39m service()[33m;[39m
     [90m    |[39m               [31m[1m^[22m[39m
     [90m 14 |[39m   })[33m;[39m
     [90m 15 |[39m
     [90m 16 |[39m   describe([32m'Initialization'[39m[33m,[39m () [33m=>[39m {[0m

      at Object.<anonymous> (src/lib/onboarding/__tests__/service.test.ts:13:15)

  ‚óè service ‚Ä∫ Error Handling ‚Ä∫ should retry failed operations

    TypeError: service is not a constructor

    [0m [90m 11 |[39m   beforeEach(() [33m=>[39m {
     [90m 12 |[39m     jest[33m.[39mclearAllMocks()[33m;[39m
    [31m[1m>[22m[39m[90m 13 |[39m     service [33m=[39m [36mnew[39m service()[33m;[39m
     [90m    |[39m               [31m[1m^[22m[39m
     [90m 14 |[39m   })[33m;[39m
     [90m 15 |[39m
     [90m 16 |[39m   describe([32m'Initialization'[39m[33m,[39m () [33m=>[39m {[0m

      at Object.<anonymous> (src/lib/onboarding/__tests__/service.test.ts:13:15)

  ‚óè service ‚Ä∫ Security ‚Ä∫ should sanitize user input

    TypeError: service is not a constructor

    [0m [90m 11 |[39m   beforeEach(() [33m=>[39m {
     [90m 12 |[39m     jest[33m.[39mclearAllMocks()[33m;[39m
    [31m[1m>[22m[39m[90m 13 |[39m     service [33m=[39m [36mnew[39m service()[33m;[39m
     [90m    |[39m               [31m[1m^[22m[39m
     [90m 14 |[39m   })[33m;[39m
     [90m 15 |[39m
     [90m 16 |[39m   describe([32m'Initialization'[39m[33m,[39m () [33m=>[39m {[0m

      at Object.<anonymous> (src/lib/onboarding/__tests__/service.test.ts:13:15)

  ‚óè service ‚Ä∫ Security ‚Ä∫ should handle authentication correctly

    TypeError: service is not a constructor

    [0m [90m 11 |[39m   beforeEach(() [33m=>[39m {
     [90m 12 |[39m     jest[33m.[39mclearAllMocks()[33m;[39m
    [31m[1m>[22m[39m[90m 13 |[39m     service [33m=[39m [36mnew[39m service()[33m;[39m
     [90m    |[39m               [31m[1m^[22m[39m
     [90m 14 |[39m   })[33m;[39m
     [90m 15 |[39m
     [90m 16 |[39m   describe([32m'Initialization'[39m[33m,[39m () [33m=>[39m {[0m

      at Object.<anonymous> (src/lib/onboarding/__tests__/service.test.ts:13:15)

  ‚óè service ‚Ä∫ Performance ‚Ä∫ should cache results appropriately

    TypeError: service is not a constructor

    [0m [90m 11 |[39m   beforeEach(() [33m=>[39m {
     [90m 12 |[39m     jest[33m.[39mclearAllMocks()[33m;[39m
    [31m[1m>[22m[39m[90m 13 |[39m     service [33m=[39m [36mnew[39m service()[33m;[39m
     [90m    |[39m               [31m[1m^[22m[39m
     [90m 14 |[39m   })[33m;[39m
     [90m 15 |[39m
     [90m 16 |[39m   describe([32m'Initialization'[39m[33m,[39m () [33m=>[39m {[0m

      at Object.<anonymous> (src/lib/onboarding/__tests__/service.test.ts:13:15)

  ‚óè service ‚Ä∫ Performance ‚Ä∫ should handle rate limiting

    TypeError: service is not a constructor

    [0m [90m 11 |[39m   beforeEach(() [33m=>[39m {
     [90m 12 |[39m     jest[33m.[39mclearAllMocks()[33m;[39m
    [31m[1m>[22m[39m[90m 13 |[39m     service [33m=[39m [36mnew[39m service()[33m;[39m
     [90m    |[39m               [31m[1m^[22m[39m
     [90m 14 |[39m   })[33m;[39m
     [90m 15 |[39m
     [90m 16 |[39m   describe([32m'Initialization'[39m[33m,[39m () [33m=>[39m {[0m

      at Object.<anonymous> (src/lib/onboarding/__tests__/service.test.ts:13:15)

  ‚óè service ‚Ä∫ Integration ‚Ä∫ should integrate with external services

    TypeError: service is not a constructor

    [0m [90m 11 |[39m   beforeEach(() [33m=>[39m {
     [90m 12 |[39m     jest[33m.[39mclearAllMocks()[33m;[39m
    [31m[1m>[22m[39m[90m 13 |[39m     service [33m=[39m [36mnew[39m service()[33m;[39m
     [90m    |[39m               [31m[1m^[22m[39m
     [90m 14 |[39m   })[33m;[39m
     [90m 15 |[39m
     [90m 16 |[39m   describe([32m'Initialization'[39m[33m,[39m () [33m=>[39m {[0m

      at Object.<anonymous> (src/lib/onboarding/__tests__/service.test.ts:13:15)

  console.log
    [dotenv@17.0.1] injecting env (31) from .env.test ‚Äì [tip] encrypt with dotenvx: https://dotenvx.com

      at _log (node_modules/dotenv/lib/main.js:102:11)

FAIL src/lib/session/__tests__/service.test.ts
  service
    Initialization
      ‚úï should initialize correctly
      ‚úï should handle configuration options (1 ms)
    Core Functionality
      ‚úï should perform primary function correctly
      ‚úï should handle concurrent operations
    Error Handling
      ‚úï should handle network errors gracefully (1 ms)
      ‚úï should handle invalid input
      ‚úï should retry failed operations
    Security
      ‚úï should sanitize user input
      ‚úï should handle authentication correctly
    Performance
      ‚úï should cache results appropriately
      ‚úï should handle rate limiting
    Integration
      ‚úï should integrate with external services

  ‚óè service ‚Ä∫ Initialization ‚Ä∫ should initialize correctly

    TypeError: service is not a constructor

    [0m [90m 11 |[39m   beforeEach(() [33m=>[39m {
     [90m 12 |[39m     jest[33m.[39mclearAllMocks()[33m;[39m
    [31m[1m>[22m[39m[90m 13 |[39m     service [33m=[39m [36mnew[39m service()[33m;[39m
     [90m    |[39m               [31m[1m^[22m[39m
     [90m 14 |[39m   })[33m;[39m
     [90m 15 |[39m
     [90m 16 |[39m   describe([32m'Initialization'[39m[33m,[39m () [33m=>[39m {[0m

      at Object.<anonymous> (src/lib/session/__tests__/service.test.ts:13:15)

  ‚óè service ‚Ä∫ Initialization ‚Ä∫ should handle configuration options

    TypeError: service is not a constructor

    [0m [90m 11 |[39m   beforeEach(() [33m=>[39m {
     [90m 12 |[39m     jest[33m.[39mclearAllMocks()[33m;[39m
    [31m[1m>[22m[39m[90m 13 |[39m     service [33m=[39m [36mnew[39m service()[33m;[39m
     [90m    |[39m               [31m[1m^[22m[39m
     [90m 14 |[39m   })[33m;[39m
     [90m 15 |[39m
     [90m 16 |[39m   describe([32m'Initialization'[39m[33m,[39m () [33m=>[39m {[0m

      at Object.<anonymous> (src/lib/session/__tests__/service.test.ts:13:15)

  ‚óè service ‚Ä∫ Core Functionality ‚Ä∫ should perform primary function correctly

    TypeError: service is not a constructor

    [0m [90m 11 |[39m   beforeEach(() [33m=>[39m {
     [90m 12 |[39m     jest[33m.[39mclearAllMocks()[33m;[39m
    [31m[1m>[22m[39m[90m 13 |[39m     service [33m=[39m [36mnew[39m service()[33m;[39m
     [90m    |[39m               [31m[1m^[22m[39m
     [90m 14 |[39m   })[33m;[39m
     [90m 15 |[39m
     [90m 16 |[39m   describe([32m'Initialization'[39m[33m,[39m () [33m=>[39m {[0m

      at Object.<anonymous> (src/lib/session/__tests__/service.test.ts:13:15)

  ‚óè service ‚Ä∫ Core Functionality ‚Ä∫ should handle concurrent operations

    TypeError: service is not a constructor

    [0m [90m 11 |[39m   beforeEach(() [33m=>[39m {
     [90m 12 |[39m     jest[33m.[39mclearAllMocks()[33m;[39m
    [31m[1m>[22m[39m[90m 13 |[39m     service [33m=[39m [36mnew[39m service()[33m;[39m
     [90m    |[39m               [31m[1m^[22m[39m
     [90m 14 |[39m   })[33m;[39m
     [90m 15 |[39m
     [90m 16 |[39m   describe([32m'Initialization'[39m[33m,[39m () [33m=>[39m {[0m

      at Object.<anonymous> (src/lib/session/__tests__/service.test.ts:13:15)

  ‚óè service ‚Ä∫ Error Handling ‚Ä∫ should handle network errors gracefully

    TypeError: service is not a constructor

    [0m [90m 11 |[39m   beforeEach(() [33m=>[39m {
     [90m 12 |[39m     jest[33m.[39mclearAllMocks()[33m;[39m
    [31m[1m>[22m[39m[90m 13 |[39m     service [33m=[39m [36mnew[39m service()[33m;[39m
     [90m    |[39m               [31m[1m^[22m[39m
     [90m 14 |[39m   })[33m;[39m
     [90m 15 |[39m
     [90m 16 |[39m   describe([32m'Initialization'[39m[33m,[39m () [33m=>[39m {[0m

      at Object.<anonymous> (src/lib/session/__tests__/service.test.ts:13:15)

  ‚óè service ‚Ä∫ Error Handling ‚Ä∫ should handle invalid input

    TypeError: service is not a constructor

    [0m [90m 11 |[39m   beforeEach(() [33m=>[39m {
     [90m 12 |[39m     jest[33m.[39mclearAllMocks()[33m;[39m
    [31m[1m>[22m[39m[90m 13 |[39m     service [33m=[39m [36mnew[39m service()[33m;[39m
     [90m    |[39m               [31m[1m^[22m[39m
     [90m 14 |[39m   })[33m;[39m
     [90m 15 |[39m
     [90m 16 |[39m   describe([32m'Initialization'[39m[33m,[39m () [33m=>[39m {[0m

      at Object.<anonymous> (src/lib/session/__tests__/service.test.ts:13:15)

  ‚óè service ‚Ä∫ Error Handling ‚Ä∫ should retry failed operations

    TypeError: service is not a constructor

    [0m [90m 11 |[39m   beforeEach(() [33m=>[39m {
     [90m 12 |[39m     jest[33m.[39mclearAllMocks()[33m;[39m
    [31m[1m>[22m[39m[90m 13 |[39m     service [33m=[39m [36mnew[39m service()[33m;[39m
     [90m    |[39m               [31m[1m^[22m[39m
     [90m 14 |[39m   })[33m;[39m
     [90m 15 |[39m
     [90m 16 |[39m   describe([32m'Initialization'[39m[33m,[39m () [33m=>[39m {[0m

      at Object.<anonymous> (src/lib/session/__tests__/service.test.ts:13:15)

  ‚óè service ‚Ä∫ Security ‚Ä∫ should sanitize user input

    TypeError: service is not a constructor

    [0m [90m 11 |[39m   beforeEach(() [33m=>[39m {
     [90m 12 |[39m     jest[33m.[39mclearAllMocks()[33m;[39m
    [31m[1m>[22m[39m[90m 13 |[39m     service [33m=[39m [36mnew[39m service()[33m;[39m
     [90m    |[39m               [31m[1m^[22m[39m
     [90m 14 |[39m   })[33m;[39m
     [90m 15 |[39m
     [90m 16 |[39m   describe([32m'Initialization'[39m[33m,[39m () [33m=>[39m {[0m

      at Object.<anonymous> (src/lib/session/__tests__/service.test.ts:13:15)

  ‚óè service ‚Ä∫ Security ‚Ä∫ should handle authentication correctly

    TypeError: service is not a constructor

    [0m [90m 11 |[39m   beforeEach(() [33m=>[39m {
     [90m 12 |[39m     jest[33m.[39mclearAllMocks()[33m;[39m
    [31m[1m>[22m[39m[90m 13 |[39m     service [33m=[39m [36mnew[39m service()[33m;[39m
     [90m    |[39m               [31m[1m^[22m[39m
     [90m 14 |[39m   })[33m;[39m
     [90m 15 |[39m
     [90m 16 |[39m   describe([32m'Initialization'[39m[33m,[39m () [33m=>[39m {[0m

      at Object.<anonymous> (src/lib/session/__tests__/service.test.ts:13:15)

  ‚óè service ‚Ä∫ Performance ‚Ä∫ should cache results appropriately

    TypeError: service is not a constructor

    [0m [90m 11 |[39m   beforeEach(() [33m=>[39m {
     [90m 12 |[39m     jest[33m.[39mclearAllMocks()[33m;[39m
    [31m[1m>[22m[39m[90m 13 |[39m     service [33m=[39m [36mnew[39m service()[33m;[39m
     [90m    |[39m               [31m[1m^[22m[39m
     [90m 14 |[39m   })[33m;[39m
     [90m 15 |[39m
     [90m 16 |[39m   describe([32m'Initialization'[39m[33m,[39m () [33m=>[39m {[0m

      at Object.<anonymous> (src/lib/session/__tests__/service.test.ts:13:15)

  ‚óè service ‚Ä∫ Performance ‚Ä∫ should handle rate limiting

    TypeError: service is not a constructor

    [0m [90m 11 |[39m   beforeEach(() [33m=>[39m {
     [90m 12 |[39m     jest[33m.[39mclearAllMocks()[33m;[39m
    [31m[1m>[22m[39m[90m 13 |[39m     service [33m=[39m [36mnew[39m service()[33m;[39m
     [90m    |[39m               [31m[1m^[22m[39m
     [90m 14 |[39m   })[33m;[39m
     [90m 15 |[39m
     [90m 16 |[39m   describe([32m'Initialization'[39m[33m,[39m () [33m=>[39m {[0m

      at Object.<anonymous> (src/lib/session/__tests__/service.test.ts:13:15)

  ‚óè service ‚Ä∫ Integration ‚Ä∫ should integrate with external services

    TypeError: service is not a constructor

    [0m [90m 11 |[39m   beforeEach(() [33m=>[39m {
     [90m 12 |[39m     jest[33m.[39mclearAllMocks()[33m;[39m
    [31m[1m>[22m[39m[90m 13 |[39m     service [33m=[39m [36mnew[39m service()[33m;[39m
     [90m    |[39m               [31m[1m^[22m[39m
     [90m 14 |[39m   })[33m;[39m
     [90m 15 |[39m
     [90m 16 |[39m   describe([32m'Initialization'[39m[33m,[39m () [33m=>[39m {[0m

      at Object.<anonymous> (src/lib/session/__tests__/service.test.ts:13:15)

  console.log
    [dotenv@17.0.1] injecting env (31) from .env.test ‚Äì [tip] encrypt with dotenvx: https://dotenvx.com

      at _log (node_modules/dotenv/lib/main.js:102:11)

FAIL src/lib/monitoring/__tests__/service.test.ts
  service
    Initialization
      ‚úï should initialize correctly (1 ms)
      ‚úï should handle configuration options (1 ms)
    Core Functionality
      ‚úï should perform primary function correctly (1 ms)
      ‚úï should handle concurrent operations (1 ms)
    Error Handling
      ‚úï should handle network errors gracefully (1 ms)
      ‚úï should handle invalid input
      ‚úï should retry failed operations (1 ms)
    Security
      ‚úï should sanitize user input (1 ms)
      ‚úï should handle authentication correctly
    Performance
      ‚úï should cache results appropriately
      ‚úï should handle rate limiting (1 ms)
    Integration
      ‚úï should integrate with external services

  ‚óè service ‚Ä∫ Initialization ‚Ä∫ should initialize correctly

    TypeError: service is not a constructor

    [0m [90m 11 |[39m   beforeEach(() [33m=>[39m {
     [90m 12 |[39m     jest[33m.[39mclearAllMocks()[33m;[39m
    [31m[1m>[22m[39m[90m 13 |[39m     service [33m=[39m [36mnew[39m service()[33m;[39m
     [90m    |[39m               [31m[1m^[22m[39m
     [90m 14 |[39m   })[33m;[39m
     [90m 15 |[39m
     [90m 16 |[39m   describe([32m'Initialization'[39m[33m,[39m () [33m=>[39m {[0m

      at Object.<anonymous> (src/lib/monitoring/__tests__/service.test.ts:13:15)

  ‚óè service ‚Ä∫ Initialization ‚Ä∫ should handle configuration options

    TypeError: service is not a constructor

    [0m [90m 11 |[39m   beforeEach(() [33m=>[39m {
     [90m 12 |[39m     jest[33m.[39mclearAllMocks()[33m;[39m
    [31m[1m>[22m[39m[90m 13 |[39m     service [33m=[39m [36mnew[39m service()[33m;[39m
     [90m    |[39m               [31m[1m^[22m[39m
     [90m 14 |[39m   })[33m;[39m
     [90m 15 |[39m
     [90m 16 |[39m   describe([32m'Initialization'[39m[33m,[39m () [33m=>[39m {[0m

      at Object.<anonymous> (src/lib/monitoring/__tests__/service.test.ts:13:15)

  ‚óè service ‚Ä∫ Core Functionality ‚Ä∫ should perform primary function correctly

    TypeError: service is not a constructor

    [0m [90m 11 |[39m   beforeEach(() [33m=>[39m {
     [90m 12 |[39m     jest[33m.[39mclearAllMocks()[33m;[39m
    [31m[1m>[22m[39m[90m 13 |[39m     service [33m=[39m [36mnew[39m service()[33m;[39m
     [90m    |[39m               [31m[1m^[22m[39m
     [90m 14 |[39m   })[33m;[39m
     [90m 15 |[39m
     [90m 16 |[39m   describe([32m'Initialization'[39m[33m,[39m () [33m=>[39m {[0m

      at Object.<anonymous> (src/lib/monitoring/__tests__/service.test.ts:13:15)

  ‚óè service ‚Ä∫ Core Functionality ‚Ä∫ should handle concurrent operations

    TypeError: service is not a constructor

    [0m [90m 11 |[39m   beforeEach(() [33m=>[39m {
     [90m 12 |[39m     jest[33m.[39mclearAllMocks()[33m;[39m
    [31m[1m>[22m[39m[90m 13 |[39m     service [33m=[39m [36mnew[39m service()[33m;[39m
     [90m    |[39m               [31m[1m^[22m[39m
     [90m 14 |[39m   })[33m;[39m
     [90m 15 |[39m
     [90m 16 |[39m   describe([32m'Initialization'[39m[33m,[39m () [33m=>[39m {[0m

      at Object.<anonymous> (src/lib/monitoring/__tests__/service.test.ts:13:15)

  ‚óè service ‚Ä∫ Error Handling ‚Ä∫ should handle network errors gracefully

    TypeError: service is not a constructor

    [0m [90m 11 |[39m   beforeEach(() [33m=>[39m {
     [90m 12 |[39m     jest[33m.[39mclearAllMocks()[33m;[39m
    [31m[1m>[22m[39m[90m 13 |[39m     service [33m=[39m [36mnew[39m service()[33m;[39m
     [90m    |[39m               [31m[1m^[22m[39m
     [90m 14 |[39m   })[33m;[39m
     [90m 15 |[39m
     [90m 16 |[39m   describe([32m'Initialization'[39m[33m,[39m () [33m=>[39m {[0m

      at Object.<anonymous> (src/lib/monitoring/__tests__/service.test.ts:13:15)

  ‚óè service ‚Ä∫ Error Handling ‚Ä∫ should handle invalid input

    TypeError: service is not a constructor

    [0m [90m 11 |[39m   beforeEach(() [33m=>[39m {
     [90m 12 |[39m     jest[33m.[39mclearAllMocks()[33m;[39m
    [31m[1m>[22m[39m[90m 13 |[39m     service [33m=[39m [36mnew[39m service()[33m;[39m
     [90m    |[39m               [31m[1m^[22m[39m
     [90m 14 |[39m   })[33m;[39m
     [90m 15 |[39m
     [90m 16 |[39m   describe([32m'Initialization'[39m[33m,[39m () [33m=>[39m {[0m

      at Object.<anonymous> (src/lib/monitoring/__tests__/service.test.ts:13:15)

  ‚óè service ‚Ä∫ Error Handling ‚Ä∫ should retry failed operations

    TypeError: service is not a constructor

    [0m [90m 11 |[39m   beforeEach(() [33m=>[39m {
     [90m 12 |[39m     jest[33m.[39mclearAllMocks()[33m;[39m
    [31m[1m>[22m[39m[90m 13 |[39m     service [33m=[39m [36mnew[39m service()[33m;[39m
     [90m    |[39m               [31m[1m^[22m[39m
     [90m 14 |[39m   })[33m;[39m
     [90m 15 |[39m
     [90m 16 |[39m   describe([32m'Initialization'[39m[33m,[39m () [33m=>[39m {[0m

      at Object.<anonymous> (src/lib/monitoring/__tests__/service.test.ts:13:15)

  ‚óè service ‚Ä∫ Security ‚Ä∫ should sanitize user input

    TypeError: service is not a constructor

    [0m [90m 11 |[39m   beforeEach(() [33m=>[39m {
     [90m 12 |[39m     jest[33m.[39mclearAllMocks()[33m;[39m
    [31m[1m>[22m[39m[90m 13 |[39m     service [33m=[39m [36mnew[39m service()[33m;[39m
     [90m    |[39m               [31m[1m^[22m[39m
     [90m 14 |[39m   })[33m;[39m
     [90m 15 |[39m
     [90m 16 |[39m   describe([32m'Initialization'[39m[33m,[39m () [33m=>[39m {[0m

      at Object.<anonymous> (src/lib/monitoring/__tests__/service.test.ts:13:15)

  ‚óè service ‚Ä∫ Security ‚Ä∫ should handle authentication correctly

    TypeError: service is not a constructor

    [0m [90m 11 |[39m   beforeEach(() [33m=>[39m {
     [90m 12 |[39m     jest[33m.[39mclearAllMocks()[33m;[39m
    [31m[1m>[22m[39m[90m 13 |[39m     service [33m=[39m [36mnew[39m service()[33m;[39m
     [90m    |[39m               [31m[1m^[22m[39m
     [90m 14 |[39m   })[33m;[39m
     [90m 15 |[39m
     [90m 16 |[39m   describe([32m'Initialization'[39m[33m,[39m () [33m=>[39m {[0m

      at Object.<anonymous> (src/lib/monitoring/__tests__/service.test.ts:13:15)

  ‚óè service ‚Ä∫ Performance ‚Ä∫ should cache results appropriately

    TypeError: service is not a constructor

    [0m [90m 11 |[39m   beforeEach(() [33m=>[39m {
     [90m 12 |[39m     jest[33m.[39mclearAllMocks()[33m;[39m
    [31m[1m>[22m[39m[90m 13 |[39m     service [33m=[39m [36mnew[39m service()[33m;[39m
     [90m    |[39m               [31m[1m^[22m[39m
     [90m 14 |[39m   })[33m;[39m
     [90m 15 |[39m
     [90m 16 |[39m   describe([32m'Initialization'[39m[33m,[39m () [33m=>[39m {[0m

      at Object.<anonymous> (src/lib/monitoring/__tests__/service.test.ts:13:15)

  ‚óè service ‚Ä∫ Performance ‚Ä∫ should handle rate limiting

    TypeError: service is not a constructor

    [0m [90m 11 |[39m   beforeEach(() [33m=>[39m {
     [90m 12 |[39m     jest[33m.[39mclearAllMocks()[33m;[39m
    [31m[1m>[22m[39m[90m 13 |[39m     service [33m=[39m [36mnew[39m service()[33m;[39m
     [90m    |[39m               [31m[1m^[22m[39m
     [90m 14 |[39m   })[33m;[39m
     [90m 15 |[39m
     [90m 16 |[39m   describe([32m'Initialization'[39m[33m,[39m () [33m=>[39m {[0m

      at Object.<anonymous> (src/lib/monitoring/__tests__/service.test.ts:13:15)

  ‚óè service ‚Ä∫ Integration ‚Ä∫ should integrate with external services

    TypeError: service is not a constructor

    [0m [90m 11 |[39m   beforeEach(() [33m=>[39m {
     [90m 12 |[39m     jest[33m.[39mclearAllMocks()[33m;[39m
    [31m[1m>[22m[39m[90m 13 |[39m     service [33m=[39m [36mnew[39m service()[33m;[39m
     [90m    |[39m               [31m[1m^[22m[39m
     [90m 14 |[39m   })[33m;[39m
     [90m 15 |[39m
     [90m 16 |[39m   describe([32m'Initialization'[39m[33m,[39m () [33m=>[39m {[0m

      at Object.<anonymous> (src/lib/monitoring/__tests__/service.test.ts:13:15)

  console.log
    [dotenv@17.0.1] injecting env (31) from .env.test ‚Äì [tip] encrypt with dotenvx: https://dotenvx.com

      at _log (node_modules/dotenv/lib/main.js:102:11)

FAIL src/lib/ai/__tests__/personalities-real.test.ts
  AI Personalities Utils
    getTimeOfDay
      ‚úì should return morning for morning hours (3 ms)
      ‚úì should return afternoon for afternoon hours (1 ms)
      ‚úì should return evening for evening hours (1 ms)
      ‚úï should return night for night hours (3 ms)
    formatAIResponse
      ‚úì should format response with personality and context (1 ms)
      ‚úì should handle missing context
    getAIPersonality
      ‚úï should return personality for each role (2 ms)

  ‚óè AI Personalities Utils ‚Ä∫ getTimeOfDay ‚Ä∫ should return night for night hours

    expect(received).toBe(expected) // Object.is equality

    Expected: "night"
    Received: "evening"

    [0m [90m 36 |[39m       [36mconst[39m mockDate [33m=[39m [36mnew[39m originalDate([32m'2024-01-01T23:00:00'[39m)[33m;[39m
     [90m 37 |[39m       jest[33m.[39mspyOn(global[33m,[39m [32m'Date'[39m)[33m.[39mmockImplementation(() [33m=>[39m mockDate)[33m;[39m
    [31m[1m>[22m[39m[90m 38 |[39m       expect(getTimeOfDay())[33m.[39mtoBe([32m'night'[39m)[33m;[39m
     [90m    |[39m                              [31m[1m^[22m[39m
     [90m 39 |[39m     })[33m;[39m
     [90m 40 |[39m   })[33m;[39m
     [90m 41 |[39m[0m

      at Object.toBe (src/lib/ai/__tests__/personalities-real.test.ts:38:30)

  ‚óè AI Personalities Utils ‚Ä∫ getAIPersonality ‚Ä∫ should return personality for each role

    expect(received).toBe(expected) // Object.is equality

    Expected: undefined
    Received: "tenant"

    [0m [90m 106 |[39m         [36mconst[39m personality [33m=[39m getAIPersonality(role)[33m;[39m
     [90m 107 |[39m         expect(personality)[33m.[39mtoBeDefined()[33m;[39m
    [31m[1m>[22m[39m[90m 108 |[39m         expect(personality[33m.[39mrole)[33m.[39mtoBe(role)[33m;[39m
     [90m     |[39m                                  [31m[1m^[22m[39m
     [90m 109 |[39m         expect(personality)[33m.[39mtoHaveProperty([32m'tone'[39m)[33m;[39m
     [90m 110 |[39m         expect(personality)[33m.[39mtoHaveProperty([32m'communication'[39m)[33m;[39m
     [90m 111 |[39m         expect(personality)[33m.[39mtoHaveProperty([32m'vocabulary'[39m)[33m;[39m[0m

      at toBe (src/lib/ai/__tests__/personalities-real.test.ts:108:34)
          at Array.forEach (<anonymous>)
      at Object.forEach (src/lib/ai/__tests__/personalities-real.test.ts:105:13)

  console.log
    [dotenv@17.0.1] injecting env (31) from .env.test ‚Äì [tip] encrypt with dotenvx: https://dotenvx.com

      at _log (node_modules/dotenv/lib/main.js:102:11)

FAIL src/lib/auth/__tests__/service.test.ts
  service
    Initialization
      ‚úï should initialize correctly
      ‚úï should handle configuration options
    Core Functionality
      ‚úï should perform primary function correctly
      ‚úï should handle concurrent operations (1 ms)
    Error Handling
      ‚úï should handle network errors gracefully (1 ms)
      ‚úï should handle invalid input
      ‚úï should retry failed operations
    Security
      ‚úï should sanitize user input
      ‚úï should handle authentication correctly
    Performance
      ‚úï should cache results appropriately
      ‚úï should handle rate limiting
    Integration
      ‚úï should integrate with external services

  ‚óè service ‚Ä∫ Initialization ‚Ä∫ should initialize correctly

    TypeError: service is not a constructor

    [0m [90m 11 |[39m   beforeEach(() [33m=>[39m {
     [90m 12 |[39m     jest[33m.[39mclearAllMocks()[33m;[39m
    [31m[1m>[22m[39m[90m 13 |[39m     service [33m=[39m [36mnew[39m service()[33m;[39m
     [90m    |[39m               [31m[1m^[22m[39m
     [90m 14 |[39m   })[33m;[39m
     [90m 15 |[39m
     [90m 16 |[39m   describe([32m'Initialization'[39m[33m,[39m () [33m=>[39m {[0m

      at Object.<anonymous> (src/lib/auth/__tests__/service.test.ts:13:15)

  ‚óè service ‚Ä∫ Initialization ‚Ä∫ should handle configuration options

    TypeError: service is not a constructor

    [0m [90m 11 |[39m   beforeEach(() [33m=>[39m {
     [90m 12 |[39m     jest[33m.[39mclearAllMocks()[33m;[39m
    [31m[1m>[22m[39m[90m 13 |[39m     service [33m=[39m [36mnew[39m service()[33m;[39m
     [90m    |[39m               [31m[1m^[22m[39m
     [90m 14 |[39m   })[33m;[39m
     [90m 15 |[39m
     [90m 16 |[39m   describe([32m'Initialization'[39m[33m,[39m () [33m=>[39m {[0m

      at Object.<anonymous> (src/lib/auth/__tests__/service.test.ts:13:15)

  ‚óè service ‚Ä∫ Core Functionality ‚Ä∫ should perform primary function correctly

    TypeError: service is not a constructor

    [0m [90m 11 |[39m   beforeEach(() [33m=>[39m {
     [90m 12 |[39m     jest[33m.[39mclearAllMocks()[33m;[39m
    [31m[1m>[22m[39m[90m 13 |[39m     service [33m=[39m [36mnew[39m service()[33m;[39m
     [90m    |[39m               [31m[1m^[22m[39m
     [90m 14 |[39m   })[33m;[39m
     [90m 15 |[39m
     [90m 16 |[39m   describe([32m'Initialization'[39m[33m,[39m () [33m=>[39m {[0m

      at Object.<anonymous> (src/lib/auth/__tests__/service.test.ts:13:15)

  ‚óè service ‚Ä∫ Core Functionality ‚Ä∫ should handle concurrent operations

    TypeError: service is not a constructor

    [0m [90m 11 |[39m   beforeEach(() [33m=>[39m {
     [90m 12 |[39m     jest[33m.[39mclearAllMocks()[33m;[39m
    [31m[1m>[22m[39m[90m 13 |[39m     service [33m=[39m [36mnew[39m service()[33m;[39m
     [90m    |[39m               [31m[1m^[22m[39m
     [90m 14 |[39m   })[33m;[39m
     [90m 15 |[39m
     [90m 16 |[39m   describe([32m'Initialization'[39m[33m,[39m () [33m=>[39m {[0m

      at Object.<anonymous> (src/lib/auth/__tests__/service.test.ts:13:15)

  ‚óè service ‚Ä∫ Error Handling ‚Ä∫ should handle network errors gracefully

    TypeError: service is not a constructor

    [0m [90m 11 |[39m   beforeEach(() [33m=>[39m {
     [90m 12 |[39m     jest[33m.[39mclearAllMocks()[33m;[39m
    [31m[1m>[22m[39m[90m 13 |[39m     service [33m=[39m [36mnew[39m service()[33m;[39m
     [90m    |[39m               [31m[1m^[22m[39m
     [90m 14 |[39m   })[33m;[39m
     [90m 15 |[39m
     [90m 16 |[39m   describe([32m'Initialization'[39m[33m,[39m () [33m=>[39m {[0m

      at Object.<anonymous> (src/lib/auth/__tests__/service.test.ts:13:15)

  ‚óè service ‚Ä∫ Error Handling ‚Ä∫ should handle invalid input

    TypeError: service is not a constructor

    [0m [90m 11 |[39m   beforeEach(() [33m=>[39m {
     [90m 12 |[39m     jest[33m.[39mclearAllMocks()[33m;[39m
    [31m[1m>[22m[39m[90m 13 |[39m     service [33m=[39m [36mnew[39m service()[33m;[39m
     [90m    |[39m               [31m[1m^[22m[39m
     [90m 14 |[39m   })[33m;[39m
     [90m 15 |[39m
     [90m 16 |[39m   describe([32m'Initialization'[39m[33m,[39m () [33m=>[39m {[0m

      at Object.<anonymous> (src/lib/auth/__tests__/service.test.ts:13:15)

  ‚óè service ‚Ä∫ Error Handling ‚Ä∫ should retry failed operations

    TypeError: service is not a constructor

    [0m [90m 11 |[39m   beforeEach(() [33m=>[39m {
     [90m 12 |[39m     jest[33m.[39mclearAllMocks()[33m;[39m
    [31m[1m>[22m[39m[90m 13 |[39m     service [33m=[39m [36mnew[39m service()[33m;[39m
     [90m    |[39m               [31m[1m^[22m[39m
     [90m 14 |[39m   })[33m;[39m
     [90m 15 |[39m
     [90m 16 |[39m   describe([32m'Initialization'[39m[33m,[39m () [33m=>[39m {[0m

      at Object.<anonymous> (src/lib/auth/__tests__/service.test.ts:13:15)

  ‚óè service ‚Ä∫ Security ‚Ä∫ should sanitize user input

    TypeError: service is not a constructor

    [0m [90m 11 |[39m   beforeEach(() [33m=>[39m {
     [90m 12 |[39m     jest[33m.[39mclearAllMocks()[33m;[39m
    [31m[1m>[22m[39m[90m 13 |[39m     service [33m=[39m [36mnew[39m service()[33m;[39m
     [90m    |[39m               [31m[1m^[22m[39m
     [90m 14 |[39m   })[33m;[39m
     [90m 15 |[39m
     [90m 16 |[39m   describe([32m'Initialization'[39m[33m,[39m () [33m=>[39m {[0m

      at Object.<anonymous> (src/lib/auth/__tests__/service.test.ts:13:15)

  ‚óè service ‚Ä∫ Security ‚Ä∫ should handle authentication correctly

    TypeError: service is not a constructor

    [0m [90m 11 |[39m   beforeEach(() [33m=>[39m {
     [90m 12 |[39m     jest[33m.[39mclearAllMocks()[33m;[39m
    [31m[1m>[22m[39m[90m 13 |[39m     service [33m=[39m [36mnew[39m service()[33m;[39m
     [90m    |[39m               [31m[1m^[22m[39m
     [90m 14 |[39m   })[33m;[39m
     [90m 15 |[39m
     [90m 16 |[39m   describe([32m'Initialization'[39m[33m,[39m () [33m=>[39m {[0m

      at Object.<anonymous> (src/lib/auth/__tests__/service.test.ts:13:15)

  ‚óè service ‚Ä∫ Performance ‚Ä∫ should cache results appropriately

    TypeError: service is not a constructor

    [0m [90m 11 |[39m   beforeEach(() [33m=>[39m {
     [90m 12 |[39m     jest[33m.[39mclearAllMocks()[33m;[39m
    [31m[1m>[22m[39m[90m 13 |[39m     service [33m=[39m [36mnew[39m service()[33m;[39m
     [90m    |[39m               [31m[1m^[22m[39m
     [90m 14 |[39m   })[33m;[39m
     [90m 15 |[39m
     [90m 16 |[39m   describe([32m'Initialization'[39m[33m,[39m () [33m=>[39m {[0m

      at Object.<anonymous> (src/lib/auth/__tests__/service.test.ts:13:15)

  ‚óè service ‚Ä∫ Performance ‚Ä∫ should handle rate limiting

    TypeError: service is not a constructor

    [0m [90m 11 |[39m   beforeEach(() [33m=>[39m {
     [90m 12 |[39m     jest[33m.[39mclearAllMocks()[33m;[39m
    [31m[1m>[22m[39m[90m 13 |[39m     service [33m=[39m [36mnew[39m service()[33m;[39m
     [90m    |[39m               [31m[1m^[22m[39m
     [90m 14 |[39m   })[33m;[39m
     [90m 15 |[39m
     [90m 16 |[39m   describe([32m'Initialization'[39m[33m,[39m () [33m=>[39m {[0m

      at Object.<anonymous> (src/lib/auth/__tests__/service.test.ts:13:15)

  ‚óè service ‚Ä∫ Integration ‚Ä∫ should integrate with external services

    TypeError: service is not a constructor

    [0m [90m 11 |[39m   beforeEach(() [33m=>[39m {
     [90m 12 |[39m     jest[33m.[39mclearAllMocks()[33m;[39m
    [31m[1m>[22m[39m[90m 13 |[39m     service [33m=[39m [36mnew[39m service()[33m;[39m
     [90m    |[39m               [31m[1m^[22m[39m
     [90m 14 |[39m   })[33m;[39m
     [90m 15 |[39m
     [90m 16 |[39m   describe([32m'Initialization'[39m[33m,[39m () [33m=>[39m {[0m

      at Object.<anonymous> (src/lib/auth/__tests__/service.test.ts:13:15)

  console.log
    [dotenv@17.0.1] injecting env (31) from .env.test ‚Äì [tip] encrypt with dotenvx: https://dotenvx.com

      at _log (node_modules/dotenv/lib/main.js:102:11)

FAIL src/lib/security/rate-limit/__tests__/service.test.ts
  service
    Initialization
      ‚úï should initialize correctly
      ‚úï should handle configuration options
    Core Functionality
      ‚úï should perform primary function correctly
      ‚úï should handle concurrent operations
    Error Handling
      ‚úï should handle network errors gracefully
      ‚úï should handle invalid input (1 ms)
      ‚úï should retry failed operations
    Security
      ‚úï should sanitize user input
      ‚úï should handle authentication correctly
    Performance
      ‚úï should cache results appropriately (1 ms)
      ‚úï should handle rate limiting
    Integration
      ‚úï should integrate with external services

  ‚óè service ‚Ä∫ Initialization ‚Ä∫ should initialize correctly

    TypeError: service is not a constructor

    [0m [90m 11 |[39m   beforeEach(() [33m=>[39m {
     [90m 12 |[39m     jest[33m.[39mclearAllMocks()[33m;[39m
    [31m[1m>[22m[39m[90m 13 |[39m     service [33m=[39m [36mnew[39m service()[33m;[39m
     [90m    |[39m               [31m[1m^[22m[39m
     [90m 14 |[39m   })[33m;[39m
     [90m 15 |[39m
     [90m 16 |[39m   describe([32m'Initialization'[39m[33m,[39m () [33m=>[39m {[0m

      at Object.<anonymous> (src/lib/security/rate-limit/__tests__/service.test.ts:13:15)

  ‚óè service ‚Ä∫ Initialization ‚Ä∫ should handle configuration options

    TypeError: service is not a constructor

    [0m [90m 11 |[39m   beforeEach(() [33m=>[39m {
     [90m 12 |[39m     jest[33m.[39mclearAllMocks()[33m;[39m
    [31m[1m>[22m[39m[90m 13 |[39m     service [33m=[39m [36mnew[39m service()[33m;[39m
     [90m    |[39m               [31m[1m^[22m[39m
     [90m 14 |[39m   })[33m;[39m
     [90m 15 |[39m
     [90m 16 |[39m   describe([32m'Initialization'[39m[33m,[39m () [33m=>[39m {[0m

      at Object.<anonymous> (src/lib/security/rate-limit/__tests__/service.test.ts:13:15)

  ‚óè service ‚Ä∫ Core Functionality ‚Ä∫ should perform primary function correctly

    TypeError: service is not a constructor

    [0m [90m 11 |[39m   beforeEach(() [33m=>[39m {
     [90m 12 |[39m     jest[33m.[39mclearAllMocks()[33m;[39m
    [31m[1m>[22m[39m[90m 13 |[39m     service [33m=[39m [36mnew[39m service()[33m;[39m
     [90m    |[39m               [31m[1m^[22m[39m
     [90m 14 |[39m   })[33m;[39m
     [90m 15 |[39m
     [90m 16 |[39m   describe([32m'Initialization'[39m[33m,[39m () [33m=>[39m {[0m

      at Object.<anonymous> (src/lib/security/rate-limit/__tests__/service.test.ts:13:15)

  ‚óè service ‚Ä∫ Core Functionality ‚Ä∫ should handle concurrent operations

    TypeError: service is not a constructor

    [0m [90m 11 |[39m   beforeEach(() [33m=>[39m {
     [90m 12 |[39m     jest[33m.[39mclearAllMocks()[33m;[39m
    [31m[1m>[22m[39m[90m 13 |[39m     service [33m=[39m [36mnew[39m service()[33m;[39m
     [90m    |[39m               [31m[1m^[22m[39m
     [90m 14 |[39m   })[33m;[39m
     [90m 15 |[39m
     [90m 16 |[39m   describe([32m'Initialization'[39m[33m,[39m () [33m=>[39m {[0m

      at Object.<anonymous> (src/lib/security/rate-limit/__tests__/service.test.ts:13:15)

  ‚óè service ‚Ä∫ Error Handling ‚Ä∫ should handle network errors gracefully

    TypeError: service is not a constructor

    [0m [90m 11 |[39m   beforeEach(() [33m=>[39m {
     [90m 12 |[39m     jest[33m.[39mclearAllMocks()[33m;[39m
    [31m[1m>[22m[39m[90m 13 |[39m     service [33m=[39m [36mnew[39m service()[33m;[39m
     [90m    |[39m               [31m[1m^[22m[39m
     [90m 14 |[39m   })[33m;[39m
     [90m 15 |[39m
     [90m 16 |[39m   describe([32m'Initialization'[39m[33m,[39m () [33m=>[39m {[0m

      at Object.<anonymous> (src/lib/security/rate-limit/__tests__/service.test.ts:13:15)

  ‚óè service ‚Ä∫ Error Handling ‚Ä∫ should handle invalid input

    TypeError: service is not a constructor

    [0m [90m 11 |[39m   beforeEach(() [33m=>[39m {
     [90m 12 |[39m     jest[33m.[39mclearAllMocks()[33m;[39m
    [31m[1m>[22m[39m[90m 13 |[39m     service [33m=[39m [36mnew[39m service()[33m;[39m
     [90m    |[39m               [31m[1m^[22m[39m
     [90m 14 |[39m   })[33m;[39m
     [90m 15 |[39m
     [90m 16 |[39m   describe([32m'Initialization'[39m[33m,[39m () [33m=>[39m {[0m

      at Object.<anonymous> (src/lib/security/rate-limit/__tests__/service.test.ts:13:15)

  ‚óè service ‚Ä∫ Error Handling ‚Ä∫ should retry failed operations

    TypeError: service is not a constructor

    [0m [90m 11 |[39m   beforeEach(() [33m=>[39m {
     [90m 12 |[39m     jest[33m.[39mclearAllMocks()[33m;[39m
    [31m[1m>[22m[39m[90m 13 |[39m     service [33m=[39m [36mnew[39m service()[33m;[39m
     [90m    |[39m               [31m[1m^[22m[39m
     [90m 14 |[39m   })[33m;[39m
     [90m 15 |[39m
     [90m 16 |[39m   describe([32m'Initialization'[39m[33m,[39m () [33m=>[39m {[0m

      at Object.<anonymous> (src/lib/security/rate-limit/__tests__/service.test.ts:13:15)

  ‚óè service ‚Ä∫ Security ‚Ä∫ should sanitize user input

    TypeError: service is not a constructor

    [0m [90m 11 |[39m   beforeEach(() [33m=>[39m {
     [90m 12 |[39m     jest[33m.[39mclearAllMocks()[33m;[39m
    [31m[1m>[22m[39m[90m 13 |[39m     service [33m=[39m [36mnew[39m service()[33m;[39m
     [90m    |[39m               [31m[1m^[22m[39m
     [90m 14 |[39m   })[33m;[39m
     [90m 15 |[39m
     [90m 16 |[39m   describe([32m'Initialization'[39m[33m,[39m () [33m=>[39m {[0m

      at Object.<anonymous> (src/lib/security/rate-limit/__tests__/service.test.ts:13:15)

  ‚óè service ‚Ä∫ Security ‚Ä∫ should handle authentication correctly

    TypeError: service is not a constructor

    [0m [90m 11 |[39m   beforeEach(() [33m=>[39m {
     [90m 12 |[39m     jest[33m.[39mclearAllMocks()[33m;[39m
    [31m[1m>[22m[39m[90m 13 |[39m     service [33m=[39m [36mnew[39m service()[33m;[39m
     [90m    |[39m               [31m[1m^[22m[39m
     [90m 14 |[39m   })[33m;[39m
     [90m 15 |[39m
     [90m 16 |[39m   describe([32m'Initialization'[39m[33m,[39m () [33m=>[39m {[0m

      at Object.<anonymous> (src/lib/security/rate-limit/__tests__/service.test.ts:13:15)

  ‚óè service ‚Ä∫ Performance ‚Ä∫ should cache results appropriately

    TypeError: service is not a constructor

    [0m [90m 11 |[39m   beforeEach(() [33m=>[39m {
     [90m 12 |[39m     jest[33m.[39mclearAllMocks()[33m;[39m
    [31m[1m>[22m[39m[90m 13 |[39m     service [33m=[39m [36mnew[39m service()[33m;[39m
     [90m    |[39m               [31m[1m^[22m[39m
     [90m 14 |[39m   })[33m;[39m
     [90m 15 |[39m
     [90m 16 |[39m   describe([32m'Initialization'[39m[33m,[39m () [33m=>[39m {[0m

      at Object.<anonymous> (src/lib/security/rate-limit/__tests__/service.test.ts:13:15)

  ‚óè service ‚Ä∫ Performance ‚Ä∫ should handle rate limiting

    TypeError: service is not a constructor

    [0m [90m 11 |[39m   beforeEach(() [33m=>[39m {
     [90m 12 |[39m     jest[33m.[39mclearAllMocks()[33m;[39m
    [31m[1m>[22m[39m[90m 13 |[39m     service [33m=[39m [36mnew[39m service()[33m;[39m
     [90m    |[39m               [31m[1m^[22m[39m
     [90m 14 |[39m   })[33m;[39m
     [90m 15 |[39m
     [90m 16 |[39m   describe([32m'Initialization'[39m[33m,[39m () [33m=>[39m {[0m

      at Object.<anonymous> (src/lib/security/rate-limit/__tests__/service.test.ts:13:15)

  ‚óè service ‚Ä∫ Integration ‚Ä∫ should integrate with external services

    TypeError: service is not a constructor

    [0m [90m 11 |[39m   beforeEach(() [33m=>[39m {
     [90m 12 |[39m     jest[33m.[39mclearAllMocks()[33m;[39m
    [31m[1m>[22m[39m[90m 13 |[39m     service [33m=[39m [36mnew[39m service()[33m;[39m
     [90m    |[39m               [31m[1m^[22m[39m
     [90m 14 |[39m   })[33m;[39m
     [90m 15 |[39m
     [90m 16 |[39m   describe([32m'Initialization'[39m[33m,[39m () [33m=>[39m {[0m

      at Object.<anonymous> (src/lib/security/rate-limit/__tests__/service.test.ts:13:15)

  console.log
    [dotenv@17.0.1] injecting env (31) from .env.test ‚Äì [tip] encrypt with dotenvx: https://dotenvx.com

      at _log (node_modules/dotenv/lib/main.js:102:11)

FAIL src/lib/auth/sso/__tests__/service.test.ts
  service
    Initialization
      ‚úï should initialize correctly
      ‚úï should handle configuration options
    Core Functionality
      ‚úï should perform primary function correctly
      ‚úï should handle concurrent operations (1 ms)
    Error Handling
      ‚úï should handle network errors gracefully
      ‚úï should handle invalid input (1 ms)
      ‚úï should retry failed operations
    Security
      ‚úï should sanitize user input
      ‚úï should handle authentication correctly
    Performance
      ‚úï should cache results appropriately
      ‚úï should handle rate limiting
    Integration
      ‚úï should integrate with external services

  ‚óè service ‚Ä∫ Initialization ‚Ä∫ should initialize correctly

    TypeError: service is not a constructor

    [0m [90m 11 |[39m   beforeEach(() [33m=>[39m {
     [90m 12 |[39m     jest[33m.[39mclearAllMocks()[33m;[39m
    [31m[1m>[22m[39m[90m 13 |[39m     service [33m=[39m [36mnew[39m service()[33m;[39m
     [90m    |[39m               [31m[1m^[22m[39m
     [90m 14 |[39m   })[33m;[39m
     [90m 15 |[39m
     [90m 16 |[39m   describe([32m'Initialization'[39m[33m,[39m () [33m=>[39m {[0m

      at Object.<anonymous> (src/lib/auth/sso/__tests__/service.test.ts:13:15)

  ‚óè service ‚Ä∫ Initialization ‚Ä∫ should handle configuration options

    TypeError: service is not a constructor

    [0m [90m 11 |[39m   beforeEach(() [33m=>[39m {
     [90m 12 |[39m     jest[33m.[39mclearAllMocks()[33m;[39m
    [31m[1m>[22m[39m[90m 13 |[39m     service [33m=[39m [36mnew[39m service()[33m;[39m
     [90m    |[39m               [31m[1m^[22m[39m
     [90m 14 |[39m   })[33m;[39m
     [90m 15 |[39m
     [90m 16 |[39m   describe([32m'Initialization'[39m[33m,[39m () [33m=>[39m {[0m

      at Object.<anonymous> (src/lib/auth/sso/__tests__/service.test.ts:13:15)

  ‚óè service ‚Ä∫ Core Functionality ‚Ä∫ should perform primary function correctly

    TypeError: service is not a constructor

    [0m [90m 11 |[39m   beforeEach(() [33m=>[39m {
     [90m 12 |[39m     jest[33m.[39mclearAllMocks()[33m;[39m
    [31m[1m>[22m[39m[90m 13 |[39m     service [33m=[39m [36mnew[39m service()[33m;[39m
     [90m    |[39m               [31m[1m^[22m[39m
     [90m 14 |[39m   })[33m;[39m
     [90m 15 |[39m
     [90m 16 |[39m   describe([32m'Initialization'[39m[33m,[39m () [33m=>[39m {[0m

      at Object.<anonymous> (src/lib/auth/sso/__tests__/service.test.ts:13:15)

  ‚óè service ‚Ä∫ Core Functionality ‚Ä∫ should handle concurrent operations

    TypeError: service is not a constructor

    [0m [90m 11 |[39m   beforeEach(() [33m=>[39m {
     [90m 12 |[39m     jest[33m.[39mclearAllMocks()[33m;[39m
    [31m[1m>[22m[39m[90m 13 |[39m     service [33m=[39m [36mnew[39m service()[33m;[39m
     [90m    |[39m               [31m[1m^[22m[39m
     [90m 14 |[39m   })[33m;[39m
     [90m 15 |[39m
     [90m 16 |[39m   describe([32m'Initialization'[39m[33m,[39m () [33m=>[39m {[0m

      at Object.<anonymous> (src/lib/auth/sso/__tests__/service.test.ts:13:15)

  ‚óè service ‚Ä∫ Error Handling ‚Ä∫ should handle network errors gracefully

    TypeError: service is not a constructor

    [0m [90m 11 |[39m   beforeEach(() [33m=>[39m {
     [90m 12 |[39m     jest[33m.[39mclearAllMocks()[33m;[39m
    [31m[1m>[22m[39m[90m 13 |[39m     service [33m=[39m [36mnew[39m service()[33m;[39m
     [90m    |[39m               [31m[1m^[22m[39m
     [90m 14 |[39m   })[33m;[39m
     [90m 15 |[39m
     [90m 16 |[39m   describe([32m'Initialization'[39m[33m,[39m () [33m=>[39m {[0m

      at Object.<anonymous> (src/lib/auth/sso/__tests__/service.test.ts:13:15)

  ‚óè service ‚Ä∫ Error Handling ‚Ä∫ should handle invalid input

    TypeError: service is not a constructor

    [0m [90m 11 |[39m   beforeEach(() [33m=>[39m {
     [90m 12 |[39m     jest[33m.[39mclearAllMocks()[33m;[39m
    [31m[1m>[22m[39m[90m 13 |[39m     service [33m=[39m [36mnew[39m service()[33m;[39m
     [90m    |[39m               [31m[1m^[22m[39m
     [90m 14 |[39m   })[33m;[39m
     [90m 15 |[39m
     [90m 16 |[39m   describe([32m'Initialization'[39m[33m,[39m () [33m=>[39m {[0m

      at Object.<anonymous> (src/lib/auth/sso/__tests__/service.test.ts:13:15)

  ‚óè service ‚Ä∫ Error Handling ‚Ä∫ should retry failed operations

    TypeError: service is not a constructor

    [0m [90m 11 |[39m   beforeEach(() [33m=>[39m {
     [90m 12 |[39m     jest[33m.[39mclearAllMocks()[33m;[39m
    [31m[1m>[22m[39m[90m 13 |[39m     service [33m=[39m [36mnew[39m service()[33m;[39m
     [90m    |[39m               [31m[1m^[22m[39m
     [90m 14 |[39m   })[33m;[39m
     [90m 15 |[39m
     [90m 16 |[39m   describe([32m'Initialization'[39m[33m,[39m () [33m=>[39m {[0m

      at Object.<anonymous> (src/lib/auth/sso/__tests__/service.test.ts:13:15)

  ‚óè service ‚Ä∫ Security ‚Ä∫ should sanitize user input

    TypeError: service is not a constructor

    [0m [90m 11 |[39m   beforeEach(() [33m=>[39m {
     [90m 12 |[39m     jest[33m.[39mclearAllMocks()[33m;[39m
    [31m[1m>[22m[39m[90m 13 |[39m     service [33m=[39m [36mnew[39m service()[33m;[39m
     [90m    |[39m               [31m[1m^[22m[39m
     [90m 14 |[39m   })[33m;[39m
     [90m 15 |[39m
     [90m 16 |[39m   describe([32m'Initialization'[39m[33m,[39m () [33m=>[39m {[0m

      at Object.<anonymous> (src/lib/auth/sso/__tests__/service.test.ts:13:15)

  ‚óè service ‚Ä∫ Security ‚Ä∫ should handle authentication correctly

    TypeError: service is not a constructor

    [0m [90m 11 |[39m   beforeEach(() [33m=>[39m {
     [90m 12 |[39m     jest[33m.[39mclearAllMocks()[33m;[39m
    [31m[1m>[22m[39m[90m 13 |[39m     service [33m=[39m [36mnew[39m service()[33m;[39m
     [90m    |[39m               [31m[1m^[22m[39m
     [90m 14 |[39m   })[33m;[39m
     [90m 15 |[39m
     [90m 16 |[39m   describe([32m'Initialization'[39m[33m,[39m () [33m=>[39m {[0m

      at Object.<anonymous> (src/lib/auth/sso/__tests__/service.test.ts:13:15)

  ‚óè service ‚Ä∫ Performance ‚Ä∫ should cache results appropriately

    TypeError: service is not a constructor

    [0m [90m 11 |[39m   beforeEach(() [33m=>[39m {
     [90m 12 |[39m     jest[33m.[39mclearAllMocks()[33m;[39m
    [31m[1m>[22m[39m[90m 13 |[39m     service [33m=[39m [36mnew[39m service()[33m;[39m
     [90m    |[39m               [31m[1m^[22m[39m
     [90m 14 |[39m   })[33m;[39m
     [90m 15 |[39m
     [90m 16 |[39m   describe([32m'Initialization'[39m[33m,[39m () [33m=>[39m {[0m

      at Object.<anonymous> (src/lib/auth/sso/__tests__/service.test.ts:13:15)

  ‚óè service ‚Ä∫ Performance ‚Ä∫ should handle rate limiting

    TypeError: service is not a constructor

    [0m [90m 11 |[39m   beforeEach(() [33m=>[39m {
     [90m 12 |[39m     jest[33m.[39mclearAllMocks()[33m;[39m
    [31m[1m>[22m[39m[90m 13 |[39m     service [33m=[39m [36mnew[39m service()[33m;[39m
     [90m    |[39m               [31m[1m^[22m[39m
     [90m 14 |[39m   })[33m;[39m
     [90m 15 |[39m
     [90m 16 |[39m   describe([32m'Initialization'[39m[33m,[39m () [33m=>[39m {[0m

      at Object.<anonymous> (src/lib/auth/sso/__tests__/service.test.ts:13:15)

  ‚óè service ‚Ä∫ Integration ‚Ä∫ should integrate with external services

    TypeError: service is not a constructor

    [0m [90m 11 |[39m   beforeEach(() [33m=>[39m {
     [90m 12 |[39m     jest[33m.[39mclearAllMocks()[33m;[39m
    [31m[1m>[22m[39m[90m 13 |[39m     service [33m=[39m [36mnew[39m service()[33m;[39m
     [90m    |[39m               [31m[1m^[22m[39m
     [90m 14 |[39m   })[33m;[39m
     [90m 15 |[39m
     [90m 16 |[39m   describe([32m'Initialization'[39m[33m,[39m () [33m=>[39m {[0m

      at Object.<anonymous> (src/lib/auth/sso/__tests__/service.test.ts:13:15)

  console.log
    [dotenv@17.0.1] injecting env (31) from .env.test ‚Äì [tip] encrypt with dotenvx: https://dotenvx.com

      at _log (node_modules/dotenv/lib/main.js:102:11)

FAIL src/lib/conversations/__tests__/utils-real.test.ts
  Conversation Utils
    messagesToJson
      ‚úï should convert messages to JSON
      ‚úï should preserve message properties
      ‚úì should handle empty array (2 ms)
    jsonToMessages
      ‚úï should convert JSON to messages (9 ms)
      ‚úï should convert date strings to Date objects
      ‚úì should handle invalid JSON gracefully

  ‚óè Conversation Utils ‚Ä∫ messagesToJson ‚Ä∫ should convert messages to JSON

    TypeError: Cannot read properties of undefined (reading 'toISOString')

    [0m [90m 28 |[39m     components[33m:[39m msg[33m.[39mcomponents [36mas[39m any[33m,[39m [90m// Cast to any for JSON compatibility[39m
     [90m 29 |[39m     suggestions[33m:[39m msg[33m.[39msuggestions[33m,[39m
    [31m[1m>[22m[39m[90m 30 |[39m     timestamp[33m:[39m msg[33m.[39mtimestamp[33m.[39mtoISOString()[33m,[39m
     [90m    |[39m                              [31m[1m^[22m[39m
     [90m 31 |[39m   })) [36mas[39m [33mJson[39m[33m;[39m
     [90m 32 |[39m }
     [90m 33 |[39m[0m

      at toISOString (src/lib/conversations/utils.ts:30:30)
          at Array.map (<anonymous>)
      at map (src/lib/conversations/utils.ts:24:19)
      at Object.messagesToJson (src/lib/conversations/__tests__/utils-real.test.ts:27:20)

  ‚óè Conversation Utils ‚Ä∫ messagesToJson ‚Ä∫ should preserve message properties

    TypeError: Cannot read properties of undefined (reading 'toISOString')

    [0m [90m 28 |[39m     components[33m:[39m msg[33m.[39mcomponents [36mas[39m any[33m,[39m [90m// Cast to any for JSON compatibility[39m
     [90m 29 |[39m     suggestions[33m:[39m msg[33m.[39msuggestions[33m,[39m
    [31m[1m>[22m[39m[90m 30 |[39m     timestamp[33m:[39m msg[33m.[39mtimestamp[33m.[39mtoISOString()[33m,[39m
     [90m    |[39m                              [31m[1m^[22m[39m
     [90m 31 |[39m   })) [36mas[39m [33mJson[39m[33m;[39m
     [90m 32 |[39m }
     [90m 33 |[39m[0m

      at toISOString (src/lib/conversations/utils.ts:30:30)
          at Array.map (<anonymous>)
      at map (src/lib/conversations/utils.ts:24:19)
      at Object.messagesToJson (src/lib/conversations/__tests__/utils-real.test.ts:33:20)

  ‚óè Conversation Utils ‚Ä∫ jsonToMessages ‚Ä∫ should convert JSON to messages

    TypeError: Cannot read properties of undefined (reading 'toISOString')

    [0m [90m 28 |[39m     components[33m:[39m msg[33m.[39mcomponents [36mas[39m any[33m,[39m [90m// Cast to any for JSON compatibility[39m
     [90m 29 |[39m     suggestions[33m:[39m msg[33m.[39msuggestions[33m,[39m
    [31m[1m>[22m[39m[90m 30 |[39m     timestamp[33m:[39m msg[33m.[39mtimestamp[33m.[39mtoISOString()[33m,[39m
     [90m    |[39m                              [31m[1m^[22m[39m
     [90m 31 |[39m   })) [36mas[39m [33mJson[39m[33m;[39m
     [90m 32 |[39m }
     [90m 33 |[39m[0m

      at toISOString (src/lib/conversations/utils.ts:30:30)
          at Array.map (<anonymous>)
      at map (src/lib/conversations/utils.ts:24:19)
      at Object.messagesToJson (src/lib/conversations/__tests__/utils-real.test.ts:47:20)

  ‚óè Conversation Utils ‚Ä∫ jsonToMessages ‚Ä∫ should convert date strings to Date objects

    TypeError: Cannot read properties of undefined (reading 'toISOString')

    [0m [90m 28 |[39m     components[33m:[39m msg[33m.[39mcomponents [36mas[39m any[33m,[39m [90m// Cast to any for JSON compatibility[39m
     [90m 29 |[39m     suggestions[33m:[39m msg[33m.[39msuggestions[33m,[39m
    [31m[1m>[22m[39m[90m 30 |[39m     timestamp[33m:[39m msg[33m.[39mtimestamp[33m.[39mtoISOString()[33m,[39m
     [90m    |[39m                              [31m[1m^[22m[39m
     [90m 31 |[39m   })) [36mas[39m [33mJson[39m[33m;[39m
     [90m 32 |[39m }
     [90m 33 |[39m[0m

      at toISOString (src/lib/conversations/utils.ts:30:30)
          at Array.map (<anonymous>)
      at map (src/lib/conversations/utils.ts:24:19)
      at Object.messagesToJson (src/lib/conversations/__tests__/utils-real.test.ts:54:20)

  console.log
    [dotenv@17.0.1] injecting env (31) from .env.test ‚Äì [tip] encrypt with dotenvx: https://dotenvx.com

      at _log (node_modules/dotenv/lib/main.js:102:11)


ReferenceError: You are trying to `import` a file after the Jest environment has been torn down. From src/lib/monitoring/__tests__/complete-monitoring-system.test.ts.



ReferenceError: You are trying to `import` a file after the Jest environment has been torn down. From src/lib/monitoring/__tests__/complete-monitoring-system.test.ts.



ReferenceError: You are trying to `import` a file after the Jest environment has been torn down. From src/lib/monitoring/__tests__/complete-monitoring-system.test.ts.



ReferenceError: You are trying to `import` a file after the Jest environment has been torn down. From src/lib/monitoring/__tests__/complete-monitoring-system.test.ts.



ReferenceError: You are trying to `import` a file after the Jest environment has been torn down. From src/lib/monitoring/__tests__/complete-monitoring-system.test.ts.



ReferenceError: You are trying to `import` a file after the Jest environment has been torn down. From src/lib/monitoring/__tests__/complete-monitoring-system.test.ts.



ReferenceError: You are trying to `import` a file after the Jest environment has been torn down. From src/lib/monitoring/__tests__/complete-monitoring-system.test.ts.


FAIL src/lib/monitoring/__tests__/complete-monitoring-system.test.ts
  ‚óè Test suite failed to run

    Cannot find module '../alerts' from 'src/lib/monitoring/__tests__/complete-monitoring-system.test.ts'

      at Resolver._throwModNotFoundError (node_modules/jest-resolve/build/resolver.js:427:11)


ReferenceError: You are trying to `import` a file after the Jest environment has been torn down. From src/lib/monitoring/__tests__/complete-monitoring-system.test.ts.



ReferenceError: You are trying to `import` a file after the Jest environment has been torn down. From src/lib/monitoring/__tests__/complete-monitoring-system.test.ts.



ReferenceError: You are trying to `import` a file after the Jest environment has been torn down. From src/lib/monitoring/__tests__/complete-monitoring-system.test.ts.



ReferenceError: You are trying to `import` a file after the Jest environment has been torn down. From src/lib/monitoring/__tests__/complete-monitoring-system.test.ts.



ReferenceError: You are trying to `import` a file after the Jest environment has been torn down. From src/lib/monitoring/__tests__/complete-monitoring-system.test.ts.


  console.log
    [dotenv@17.0.1] injecting env (31) from .env.test ‚Äì [tip] encrypt with dotenvx: https://dotenvx.com

      at _log (node_modules/dotenv/lib/main.js:102:11)

FAIL src/lib/auth/__tests__/complete-auth-flow.test.ts
  ‚óè Test suite failed to run

    Cannot find module '../auth-service' from 'src/lib/auth/__tests__/complete-auth-flow.test.ts'

      at Resolver._throwModNotFoundError (node_modules/jest-resolve/build/resolver.js:427:11)


ReferenceError: You are trying to `import` a file after the Jest environment has been torn down. From src/lib/auth/__tests__/complete-auth-flow.test.ts.



ReferenceError: You are trying to `import` a file after the Jest environment has been torn down. From src/lib/auth/__tests__/complete-auth-flow.test.ts.



ReferenceError: You are trying to `import` a file after the Jest environment has been torn down. From src/lib/auth/__tests__/complete-auth-flow.test.ts.



ReferenceError: You are trying to `import` a file after the Jest environment has been torn down. From src/lib/auth/__tests__/complete-auth-flow.test.ts.



ReferenceError: You are trying to `import` a file after the Jest environment has been torn down. From src/lib/auth/__tests__/complete-auth-flow.test.ts.



ReferenceError: You are trying to `import` a file after the Jest environment has been torn down. From src/lib/auth/__tests__/complete-auth-flow.test.ts.



ReferenceError: You are trying to `import` a file after the Jest environment has been torn down. From src/lib/auth/__tests__/complete-auth-flow.test.ts.



ReferenceError: You are trying to `import` a file after the Jest environment has been torn down. From src/lib/auth/__tests__/complete-auth-flow.test.ts.



ReferenceError: You are trying to `import` a file after the Jest environment has been torn down. From src/lib/auth/__tests__/complete-auth-flow.test.ts.



ReferenceError: You are trying to `import` a file after the Jest environment has been torn down. From src/lib/auth/__tests__/complete-auth-flow.test.ts.



ReferenceError: You are trying to `import` a file after the Jest environment has been torn down. From src/lib/auth/__tests__/complete-auth-flow.test.ts.



ReferenceError: You are trying to `import` a file after the Jest environment has been torn down. From src/lib/auth/__tests__/complete-auth-flow.test.ts.



ReferenceError: You are trying to `import` a file after the Jest environment has been torn down. From src/lib/auth/__tests__/complete-auth-flow.test.ts.



ReferenceError: You are trying to `import` a file after the Jest environment has been torn down. From src/lib/auth/__tests__/complete-auth-flow.test.ts.



ReferenceError: You are trying to `import` a file after the Jest environment has been torn down. From src/lib/auth/__tests__/complete-auth-flow.test.ts.



ReferenceError: You are trying to `import` a file after the Jest environment has been torn down. From src/lib/auth/__tests__/complete-auth-flow.test.ts.



ReferenceError: You are trying to `import` a file after the Jest environment has been torn down. From src/lib/auth/__tests__/complete-auth-flow.test.ts.



ReferenceError: You are trying to `import` a file after the Jest environment has been torn down. From src/lib/auth/__tests__/complete-auth-flow.test.ts.



ReferenceError: You are trying to `import` a file after the Jest environment has been torn down. From src/lib/auth/__tests__/complete-auth-flow.test.ts.



ReferenceError: You are trying to `import` a file after the Jest environment has been torn down. From src/lib/auth/__tests__/complete-auth-flow.test.ts.



ReferenceError: You are trying to `import` a file after the Jest environment has been torn down. From src/lib/auth/__tests__/complete-auth-flow.test.ts.



ReferenceError: You are trying to `import` a file after the Jest environment has been torn down. From src/lib/auth/__tests__/complete-auth-flow.test.ts.



ReferenceError: You are trying to `import` a file after the Jest environment has been torn down. From src/lib/auth/__tests__/complete-auth-flow.test.ts.



ReferenceError: You are trying to `import` a file after the Jest environment has been torn down. From src/lib/auth/__tests__/complete-auth-flow.test.ts.



ReferenceError: You are trying to `import` a file after the Jest environment has been torn down. From src/lib/auth/__tests__/complete-auth-flow.test.ts.



ReferenceError: You are trying to `import` a file after the Jest environment has been torn down. From src/lib/auth/__tests__/complete-auth-flow.test.ts.



ReferenceError: You are trying to `import` a file after the Jest environment has been torn down. From src/lib/auth/__tests__/complete-auth-flow.test.ts.



ReferenceError: You are trying to `import` a file after the Jest environment has been torn down. From src/lib/auth/__tests__/complete-auth-flow.test.ts.



ReferenceError: You are trying to `import` a file after the Jest environment has been torn down. From src/lib/auth/__tests__/complete-auth-flow.test.ts.


  console.log
    [dotenv@17.0.1] injecting env (31) from .env.test ‚Äì [tip] encrypt with dotenvx: https://dotenvx.com

      at _log (node_modules/dotenv/lib/main.js:102:11)

FAIL src/lib/ai/__tests__/sustainability-intelligence-complete.test.ts
  ‚óè Test suite failed to run

    SyntaxError: The requested module '@supabase/supabase-js' does not provide an export named 'createClient'

      at Runtime.linkAndEvaluateModule (node_modules/jest-runtime/build/index.js:708:5)

  console.log
    [dotenv@17.0.1] injecting env (31) from .env.test ‚Äì [tip] encrypt with dotenvx: https://dotenvx.com

      at _log (node_modules/dotenv/lib/main.js:102:11)


ReferenceError: You are trying to `import` a file after the Jest environment has been torn down. From src/lib/auth/__tests__/auth-service-real.test.ts.


FAIL src/lib/auth/__tests__/auth-service-real.test.ts
  ‚óè Test suite failed to run

    Cannot find module '../auth-service' from 'src/lib/auth/__tests__/auth-service-real.test.ts'

      at Resolver._throwModNotFoundError (node_modules/jest-resolve/build/resolver.js:427:11)

  console.log
    [dotenv@17.0.1] injecting env (31) from .env.test ‚Äì [tip] encrypt with dotenvx: https://dotenvx.com

      at _log (node_modules/dotenv/lib/main.js:102:11)


ReferenceError: You are trying to `import` a file after the Jest environment has been torn down. From src/lib/data/__tests__/document-parser-complete.test.ts.



ReferenceError: You are trying to `import` a file after the Jest environment has been torn down. From src/lib/data/__tests__/document-parser-complete.test.ts.



ReferenceError: You are trying to `import` a file after the Jest environment has been torn down. From src/lib/data/__tests__/document-parser-complete.test.ts.



ReferenceError: You are trying to `import` a file after the Jest environment has been torn down. From src/lib/data/__tests__/document-parser-complete.test.ts.


FAIL src/lib/data/__tests__/document-parser-complete.test.ts
  ‚óè Test suite failed to run

    Cannot find module '../ocr-service' from 'src/lib/data/__tests__/document-parser-complete.test.ts'

      at Resolver._throwModNotFoundError (node_modules/jest-resolve/build/resolver.js:427:11)

  console.log
    [dotenv@17.0.1] injecting env (31) from .env.test ‚Äì [tip] encrypt with dotenvx: https://dotenvx.com

      at _log (node_modules/dotenv/lib/main.js:102:11)

FAIL src/__tests__/e2e/complete-user-journey.test.ts
  ‚óè Test suite failed to run

    Configuration error:

    Could not locate module @/test/utils/test-client mapped as:
    /workspaces/blipee-os/src/$1.

    Please check your configuration for these entries:
    {
      "moduleNameMapper": {
        "/^@\/(.*)$/": "/workspaces/blipee-os/src/$1"
      },
      "resolver": undefined
    }

      at createNoMappedModuleFoundError (node_modules/jest-resolve/build/resolver.js:759:17)

  console.log
    [dotenv@17.0.1] injecting env (31) from .env.test ‚Äì [tip] encrypt with dotenvx: https://dotenvx.com

      at _log (node_modules/dotenv/lib/main.js:102:11)

FAIL src/lib/ai/__tests__/action-planner-complete.test.ts
  ‚óè Test suite failed to run

    SyntaxError: The requested module './providers/openai' does not provide an export named 'OpenAIProvider'

      at Runtime.linkAndEvaluateModule (node_modules/jest-runtime/build/index.js:708:5)

  console.log
    [dotenv@17.0.1] injecting env (31) from .env.test ‚Äì [tip] encrypt with dotenvx: https://dotenvx.com

      at _log (node_modules/dotenv/lib/main.js:102:11)

FAIL src/lib/ai/__tests__/multi-provider-orchestration.test.ts
  ‚óè Test suite failed to run

    SyntaxError: The requested module './providers/openai' does not provide an export named 'OpenAIProvider'

      at Runtime.linkAndEvaluateModule (node_modules/jest-runtime/build/index.js:708:5)

  console.log
    [dotenv@17.0.1] injecting env (31) from .env.test ‚Äì [tip] encrypt with dotenvx: https://dotenvx.com

      at _log (node_modules/dotenv/lib/main.js:102:11)

FAIL src/lib/ai/__tests__/context-engine-complete.test.ts
  ‚óè Test suite failed to run

    SyntaxError: The requested module '@supabase/ssr' does not provide an export named 'createServerClient'

      at Runtime.linkAndEvaluateModule (node_modules/jest-runtime/build/index.js:708:5)

  console.log
    [dotenv@17.0.1] injecting env (31) from .env.test ‚Äì [tip] encrypt with dotenvx: https://dotenvx.com

      at _log (node_modules/dotenv/lib/main.js:102:11)


ReferenceError: You are trying to `import` a file after the Jest environment has been torn down. From src/app/api/webhooks/__tests__/route-real.test.ts.



ReferenceError: You are trying to `import` a file after the Jest environment has been torn down. From src/app/api/webhooks/__tests__/route-real.test.ts.



ReferenceError: You are trying to `import` a file after the Jest environment has been torn down. From src/app/api/webhooks/__tests__/route-real.test.ts.



ReferenceError: You are trying to `import` a file after the Jest environment has been torn down. From src/app/api/webhooks/__tests__/route-real.test.ts.


FAIL src/app/api/webhooks/__tests__/route-real.test.ts
  ‚óè Test suite failed to run

    ReferenceError: Request is not defined

      at Object.Request (node_modules/next/src/server/web/spec-extension/request.ts:15:34)
      at Object.<anonymous> (node_modules/next/server.js:2:16)

  console.log
    [dotenv@17.0.1] injecting env (31) from .env.test ‚Äì [tip] encrypt with dotenvx: https://dotenvx.com

      at _log (node_modules/dotenv/lib/main.js:102:11)

FAIL src/app/api/organizations/__tests__/route-real.test.ts
  ‚óè Test suite failed to run

    Cannot find module '../route' from 'src/app/api/organizations/__tests__/route-real.test.ts'

      at Resolver._throwModNotFoundError (node_modules/jest-resolve/build/resolver.js:427:11)

  console.log
    [dotenv@17.0.1] injecting env (31) from .env.test ‚Äì [tip] encrypt with dotenvx: https://dotenvx.com

      at _log (node_modules/dotenv/lib/main.js:102:11)


ReferenceError: You are trying to `import` a file after the Jest environment has been torn down. From src/app/api/auth/signup/__tests__/route-real.test.ts.



ReferenceError: You are trying to `import` a file after the Jest environment has been torn down. From src/app/api/auth/signup/__tests__/route-real.test.ts.



ReferenceError: You are trying to `import` a file after the Jest environment has been torn down. From src/app/api/auth/signup/__tests__/route-real.test.ts.



ReferenceError: You are trying to `import` a file after the Jest environment has been torn down. From src/app/api/auth/signup/__tests__/route-real.test.ts.



ReferenceError: You are trying to `import` a file after the Jest environment has been torn down. From src/app/api/auth/signup/__tests__/route-real.test.ts.


FAIL src/app/api/auth/signup/__tests__/route-real.test.ts
  ‚óè Test suite failed to run

    ReferenceError: Request is not defined

      at Object.Request (node_modules/next/src/server/web/spec-extension/request.ts:15:34)
      at Object.<anonymous> (node_modules/next/server.js:2:16)

  console.log
    [dotenv@17.0.1] injecting env (31) from .env.test ‚Äì [tip] encrypt with dotenvx: https://dotenvx.com

      at _log (node_modules/dotenv/lib/main.js:102:11)


ReferenceError: You are trying to `import` a file after the Jest environment has been torn down. From src/app/api/auth/signin/__tests__/route-real.test.ts.



ReferenceError: You are trying to `import` a file after the Jest environment has been torn down. From src/app/api/auth/signin/__tests__/route-real.test.ts.



ReferenceError: You are trying to `import` a file after the Jest environment has been torn down. From src/app/api/auth/signin/__tests__/route-real.test.ts.



ReferenceError: You are trying to `import` a file after the Jest environment has been torn down. From src/app/api/auth/signin/__tests__/route-real.test.ts.



ReferenceError: You are trying to `import` a file after the Jest environment has been torn down. From src/app/api/auth/signin/__tests__/route-real.test.ts.



ReferenceError: You are trying to `import` a file after the Jest environment has been torn down. From src/app/api/auth/signin/__tests__/route-real.test.ts.


FAIL src/app/api/auth/signin/__tests__/route-real.test.ts
  ‚óè Test suite failed to run

    ReferenceError: Request is not defined

      at Object.Request (node_modules/next/src/server/web/spec-extension/request.ts:15:34)
      at Object.<anonymous> (node_modules/next/server.js:2:16)

  console.log
    [dotenv@17.0.1] injecting env (31) from .env.test ‚Äì [tip] encrypt with dotenvx: https://dotenvx.com

      at _log (node_modules/dotenv/lib/main.js:102:11)


ReferenceError: You are trying to `import` a file after the Jest environment has been torn down. From src/app/api/health/__tests__/route-real.test.ts.


FAIL src/app/api/health/__tests__/route-real.test.ts
  ‚óè Test suite failed to run

    ReferenceError: Request is not defined

      at Object.Request (node_modules/next/src/server/web/spec-extension/request.ts:15:34)
      at Object.<anonymous> (node_modules/next/server.js:2:16)

  console.log
    [dotenv@17.0.1] injecting env (31) from .env.test ‚Äì [tip] encrypt with dotenvx: https://dotenvx.com

      at _log (node_modules/dotenv/lib/main.js:102:11)

  console.log
    [dotenv@17.0.1] injecting env (31) from .env.test ‚Äì [tip] encrypt with dotenvx: https://dotenvx.com

      at _log (node_modules/dotenv/lib/main.js:102:11)

  console.error
    Warning: The tag <index> is unrecognized in this browser. If you meant to render a React component, start its name with an uppercase letter.
        at index

      243 |       return;
      244 |     }
    > 245 |     originalError.call(console, ...args);
          |                   ^
      246 |   };
      247 |   
      248 |   console.warn = (...args) => {

      at console.call [as error] (jest.setup.enterprise.js:245:19)
      at printWarning (node_modules/react-dom/cjs/react-dom.development.js:86:30)
      at error (node_modules/react-dom/cjs/react-dom.development.js:60:7)
      at createElement (node_modules/react-dom/cjs/react-dom.development.js:9816:9)
      at createInstance (node_modules/react-dom/cjs/react-dom.development.js:10941:20)
      at completeWork (node_modules/react-dom/cjs/react-dom.development.js:22226:28)
      at completeUnitOfWork (node_modules/react-dom/cjs/react-dom.development.js:26632:16)
      at performUnitOfWork (node_modules/react-dom/cjs/react-dom.development.js:26607:5)
      at workLoopSync (node_modules/react-dom/cjs/react-dom.development.js:26505:5)
      at renderRootSync (node_modules/react-dom/cjs/react-dom.development.js:26473:7)
      at performConcurrentWorkOnRoot (node_modules/react-dom/cjs/react-dom.development.js:25777:74)
      at flushActQueue (node_modules/react/cjs/react.development.js:2667:24)
      at act (node_modules/react/cjs/react.development.js:2582:11)
      at node_modules/@testing-library/react/dist/act-compat.js:47:25
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:190:26)
      at render (node_modules/@testing-library/react/dist/pure.js:292:10)
      at Object.render (src/components/lazy/__tests__/index.test.tsx:11:29)

PASS src/components/lazy/__tests__/index.test.tsx
  index
    Rendering
      ‚úì should render without crashing (29 ms)
      ‚úì should match snapshot (4 ms)
    Props
      ‚úì should handle all prop combinations
    Interactions
      ‚úì should handle user interactions correctly (2 ms)
    Accessibility
      ‚úì should have no accessibility violations (2 ms)
      ‚úì should support keyboard navigation (2 ms)
    Edge Cases
      ‚úì should handle error states gracefully
      ‚úì should handle loading states
    Performance
      ‚úì should not cause unnecessary re-renders

  console.log
    [dotenv@17.0.1] injecting env (31) from .env.test ‚Äì [tip] encrypt with dotenvx: https://dotenvx.com

      at _log (node_modules/dotenv/lib/main.js:102:11)

PASS src/components/ui/__tests__/button.test.tsx
  Button
    Basic rendering
      ‚úì should render a button element by default (39 ms)
      ‚úì should render children correctly (3 ms)
      ‚úì should apply custom className (4 ms)
      ‚úì should forward ref correctly (9 ms)
    Variants
      ‚úì should apply default variant by default (5 ms)
      ‚úì should apply destructive variant (3 ms)
      ‚úì should apply outline variant (5 ms)
      ‚úì should apply secondary variant (4 ms)
      ‚úì should apply ghost variant (5 ms)
      ‚úì should apply link variant (10 ms)
    Sizes
      ‚úì should apply default size by default (5 ms)
      ‚úì should apply sm size (4 ms)
      ‚úì should apply lg size (7 ms)
      ‚úì should apply icon size (5 ms)
    asChild prop
      ‚úì should render as Slot when asChild is true (8 ms)
      ‚úì should render as button when asChild is false (6 ms)
    HTML attributes
      ‚úì should pass through HTML button attributes (4 ms)
      ‚úì should handle onClick events (20 ms)
      ‚úì should not trigger onClick when disabled (14 ms)
    Combined props
      ‚úì should combine variant and size correctly (4 ms)
      ‚úì should combine all props correctly (9 ms)
    Display name
      ‚úì should have the correct display name (1 ms)
  buttonVariants
    ‚úì should generate correct classes for default variant and size (1 ms)
    ‚úì should generate correct classes for specific variant (1 ms)
    ‚úì should generate correct classes for specific size (1 ms)
    ‚úì should generate correct classes for variant and size combination
    ‚úì should include base classes
    ‚úì should handle undefined variant (1 ms)
    ‚úì should handle undefined size
    ‚úì should handle empty object
    ‚úì should handle custom className through cn function (1 ms)

  console.log
    [dotenv@17.0.1] injecting env (31) from .env.test ‚Äì [tip] encrypt with dotenvx: https://dotenvx.com

      at _log (node_modules/dotenv/lib/main.js:102:11)

  console.error
    Warning: Function components cannot be given refs. Attempts to access this ref will fail. Did you mean to use React.forwardRef()?
    
    Check the render method of `RovingFocusGroupCollectionSlot`.
        at children (/workspaces/blipee-os/src/test/mocks/radix-slot.js:9:13)
        at /workspaces/blipee-os/node_modules/@radix-ui/react-collection/src/collection-legacy.tsx:60:15
        at Provider (/workspaces/blipee-os/node_modules/@radix-ui/react-context/src/create-context.tsx:59:15)
        at CollectionProvider (/workspaces/blipee-os/node_modules/@radix-ui/react-collection/src/collection-legacy.tsx:39:13)
        at /workspaces/blipee-os/node_modules/@radix-ui/react-roving-focus/src/roving-focus-group.tsx:72:41
        at /workspaces/blipee-os/node_modules/@radix-ui/react-tabs/src/tabs.tsx:120:13
        at className (/workspaces/blipee-os/src/components/ui/tabs.tsx:10:6)
        at div
        at /workspaces/blipee-os/node_modules/@radix-ui/react-primitive/src/primitive.tsx:40:13
        at Provider (/workspaces/blipee-os/node_modules/@radix-ui/react-context/src/create-context.tsx:59:15)
        at /workspaces/blipee-os/node_modules/@radix-ui/react-tabs/src/tabs.tsx:67:7

      243 |       return;
      244 |     }
    > 245 |     originalError.call(console, ...args);
          |                   ^
      246 |   };
      247 |   
      248 |   console.warn = (...args) => {

      at console.call [as error] (jest.setup.enterprise.js:245:19)
      at printWarning (node_modules/react-dom/cjs/react-dom.development.js:86:30)
      at error (node_modules/react-dom/cjs/react-dom.development.js:60:7)
      at validateFunctionComponentInDev (node_modules/react-dom/cjs/react-dom.development.js:20222:9)
      at mountIndeterminateComponent (node_modules/react-dom/cjs/react-dom.development.js:20189:7)
      at beginWork (node_modules/react-dom/cjs/react-dom.development.js:21626:16)
      at beginWork$1 (node_modules/react-dom/cjs/react-dom.development.js:27465:14)
      at performUnitOfWork (node_modules/react-dom/cjs/react-dom.development.js:26599:12)
      at workLoopSync (node_modules/react-dom/cjs/react-dom.development.js:26505:5)
      at renderRootSync (node_modules/react-dom/cjs/react-dom.development.js:26473:7)
      at performConcurrentWorkOnRoot (node_modules/react-dom/cjs/react-dom.development.js:25777:74)
      at flushActQueue (node_modules/react/cjs/react.development.js:2667:24)
      at act (node_modules/react/cjs/react.development.js:2582:11)
      at node_modules/@testing-library/react/dist/act-compat.js:47:25
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:190:26)
      at render (node_modules/@testing-library/react/dist/pure.js:292:10)
      at Object.render (src/components/ui/__tests__/tabs.test.tsx:7:5)

  console.error
    Warning: Function components cannot be given refs. Attempts to access this ref will fail. Did you mean to use React.forwardRef()?
    
    Check the render method of `Primitive.div`.
        at children (/workspaces/blipee-os/src/test/mocks/radix-slot.js:9:13)
        at /workspaces/blipee-os/node_modules/@radix-ui/react-primitive/src/primitive.tsx:40:13
        at Provider (/workspaces/blipee-os/node_modules/@radix-ui/react-context/src/create-context.tsx:59:15)
        at /workspaces/blipee-os/node_modules/@radix-ui/react-roving-focus/src/roving-focus-group.tsx:102:5
        at div
        at children (/workspaces/blipee-os/src/test/mocks/radix-slot.js:9:13)
        at /workspaces/blipee-os/node_modules/@radix-ui/react-collection/src/collection-legacy.tsx:60:15
        at Provider (/workspaces/blipee-os/node_modules/@radix-ui/react-context/src/create-context.tsx:59:15)
        at CollectionProvider (/workspaces/blipee-os/node_modules/@radix-ui/react-collection/src/collection-legacy.tsx:39:13)
        at /workspaces/blipee-os/node_modules/@radix-ui/react-roving-focus/src/roving-focus-group.tsx:72:41
        at /workspaces/blipee-os/node_modules/@radix-ui/react-tabs/src/tabs.tsx:120:13
        at className (/workspaces/blipee-os/src/components/ui/tabs.tsx:10:6)
        at div
        at /workspaces/blipee-os/node_modules/@radix-ui/react-primitive/src/primitive.tsx:40:13
        at Provider (/workspaces/blipee-os/node_modules/@radix-ui/react-context/src/create-context.tsx:59:15)
        at /workspaces/blipee-os/node_modules/@radix-ui/react-tabs/src/tabs.tsx:67:7

      243 |       return;
      244 |     }
    > 245 |     originalError.call(console, ...args);
          |                   ^
      246 |   };
      247 |   
      248 |   console.warn = (...args) => {

      at console.call [as error] (jest.setup.enterprise.js:245:19)
      at printWarning (node_modules/react-dom/cjs/react-dom.development.js:86:30)
      at error (node_modules/react-dom/cjs/react-dom.development.js:60:7)
      at validateFunctionComponentInDev (node_modules/react-dom/cjs/react-dom.development.js:20222:9)
      at mountIndeterminateComponent (node_modules/react-dom/cjs/react-dom.development.js:20189:7)
      at beginWork (node_modules/react-dom/cjs/react-dom.development.js:21626:16)
      at beginWork$1 (node_modules/react-dom/cjs/react-dom.development.js:27465:14)
      at performUnitOfWork (node_modules/react-dom/cjs/react-dom.development.js:26599:12)
      at workLoopSync (node_modules/react-dom/cjs/react-dom.development.js:26505:5)
      at renderRootSync (node_modules/react-dom/cjs/react-dom.development.js:26473:7)
      at performConcurrentWorkOnRoot (node_modules/react-dom/cjs/react-dom.development.js:25777:74)
      at flushActQueue (node_modules/react/cjs/react.development.js:2667:24)
      at act (node_modules/react/cjs/react.development.js:2582:11)
      at node_modules/@testing-library/react/dist/act-compat.js:47:25
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:190:26)
      at render (node_modules/@testing-library/react/dist/pure.js:292:10)
      at Object.render (src/components/ui/__tests__/tabs.test.tsx:7:5)

  console.error
    Warning: Function components cannot be given refs. Attempts to access this ref will fail. Did you mean to use React.forwardRef()?
    
    Check the render method of `RovingFocusGroupCollectionItemSlot`.
        at children (/workspaces/blipee-os/src/test/mocks/radix-slot.js:9:13)
        at /workspaces/blipee-os/node_modules/@radix-ui/react-collection/src/collection-legacy.tsx:84:15
        at /workspaces/blipee-os/node_modules/@radix-ui/react-roving-focus/src/roving-focus-group.tsx:217:7
        at /workspaces/blipee-os/node_modules/@radix-ui/react-tabs/src/tabs.tsx:158:13
        at className (/workspaces/blipee-os/src/components/ui/tabs.tsx:25:6)
        at div
        at /workspaces/blipee-os/node_modules/@radix-ui/react-primitive/src/primitive.tsx:40:13
        at div
        at children (/workspaces/blipee-os/src/test/mocks/radix-slot.js:9:13)
        at /workspaces/blipee-os/node_modules/@radix-ui/react-primitive/src/primitive.tsx:40:13
        at Provider (/workspaces/blipee-os/node_modules/@radix-ui/react-context/src/create-context.tsx:59:15)
        at /workspaces/blipee-os/node_modules/@radix-ui/react-roving-focus/src/roving-focus-group.tsx:102:5
        at div
        at children (/workspaces/blipee-os/src/test/mocks/radix-slot.js:9:13)
        at /workspaces/blipee-os/node_modules/@radix-ui/react-collection/src/collection-legacy.tsx:60:15
        at Provider (/workspaces/blipee-os/node_modules/@radix-ui/react-context/src/create-context.tsx:59:15)
        at CollectionProvider (/workspaces/blipee-os/node_modules/@radix-ui/react-collection/src/collection-legacy.tsx:39:13)
        at /workspaces/blipee-os/node_modules/@radix-ui/react-roving-focus/src/roving-focus-group.tsx:72:41
        at /workspaces/blipee-os/node_modules/@radix-ui/react-tabs/src/tabs.tsx:120:13
        at className (/workspaces/blipee-os/src/components/ui/tabs.tsx:10:6)
        at div
        at /workspaces/blipee-os/node_modules/@radix-ui/react-primitive/src/primitive.tsx:40:13
        at Provider (/workspaces/blipee-os/node_modules/@radix-ui/react-context/src/create-context.tsx:59:15)
        at /workspaces/blipee-os/node_modules/@radix-ui/react-tabs/src/tabs.tsx:67:7

      243 |       return;
      244 |     }
    > 245 |     originalError.call(console, ...args);
          |                   ^
      246 |   };
      247 |   
      248 |   console.warn = (...args) => {

      at console.call [as error] (jest.setup.enterprise.js:245:19)
      at printWarning (node_modules/react-dom/cjs/react-dom.development.js:86:30)
      at error (node_modules/react-dom/cjs/react-dom.development.js:60:7)
      at validateFunctionComponentInDev (node_modules/react-dom/cjs/react-dom.development.js:20222:9)
      at mountIndeterminateComponent (node_modules/react-dom/cjs/react-dom.development.js:20189:7)
      at beginWork (node_modules/react-dom/cjs/react-dom.development.js:21626:16)
      at beginWork$1 (node_modules/react-dom/cjs/react-dom.development.js:27465:14)
      at performUnitOfWork (node_modules/react-dom/cjs/react-dom.development.js:26599:12)
      at workLoopSync (node_modules/react-dom/cjs/react-dom.development.js:26505:5)
      at renderRootSync (node_modules/react-dom/cjs/react-dom.development.js:26473:7)
      at performConcurrentWorkOnRoot (node_modules/react-dom/cjs/react-dom.development.js:25777:74)
      at flushActQueue (node_modules/react/cjs/react.development.js:2667:24)
      at act (node_modules/react/cjs/react.development.js:2582:11)
      at node_modules/@testing-library/react/dist/act-compat.js:47:25
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:190:26)
      at render (node_modules/@testing-library/react/dist/pure.js:292:10)
      at Object.render (src/components/ui/__tests__/tabs.test.tsx:7:5)

PASS src/components/ui/__tests__/tabs.test.tsx
  Tabs components
    ‚úì should render Tabs component (86 ms)
    ‚úì should show default tab content (8 ms)
    ‚úì should render all tab triggers and content (21 ms)
    ‚úì should apply custom className (6 ms)

  console.log
    [dotenv@17.0.1] injecting env (31) from .env.test ‚Äì [tip] encrypt with dotenvx: https://dotenvx.com

      at _log (node_modules/dotenv/lib/main.js:102:11)

PASS src/components/ui/__tests__/card.test.tsx
  Card
    Card component
      ‚úì should render with children (15 ms)
      ‚úì should apply default classes (2 ms)
      ‚úì should apply custom className (1 ms)
      ‚úì should forward ref correctly (2 ms)
      ‚úì should pass through HTML attributes (2 ms)
      ‚úì should have correct display name (1 ms)
    CardHeader component
      ‚úì should render with children (1 ms)
      ‚úì should apply default classes (2 ms)
      ‚úì should apply custom className (1 ms)
      ‚úì should forward ref correctly (1 ms)
      ‚úì should have correct display name (1 ms)
    CardTitle component
      ‚úì should render with children (2 ms)
      ‚úì should render as h3 element (2 ms)
      ‚úì should apply default classes (2 ms)
      ‚úì should apply custom className (2 ms)
      ‚úì should forward ref correctly (2 ms)
      ‚úì should have correct display name
    CardDescription component
      ‚úì should render with children (2 ms)
      ‚úì should render as p element (2 ms)
      ‚úì should apply default classes (2 ms)
      ‚úì should apply custom className (13 ms)
      ‚úì should forward ref correctly (1 ms)
      ‚úì should have correct display name (1 ms)
    CardContent component
      ‚úì should render with children (1 ms)
      ‚úì should apply default classes (2 ms)
      ‚úì should apply custom className (2 ms)
      ‚úì should forward ref correctly (1 ms)
      ‚úì should have correct display name (1 ms)
    CardFooter component
      ‚úì should render with children (1 ms)
      ‚úì should apply default classes (1 ms)
      ‚úì should apply custom className (1 ms)
      ‚úì should forward ref correctly
      ‚úì should have correct display name (1 ms)
    Full Card composition
      ‚úì should render complete card with all subcomponents (3 ms)
      ‚úì should handle missing optional components (1 ms)
      ‚úì should pass through all HTML attributes to subcomponents (3 ms)
    Edge cases
      ‚úì should handle empty content (1 ms)
      ‚úì should handle null children (1 ms)
      ‚úì should handle complex nested content (2 ms)

  console.log
    [dotenv@17.0.1] injecting env (31) from .env.test ‚Äì [tip] encrypt with dotenvx: https://dotenvx.com

      at _log (node_modules/dotenv/lib/main.js:102:11)

PASS src/components/ui/__tests__/progress.test.tsx
  Progress component
    ‚úì should render progress bar (21 ms)
    ‚úì should have correct ARIA attributes (3 ms)
    ‚úì should render with 0 value (3 ms)
    ‚úì should render with 100 value (2 ms)
    ‚úì should apply custom className (2 ms)
    ‚úì should render indicator element (3 ms)

  console.log
    [dotenv@17.0.1] injecting env (31) from .env.test ‚Äì [tip] encrypt with dotenvx: https://dotenvx.com

      at _log (node_modules/dotenv/lib/main.js:102:11)

PASS src/lib/design/__tests__/theme.test.ts
  Premium Theme
    Colors
      ‚úì should have correct background colors (1 ms)
      ‚úì should have correct text colors
      ‚úì should have correct brand colors (2 ms)
      ‚úì should have correct gradients (2 ms)
      ‚úì should have correct status colors (1 ms)
    Border Radius
      ‚úì should have correct border radius values (1 ms)
    Shadows
      ‚úì should have correct shadow values (1 ms)
    Transitions
      ‚úì should have correct transition values (1 ms)
    Typography
      ‚úì should have correct display large typography (2 ms)
      ‚úì should have correct display medium typography
      ‚úì should have correct heading typography (1 ms)
      ‚úì should have correct body typography (1 ms)
    Animations
      ‚úì should have fadeIn animation (1 ms)
      ‚úì should have fadeInUp animation
      ‚úì should have slideIn animation (1 ms)
      ‚úì should have pulse animation (1 ms)
  Glassmorphism
    ‚úì should have correct glassmorphism properties (1 ms)
    ‚úì should reference theme values correctly
  Gradient Text
    ‚úì should generate correct gradient text styles (1 ms)
    ‚úì should work with theme gradients (15 ms)
    ‚úì should work with custom gradients
  Theme Completeness
    ‚úì should have all required color properties (3 ms)
    ‚úì should have all required style properties (1 ms)
    ‚úì should have consistent color format (1 ms)

  console.log
    [dotenv@17.0.1] injecting env (31) from .env.test ‚Äì [tip] encrypt with dotenvx: https://dotenvx.com

      at _log (node_modules/dotenv/lib/main.js:102:11)

PASS src/lib/utils/__tests__/simple.test.ts
  Simple Utilities
    Date formatting
      ‚úì should format dates correctly (1 ms)
      ‚úì should handle date calculations
    String manipulation
      ‚úì should capitalize strings (1 ms)
      ‚úì should truncate strings (1 ms)
    Number formatting
      ‚úì should format currency
      ‚úì should format percentages (1 ms)
    Array operations
      ‚úì should chunk arrays (2 ms)
      ‚úì should remove duplicates
    Object operations
      ‚úì should deep clone objects (1 ms)
      ‚úì should merge objects (1 ms)

  console.log
    [dotenv@17.0.1] injecting env (31) from .env.test ‚Äì [tip] encrypt with dotenvx: https://dotenvx.com

      at _log (node_modules/dotenv/lib/main.js:102:11)

PASS src/components/premium/__tests__/GlassCard.simple.test.tsx
  GlassCard
    ‚úì should render with children (13 ms)
    ‚úì should handle onClick when provided (6 ms)
    ‚úì should apply correct classes for variants (4 ms)
    ‚úì should handle multiple children (4 ms)
    ‚úì should combine custom className with default classes (3 ms)

  console.log
    [dotenv@17.0.1] injecting env (31) from .env.test ‚Äì [tip] encrypt with dotenvx: https://dotenvx.com

      at _log (node_modules/dotenv/lib/main.js:102:11)

PASS src/lib/cache/__tests__/cache-service.test.ts
  Cache Service
    Basic operations
      ‚úì should set and get values (9 ms)
      ‚úì should handle complex values (1 ms)
      ‚úì should return null for missing keys
      ‚úì should check if key exists (1 ms)
    TTL functionality
      ‚úì should expire values after TTL (1 ms)
      ‚úì should not expire values without TTL
    Delete operations
      ‚úì should delete specific keys (1 ms)
      ‚úì should clear all values (1 ms)
    Statistics
      ‚úì should track cache hits and misses (1 ms)
      ‚úì should track sets and deletes
    Size management
      ‚úì should report correct size
      ‚úì should clean expired entries when checking size (1 ms)

  console.log
    [dotenv@17.0.1] injecting env (31) from .env.test ‚Äì [tip] encrypt with dotenvx: https://dotenvx.com

      at _log (node_modules/dotenv/lib/main.js:102:11)

PASS src/lib/data/__tests__/formatters.test.ts
  Data Formatters
    Number formatting
      ‚úì should format numbers with commas (17 ms)
      ‚úì should format compact numbers (1 ms)
    Date formatting
      ‚úì should format dates (4 ms)
      ‚úì should format relative times (1 ms)
    String formatting
      ‚úì should create slugs
      ‚úì should convert to title case (1 ms)

  console.log
    [dotenv@17.0.1] injecting env (31) from .env.test ‚Äì [tip] encrypt with dotenvx: https://dotenvx.com

      at _log (node_modules/dotenv/lib/main.js:102:11)

PASS src/lib/design/__tests__/glass-morphism.test.ts
  glass-morphism styles
    glassBase
      ‚úì should have correct base styles (2 ms)
    glassSoft
      ‚úì should include all base styles
      ‚úì should have soft shadow
    glassStrong
      ‚úì should include base backdrop filters (1 ms)
      ‚úì should have stronger background and border (1 ms)
      ‚úì should have stronger shadow
    glassGradient
      ‚úì should generate correct styles for primary gradient (2 ms)
      ‚úì should generate correct styles for blue gradient
      ‚úì should generate correct styles for success gradient (1 ms)
      ‚úì should generate correct styles for coral gradient
      ‚úì should generate correct styles for brand gradient (1 ms)
      ‚úì should generate correct styles for dark gradient
      ‚úì should have correct pseudo-element styles (1 ms)
    glassClasses
      ‚úì should have correct base classes (1 ms)
      ‚úì should have correct soft classes (1 ms)
      ‚úì should have correct strong classes
      ‚úì should have correct hover classes (1 ms)
      ‚úì should have correct focus classes
    glassAnimations
      fadeIn animation
        ‚úì should have correct initial state
        ‚úì should have correct animate state
        ‚úì should have correct transition (1 ms)
      slideUp animation
        ‚úì should have correct initial state
        ‚úì should have correct animate state
        ‚úì should have correct transition
      scale animation
        ‚úì should have correct initial state
        ‚úì should have correct animate state
        ‚úì should have correct transition (9 ms)
    gradientTextClasses
      ‚úì should have correct primary gradient text classes
      ‚úì should have correct blue gradient text classes
      ‚úì should have correct success gradient text classes
      ‚úì should have correct brand gradient text classes
    glowEffects
      ‚úì should have correct purple glow (1 ms)
      ‚úì should have correct blue glow
      ‚úì should have correct pink glow (1 ms)
      ‚úì should have correct brand glow
    type checking
      ‚úì should accept valid gradient types (1 ms)

  console.log
    [dotenv@17.0.1] injecting env (31) from .env.test ‚Äì [tip] encrypt with dotenvx: https://dotenvx.com

      at _log (node_modules/dotenv/lib/main.js:102:11)

PASS src/lib/design/__tests__/colors.test.ts
  Color Utilities
    Color conversions
      ‚úì should convert hex to RGB (2 ms)
      ‚úì should convert RGB to hex
      ‚úì should handle invalid hex values
    Color manipulation
      ‚úì should darken colors (1 ms)
      ‚úì should lighten colors (1 ms)

  console.log
    [dotenv@17.0.1] injecting env (31) from .env.test ‚Äì [tip] encrypt with dotenvx: https://dotenvx.com

      at _log (node_modules/dotenv/lib/main.js:102:11)

PASS src/lib/auth/webauthn/__tests__/types.test.ts
  WebAuthn types
    ‚úì should create valid WebAuthnCredential objects (2 ms)
    ‚úì should create valid WebAuthnChallenge objects (1 ms)
    ‚úì should create valid WebAuthnRegistrationOptions
    ‚úì should create valid WebAuthnAuthenticationOptions (1 ms)
    ‚úì should create valid WebAuthnDevice objects
    ‚úì should handle device types

  console.log
    [dotenv@17.0.1] injecting env (31) from .env.test ‚Äì [tip] encrypt with dotenvx: https://dotenvx.com

      at _log (node_modules/dotenv/lib/main.js:102:11)

PASS src/lib/validation/__tests__/validators.test.ts
  Validation Helpers
    Email validation
      ‚úì should validate correct emails (1 ms)
      ‚úì should reject invalid emails
    URL validation
      ‚úì should validate correct URLs (1 ms)
      ‚úì should reject invalid URLs (1 ms)
    UUID validation
      ‚úì should validate correct UUIDs (1 ms)
      ‚úì should reject invalid UUIDs (1 ms)
    Password validation
      ‚úì should validate strong passwords
      ‚úì should reject weak passwords
    Credit card validation
      ‚úì should validate correct card numbers (1 ms)
      ‚úì should reject invalid card numbers

  console.log
    [dotenv@17.0.1] injecting env (31) from .env.test ‚Äì [tip] encrypt with dotenvx: https://dotenvx.com

      at _log (node_modules/dotenv/lib/main.js:102:11)

PASS src/lib/utils/__tests__/utils.test.ts
  utils
    cn
      ‚úì should combine class names (8 ms)
      ‚úì should handle conditional classes (1 ms)
      ‚úì should handle arrays (1 ms)
      ‚úì should handle undefined and null values
      ‚úì should handle empty strings (1 ms)
      ‚úì should return empty string for no valid inputs (1 ms)

  console.log
    [dotenv@17.0.1] injecting env (31) from .env.test ‚Äì [tip] encrypt with dotenvx: https://dotenvx.com

      at _log (node_modules/dotenv/lib/main.js:102:11)

PASS src/types/__tests__/auth.test.ts
  Auth types
    ‚úì should create valid User objects (1 ms)
    ‚úì should create valid Session objects (1 ms)
    ‚úì should create valid AuthError objects
    ‚úì should handle AuthProvider enum

  console.log
    [dotenv@17.0.1] injecting env (31) from .env.test ‚Äì [tip] encrypt with dotenvx: https://dotenvx.com

      at _log (node_modules/dotenv/lib/main.js:102:11)

PASS src/lib/__tests__/utils.test.ts
  cn (classname utility)
    ‚úì should merge single class string (4 ms)
    ‚úì should merge multiple class strings
    ‚úì should handle undefined values
    ‚úì should handle null values (1 ms)
    ‚úì should handle false values
    ‚úì should handle true with class string
    ‚úì should handle false with class string (1 ms)
    ‚úì should handle empty strings
    ‚úì should handle arrays of classes (1 ms)
    ‚úì should handle nested arrays
    ‚úì should handle objects with boolean values
    ‚úì should merge Tailwind classes correctly (1 ms)
    ‚úì should handle conflicting Tailwind classes
    ‚úì should preserve important modifiers (1 ms)
    ‚úì should handle arbitrary values (9 ms)
    ‚úì should handle complex class combinations (1 ms)
    ‚úì should handle responsive classes
    ‚úì should handle duplicate classes (1 ms)
    ‚úì should handle mixed input types (4 ms)
    ‚úì should return empty string for no valid inputs (1 ms)
    ‚úì should handle number values
    ‚úì should handle deeply nested structures (1 ms)
    ‚úì should handle variant group syntax
    ‚úì should handle modifiers with arbitrary values (1 ms)
    ‚úì should preserve custom CSS properties
    ‚úì should handle edge case with only falsy values (1 ms)
    ‚úì should handle very long class strings (2 ms)
    ‚úì should handle special characters in class names

  console.log
    [dotenv@17.0.1] injecting env (31) from .env.test ‚Äì [tip] encrypt with dotenvx: https://dotenvx.com

      at _log (node_modules/dotenv/lib/main.js:102:11)

PASS src/lib/auth/__tests__/permission-service.test.ts
  Permission Service
    Role assignment
      ‚úì should assign roles to users (2 ms)
      ‚úì should handle multiple roles (1 ms)
      ‚úì should throw for unknown role (12 ms)
    Permission checking
      ‚úì should check direct permissions (1 ms)
      ‚úì should check inherited permissions (1 ms)
      ‚úì should handle wildcard permissions
    Resource access
      ‚úì should check resource access (5 ms)
    Permission collection
      ‚úì should get all permissions for user (1 ms)
      ‚úì should handle account owner wildcard (1 ms)
    Role removal
      ‚úì should remove roles (1 ms)

  console.log
    [dotenv@17.0.1] injecting env (31) from .env.test ‚Äì [tip] encrypt with dotenvx: https://dotenvx.com

      at _log (node_modules/dotenv/lib/main.js:102:11)

PASS src/lib/monitoring/__tests__/types.test.ts
  Monitoring types
    ‚úì should create valid Metric objects (1 ms)
    ‚úì should create valid Alert objects
    ‚úì should create valid HealthCheck objects (1 ms)
    ‚úì should create valid PerformanceMetric objects (1 ms)
    ‚úì should create valid MonitoringConfig objects

  console.log
    [dotenv@17.0.1] injecting env (31) from .env.test ‚Äì [tip] encrypt with dotenvx: https://dotenvx.com

      at _log (node_modules/dotenv/lib/main.js:102:11)

PASS src/types/__tests__/database.test.ts
  Database types
    ‚úì should export Database type (2 ms)
    ‚úì should have public schema (1 ms)
    ‚úì should allow table type access

  console.log
    [dotenv@17.0.1] injecting env (31) from .env.test ‚Äì [tip] encrypt with dotenvx: https://dotenvx.com

      at _log (node_modules/dotenv/lib/main.js:102:11)

PASS src/lib/compliance/__tests__/types.test.ts
  Compliance types
    ‚úì should create valid ComplianceRule objects (2 ms)
    ‚úì should create valid ComplianceCheck objects (1 ms)
    ‚úì should create valid ComplianceResult objects (10 ms)
    ‚úì should create valid ComplianceReport objects (1 ms)
    ‚úì should handle RegulatoryFramework enum

  console.log
    [dotenv@17.0.1] injecting env (31) from .env.test ‚Äì [tip] encrypt with dotenvx: https://dotenvx.com

      at _log (node_modules/dotenv/lib/main.js:102:11)

PASS src/lib/constants/__tests__/constants.test.ts
  Application Constants
    API limits
      ‚úì should have valid file size limits (1 ms)
      ‚úì should have valid rate limits
    Timeouts
      ‚úì should have reasonable timeout values (1 ms)
    Pagination
      ‚úì should have valid pagination settings (1 ms)
    Validation patterns
      ‚úì should validate usernames correctly (2 ms)
      ‚úì should validate emails correctly (1 ms)

  console.log
    [dotenv@17.0.1] injecting env (31) from .env.test ‚Äì [tip] encrypt with dotenvx: https://dotenvx.com

      at _log (node_modules/dotenv/lib/main.js:102:11)

PASS src/components/premium/__tests__/index.test.ts
  Premium components index
    ‚úì should export GlassCard component (1 ms)
    ‚úì should export GradientButton component (1 ms)
    ‚úì should export all expected components (1 ms)

  console.log
    [dotenv@17.0.1] injecting env (31) from .env.test ‚Äì [tip] encrypt with dotenvx: https://dotenvx.com

      at _log (node_modules/dotenv/lib/main.js:102:11)

PASS src/lib/utils/__tests__/object-utils.test.ts
  Object Utilities
    pick
      ‚úì should pick specified keys (3 ms)
      ‚úì should ignore non-existent keys (1 ms)
    omit
      ‚úì should omit specified keys
      ‚úì should handle non-existent keys
    isEmpty
      ‚úì should check empty objects (1 ms)
      ‚úì should check empty arrays (1 ms)
      ‚úì should check empty strings (1 ms)
      ‚úì should check null/undefined (1 ms)
    deepMerge
      ‚úì should merge nested objects
      ‚úì should handle arrays as values
    flattenObject
      ‚úì should flatten nested objects (3 ms)
      ‚úì should handle arrays in objects

  console.log
    [dotenv@17.0.1] injecting env (31) from .env.test ‚Äì [tip] encrypt with dotenvx: https://dotenvx.com

      at _log (node_modules/dotenv/lib/main.js:102:11)

PASS src/lib/config/__tests__/env-utils.test.ts
  Environment Utilities
    getEnv
      ‚úì should get environment variable (3 ms)
      ‚úì should return default value if not set
    getEnvRequired
      ‚úì should get required environment variable
      ‚úì should throw if required variable is missing (5 ms)
    getEnvInt
      ‚úì should parse integer from env
      ‚úì should return default for missing int (1 ms)
    getEnvBool
      ‚úì should parse boolean from env
      ‚úì should return default for missing bool (1 ms)
    Environment checks
      ‚úì should detect test environment

  console.log
    [dotenv@17.0.1] injecting env (31) from .env.test ‚Äì [tip] encrypt with dotenvx: https://dotenvx.com

      at _log (node_modules/dotenv/lib/main.js:102:11)

PASS src/lib/auth/recovery/__tests__/types.test.ts
  Recovery types
    ‚úì should create valid RecoveryCode objects (2 ms)
    ‚úì should create valid RecoverySession objects (1 ms)
    ‚úì should handle RecoveryMethod types
    ‚úì should create valid RecoveryOptions objects
    ‚úì should handle RecoveryStatus enum (2 ms)
    ‚úì should create recovery code with default format (1 ms)

  console.log
    [dotenv@17.0.1] injecting env (31) from .env.test ‚Äì [tip] encrypt with dotenvx: https://dotenvx.com

      at _log (node_modules/dotenv/lib/main.js:102:11)

PASS src/types/__tests__/conversation.test.ts
  Conversation types
    ‚úì should create valid Message objects (1 ms)
    ‚úì should create valid Conversation objects (1 ms)
    ‚úì should create valid UIComponent objects
    ‚úì should handle ConversationMetadata (1 ms)

  console.log
    [dotenv@17.0.1] injecting env (31) from .env.test ‚Äì [tip] encrypt with dotenvx: https://dotenvx.com

      at _log (node_modules/dotenv/lib/main.js:102:11)

PASS src/lib/utils/__tests__/array-utils.test.ts
  Array Utilities
    groupBy
      ‚úì should group array by key (2 ms)
      ‚úì should handle empty arrays (1 ms)
    sortBy
      ‚úì should sort by key ascending
      ‚úì should sort by key descending
    unique
      ‚úì should get unique primitive values
      ‚úì should get unique by object key (1 ms)
    partition
      ‚úì should partition array by predicate
    pluck
      ‚úì should extract values by key (1 ms)

  console.log
    [dotenv@17.0.1] injecting env (31) from .env.test ‚Äì [tip] encrypt with dotenvx: https://dotenvx.com

      at _log (node_modules/dotenv/lib/main.js:102:11)

PASS src/lib/notifications/__tests__/notification-service.test.ts
  Notification Service
    Sending notifications
      ‚úì should send a notification (2 ms)
      ‚úì should notify subscribers (1 ms)
    Reading notifications
      ‚úì should get unread notifications
      ‚úì should get all notifications with limit (1 ms)
    Marking as read
      ‚úì should mark single notification as read
      ‚úì should mark all as read for user (1 ms)
    Deleting notifications
      ‚úì should delete a notification (1 ms)
      ‚úì should return false for non-existent notification
    Subscriptions
      ‚úì should handle multiple subscribers
      ‚úì should unsubscribe correctly (1 ms)
    Unread count
      ‚úì should get correct unread count (1 ms)

  console.log
    [dotenv@17.0.1] injecting env (31) from .env.test ‚Äì [tip] encrypt with dotenvx: https://dotenvx.com

      at _log (node_modules/dotenv/lib/main.js:102:11)

PASS src/lib/ai/__tests__/types.test.ts
  AI types
    ‚úì should create valid AIMessage objects (2 ms)
    ‚úì should create valid AIResponse objects
    ‚úì should create valid AIStreamResponse objects (1 ms)
    ‚úì should create valid AIContext objects (1 ms)
    ‚úì should create valid AIAction objects
    ‚úì should handle provider types

  console.log
    [dotenv@17.0.1] injecting env (31) from .env.test ‚Äì [tip] encrypt with dotenvx: https://dotenvx.com

      at _log (node_modules/dotenv/lib/main.js:102:11)

PASS src/lib/auth/__tests__/validation-real.test.ts
  Auth Validation
    Email validation
      ‚úì should validate correct emails (2 ms)
      ‚úì should reject invalid emails (1 ms)
    Password validation
      ‚úì should validate strong passwords
      ‚úì should provide specific error messages (1 ms)
    Username validation
      ‚úì should validate correct usernames (1 ms)
      ‚úì should reject invalid usernames (2 ms)
    Phone validation
      ‚úì should validate phone numbers
      ‚úì should reject invalid phone numbers

  console.log
    [dotenv@17.0.1] injecting env (31) from .env.test ‚Äì [tip] encrypt with dotenvx: https://dotenvx.com

      at _log (node_modules/dotenv/lib/main.js:102:11)

PASS src/lib/api/__tests__/response-utils.test.ts
  API Response Utilities
    Success responses
      ‚úì should create success response (2 ms)
      ‚úì should allow custom success message
    Error responses
      ‚úì should create error response from Error object
      ‚úì should create error response from string
    Paginated responses
      ‚úì should create paginated response (2 ms)
      ‚úì should calculate correct page count (1 ms)

  console.log
    [dotenv@17.0.1] injecting env (31) from .env.test ‚Äì [tip] encrypt with dotenvx: https://dotenvx.com

      at _log (node_modules/dotenv/lib/main.js:102:11)

PASS src/lib/__tests__/utils-real.test.ts
  Utils - cn (className utility)
    ‚úì should combine class names correctly (5 ms)
    ‚úì should handle conditional classes (1 ms)
    ‚úì should handle arrays
    ‚úì should handle empty inputs (1 ms)
    ‚úì should merge Tailwind classes properly (1 ms)

  console.log
    [dotenv@17.0.1] injecting env (31) from .env.test ‚Äì [tip] encrypt with dotenvx: https://dotenvx.com

      at _log (node_modules/dotenv/lib/main.js:102:11)

PASS src/lib/utils.test.ts
  Utils
    cn
      ‚úì should combine class names (5 ms)
      ‚úì should handle conditional classes
      ‚úì should handle undefined and null values (1 ms)
      ‚úì should handle arrays
      ‚úì should merge Tailwind classes correctly (1 ms)

  console.log
    [dotenv@17.0.1] injecting env (31) from .env.test ‚Äì [tip] encrypt with dotenvx: https://dotenvx.com

      at _log (node_modules/dotenv/lib/main.js:102:11)

FAIL src/app/api/webhooks/deliveries/[id]/retry/__tests__/route.test.ts
  ‚óè Test suite failed to run

    Cannot find module '/api/webhooks/deliveries/[id]/retry' from 'src/app/api/webhooks/deliveries/[id]/retry/__tests__/route.test.ts'

      at Resolver._throwModNotFoundError (node_modules/jest-resolve/build/resolver.js:427:11)

  console.log
    [dotenv@17.0.1] injecting env (31) from .env.test ‚Äì [tip] encrypt with dotenvx: https://dotenvx.com

      at _log (node_modules/dotenv/lib/main.js:102:11)

FAIL src/app/api/auth/webauthn/register/verify/__tests__/route.test.ts
  ‚óè Test suite failed to run

    Cannot find module '/api/auth/webauthn/register/verify' from 'src/app/api/auth/webauthn/register/verify/__tests__/route.test.ts'

      at Resolver._throwModNotFoundError (node_modules/jest-resolve/build/resolver.js:427:11)

  console.log
    [dotenv@17.0.1] injecting env (31) from .env.test ‚Äì [tip] encrypt with dotenvx: https://dotenvx.com

      at _log (node_modules/dotenv/lib/main.js:102:11)


ReferenceError: You are trying to `import` a file after the Jest environment has been torn down. From src/app/api/auth/webauthn/register/options/__tests__/route.test.ts.



ReferenceError: You are trying to `import` a file after the Jest environment has been torn down. From src/app/api/auth/webauthn/register/options/__tests__/route.test.ts.



ReferenceError: You are trying to `import` a file after the Jest environment has been torn down. From src/app/api/auth/webauthn/register/options/__tests__/route.test.ts.


FAIL src/app/api/auth/webauthn/register/options/__tests__/route.test.ts
  ‚óè Test suite failed to run

    ReferenceError: Request is not defined

      at Object.Request (node_modules/next/src/server/web/spec-extension/request.ts:15:34)
      at Object.<anonymous> (node_modules/next/server.js:2:16)

  console.log
    [dotenv@17.0.1] injecting env (31) from .env.test ‚Äì [tip] encrypt with dotenvx: https://dotenvx.com

      at _log (node_modules/dotenv/lib/main.js:102:11)

FAIL src/app/api/auth/webauthn/auth/verify/__tests__/route.test.ts
  ‚óè Test suite failed to run

    Cannot find module '/api/auth/webauthn/auth/verify' from 'src/app/api/auth/webauthn/auth/verify/__tests__/route.test.ts'

      at Resolver._throwModNotFoundError (node_modules/jest-resolve/build/resolver.js:427:11)

  console.log
    [dotenv@17.0.1] injecting env (31) from .env.test ‚Äì [tip] encrypt with dotenvx: https://dotenvx.com

      at _log (node_modules/dotenv/lib/main.js:102:11)

FAIL src/app/api/auth/webauthn/auth/options/__tests__/route.test.ts
  ‚óè Test suite failed to run

    Cannot find module '/api/auth/webauthn/auth/options' from 'src/app/api/auth/webauthn/auth/options/__tests__/route.test.ts'

      at Resolver._throwModNotFoundError (node_modules/jest-resolve/build/resolver.js:427:11)

  console.log
    [dotenv@17.0.1] injecting env (31) from .env.test ‚Äì [tip] encrypt with dotenvx: https://dotenvx.com

      at _log (node_modules/dotenv/lib/main.js:102:11)

FAIL src/app/api/auth/sso/saml/callback/__tests__/route.test.ts
  ‚óè Test suite failed to run

    Cannot find module '/api/auth/sso/saml/callback' from 'src/app/api/auth/sso/saml/callback/__tests__/route.test.ts'

      at Resolver._throwModNotFoundError (node_modules/jest-resolve/build/resolver.js:427:11)

  console.log
    [dotenv@17.0.1] injecting env (31) from .env.test ‚Äì [tip] encrypt with dotenvx: https://dotenvx.com

      at _log (node_modules/dotenv/lib/main.js:102:11)

FAIL src/app/api/auth/sso/oidc/callback/__tests__/route.test.ts
  ‚óè Test suite failed to run

    Cannot find module '/api/auth/sso/oidc/callback' from 'src/app/api/auth/sso/oidc/callback/__tests__/route.test.ts'

      at Resolver._throwModNotFoundError (node_modules/jest-resolve/build/resolver.js:427:11)

  console.log
    [dotenv@17.0.1] injecting env (31) from .env.test ‚Äì [tip] encrypt with dotenvx: https://dotenvx.com

      at _log (node_modules/dotenv/lib/main.js:102:11)

FAIL src/app/api/auth/sso/configurations/[id]/__tests__/route.test.ts
  ‚óè Test suite failed to run

    Cannot find module '/api/auth/sso/configurations/[id]' from 'src/app/api/auth/sso/configurations/[id]/__tests__/route.test.ts'

      at Resolver._throwModNotFoundError (node_modules/jest-resolve/build/resolver.js:427:11)

  console.log
    [dotenv@17.0.1] injecting env (31) from .env.test ‚Äì [tip] encrypt with dotenvx: https://dotenvx.com

      at _log (node_modules/dotenv/lib/main.js:102:11)

FAIL src/app/api/auth/mfa/sms/verify/__tests__/route.test.ts
  ‚óè Test suite failed to run

    Cannot find module '/api/auth/mfa/sms/verify' from 'src/app/api/auth/mfa/sms/verify/__tests__/route.test.ts'

      at Resolver._throwModNotFoundError (node_modules/jest-resolve/build/resolver.js:427:11)

  console.log
    [dotenv@17.0.1] injecting env (31) from .env.test ‚Äì [tip] encrypt with dotenvx: https://dotenvx.com

      at _log (node_modules/dotenv/lib/main.js:102:11)

FAIL src/app/api/auth/mfa/sms/send/__tests__/route.test.ts
  ‚óè Test suite failed to run

    Cannot find module '/api/auth/mfa/sms/send' from 'src/app/api/auth/mfa/sms/send/__tests__/route.test.ts'

      at Resolver._throwModNotFoundError (node_modules/jest-resolve/build/resolver.js:427:11)

  console.log
    [dotenv@17.0.1] injecting env (31) from .env.test ‚Äì [tip] encrypt with dotenvx: https://dotenvx.com

      at _log (node_modules/dotenv/lib/main.js:102:11)

FAIL src/app/api/auth/mfa/phone/add/__tests__/route.test.ts
  ‚óè Test suite failed to run

    Cannot find module '/api/auth/mfa/phone/add' from 'src/app/api/auth/mfa/phone/add/__tests__/route.test.ts'

      at Resolver._throwModNotFoundError (node_modules/jest-resolve/build/resolver.js:427:11)

  console.log
    [dotenv@17.0.1] injecting env (31) from .env.test ‚Äì [tip] encrypt with dotenvx: https://dotenvx.com

      at _log (node_modules/dotenv/lib/main.js:102:11)

FAIL src/app/api/auth/mfa/phone/verify/__tests__/route.test.ts
  ‚óè Test suite failed to run

    Cannot find module '/api/auth/mfa/phone/verify' from 'src/app/api/auth/mfa/phone/verify/__tests__/route.test.ts'

      at Resolver._throwModNotFoundError (node_modules/jest-resolve/build/resolver.js:427:11)

  console.log
    [dotenv@17.0.1] injecting env (31) from .env.test ‚Äì [tip] encrypt with dotenvx: https://dotenvx.com

      at _log (node_modules/dotenv/lib/main.js:102:11)

FAIL src/app/api/auth/mfa/email/send/__tests__/route.test.ts
  ‚óè Test suite failed to run

    Cannot find module '/api/auth/mfa/email/send' from 'src/app/api/auth/mfa/email/send/__tests__/route.test.ts'

      at Resolver._throwModNotFoundError (node_modules/jest-resolve/build/resolver.js:427:11)

  console.log
    [dotenv@17.0.1] injecting env (31) from .env.test ‚Äì [tip] encrypt with dotenvx: https://dotenvx.com

      at _log (node_modules/dotenv/lib/main.js:102:11)

FAIL src/app/api/auth/mfa/email/add-verify/__tests__/route.test.ts
  ‚óè Test suite failed to run

    Cannot find module '/api/auth/mfa/email/add-verify' from 'src/app/api/auth/mfa/email/add-verify/__tests__/route.test.ts'

      at Resolver._throwModNotFoundError (node_modules/jest-resolve/build/resolver.js:427:11)

  console.log
    [dotenv@17.0.1] injecting env (31) from .env.test ‚Äì [tip] encrypt with dotenvx: https://dotenvx.com

      at _log (node_modules/dotenv/lib/main.js:102:11)

FAIL src/app/api/auth/mfa/email/add/__tests__/route.test.ts
  ‚óè Test suite failed to run

    Cannot find module '/api/auth/mfa/email/add' from 'src/app/api/auth/mfa/email/add/__tests__/route.test.ts'

      at Resolver._throwModNotFoundError (node_modules/jest-resolve/build/resolver.js:427:11)

  console.log
    [dotenv@17.0.1] injecting env (31) from .env.test ‚Äì [tip] encrypt with dotenvx: https://dotenvx.com

      at _log (node_modules/dotenv/lib/main.js:102:11)

FAIL src/app/api/webhooks/[id]/deliveries/__tests__/route.test.ts
  ‚óè Test suite failed to run

    Cannot find module '/api/webhooks/[id]/deliveries' from 'src/app/api/webhooks/[id]/deliveries/__tests__/route.test.ts'

      at Resolver._throwModNotFoundError (node_modules/jest-resolve/build/resolver.js:427:11)

  console.log
    [dotenv@17.0.1] injecting env (31) from .env.test ‚Äì [tip] encrypt with dotenvx: https://dotenvx.com

      at _log (node_modules/dotenv/lib/main.js:102:11)

FAIL src/app/api/organizations/[id]/members/__tests__/route.test.ts
  ‚óè Test suite failed to run

    Cannot find module '/api/organizations/[id]/members' from 'src/app/api/organizations/[id]/members/__tests__/route.test.ts'

      at Resolver._throwModNotFoundError (node_modules/jest-resolve/build/resolver.js:427:11)

  console.log
    [dotenv@17.0.1] injecting env (31) from .env.test ‚Äì [tip] encrypt with dotenvx: https://dotenvx.com

      at _log (node_modules/dotenv/lib/main.js:102:11)

FAIL src/app/api/organizations/[id]/buildings/__tests__/route.test.ts
  ‚óè Test suite failed to run

    Cannot find module '/api/organizations/[id]/buildings' from 'src/app/api/organizations/[id]/buildings/__tests__/route.test.ts'

      at Resolver._throwModNotFoundError (node_modules/jest-resolve/build/resolver.js:427:11)

  console.log
    [dotenv@17.0.1] injecting env (31) from .env.test ‚Äì [tip] encrypt with dotenvx: https://dotenvx.com

      at _log (node_modules/dotenv/lib/main.js:102:11)

FAIL src/app/api/monitoring/alerts/[id]/__tests__/route.test.ts
  ‚óè Test suite failed to run

    Cannot find module '/api/monitoring/alerts/[id]' from 'src/app/api/monitoring/alerts/[id]/__tests__/route.test.ts'

      at Resolver._throwModNotFoundError (node_modules/jest-resolve/build/resolver.js:427:11)

  console.log
    [dotenv@17.0.1] injecting env (31) from .env.test ‚Äì [tip] encrypt with dotenvx: https://dotenvx.com

      at _log (node_modules/dotenv/lib/main.js:102:11)

FAIL src/app/api/gateway/keys/[id]/__tests__/route.test.ts
  ‚óè Test suite failed to run

    Cannot find module '/api/gateway/keys/[id]' from 'src/app/api/gateway/keys/[id]/__tests__/route.test.ts'

      at Resolver._throwModNotFoundError (node_modules/jest-resolve/build/resolver.js:427:11)

  console.log
    [dotenv@17.0.1] injecting env (31) from .env.test ‚Äì [tip] encrypt with dotenvx: https://dotenvx.com

      at _log (node_modules/dotenv/lib/main.js:102:11)

FAIL src/app/api/auth/webauthn/stats/__tests__/route.test.ts
  ‚óè Test suite failed to run

    Cannot find module '/api/auth/webauthn/stats' from 'src/app/api/auth/webauthn/stats/__tests__/route.test.ts'

      at Resolver._throwModNotFoundError (node_modules/jest-resolve/build/resolver.js:427:11)

  console.log
    [dotenv@17.0.1] injecting env (31) from .env.test ‚Äì [tip] encrypt with dotenvx: https://dotenvx.com

      at _log (node_modules/dotenv/lib/main.js:102:11)

FAIL src/app/api/auth/webauthn/credentials/__tests__/route.test.ts
  ‚óè Test suite failed to run

    Cannot find module '/api/auth/webauthn/credentials' from 'src/app/api/auth/webauthn/credentials/__tests__/route.test.ts'

      at Resolver._throwModNotFoundError (node_modules/jest-resolve/build/resolver.js:427:11)

  console.log
    [dotenv@17.0.1] injecting env (31) from .env.test ‚Äì [tip] encrypt with dotenvx: https://dotenvx.com

      at _log (node_modules/dotenv/lib/main.js:102:11)

FAIL src/app/api/auth/sso/logout/__tests__/route.test.ts
  ‚óè Test suite failed to run

    Cannot find module '/api/auth/sso/logout' from 'src/app/api/auth/sso/logout/__tests__/route.test.ts'

      at Resolver._throwModNotFoundError (node_modules/jest-resolve/build/resolver.js:427:11)

  console.log
    [dotenv@17.0.1] injecting env (31) from .env.test ‚Äì [tip] encrypt with dotenvx: https://dotenvx.com

      at _log (node_modules/dotenv/lib/main.js:102:11)


ReferenceError: You are trying to `import` a file after the Jest environment has been torn down. From src/app/api/auth/sso/initiate/__tests__/route.test.ts.



ReferenceError: You are trying to `import` a file after the Jest environment has been torn down. From src/app/api/auth/sso/initiate/__tests__/route.test.ts.



ReferenceError: You are trying to `import` a file after the Jest environment has been torn down. From src/app/api/auth/sso/initiate/__tests__/route.test.ts.


FAIL src/app/api/auth/sso/initiate/__tests__/route.test.ts
  ‚óè Test suite failed to run

    ReferenceError: Request is not defined

      at Object.Request (node_modules/next/src/server/web/spec-extension/request.ts:15:34)
      at Object.<anonymous> (node_modules/next/server.js:2:16)

  console.log
    [dotenv@17.0.1] injecting env (31) from .env.test ‚Äì [tip] encrypt with dotenvx: https://dotenvx.com

      at _log (node_modules/dotenv/lib/main.js:102:11)

FAIL src/app/api/auth/sso/configurations/__tests__/route.test.ts
  ‚óè Test suite failed to run

    Cannot find module '/api/auth/sso/configurations' from 'src/app/api/auth/sso/configurations/__tests__/route.test.ts'

      at Resolver._throwModNotFoundError (node_modules/jest-resolve/build/resolver.js:427:11)

  console.log
    [dotenv@17.0.1] injecting env (31) from .env.test ‚Äì [tip] encrypt with dotenvx: https://dotenvx.com

      at _log (node_modules/dotenv/lib/main.js:102:11)

FAIL src/app/api/auth/sso/check/__tests__/route.test.ts
  ‚óè Test suite failed to run

    Cannot find module '/api/auth/sso/check' from 'src/app/api/auth/sso/check/__tests__/route.test.ts'

      at Resolver._throwModNotFoundError (node_modules/jest-resolve/build/resolver.js:427:11)

  console.log
    [dotenv@17.0.1] injecting env (31) from .env.test ‚Äì [tip] encrypt with dotenvx: https://dotenvx.com

      at _log (node_modules/dotenv/lib/main.js:102:11)

FAIL src/app/api/auth/recovery/security-questions/__tests__/route.test.ts
  ‚óè Test suite failed to run

    Cannot find module '/api/auth/recovery/security-questions' from 'src/app/api/auth/recovery/security-questions/__tests__/route.test.ts'

      at Resolver._throwModNotFoundError (node_modules/jest-resolve/build/resolver.js:427:11)

  console.log
    [dotenv@17.0.1] injecting env (31) from .env.test ‚Äì [tip] encrypt with dotenvx: https://dotenvx.com

      at _log (node_modules/dotenv/lib/main.js:102:11)

FAIL src/app/api/auth/recovery/verify/__tests__/route.test.ts
  ‚óè Test suite failed to run

    Cannot find module '/api/auth/recovery/verify' from 'src/app/api/auth/recovery/verify/__tests__/route.test.ts'

      at Resolver._throwModNotFoundError (node_modules/jest-resolve/build/resolver.js:427:11)

  console.log
    [dotenv@17.0.1] injecting env (31) from .env.test ‚Äì [tip] encrypt with dotenvx: https://dotenvx.com

      at _log (node_modules/dotenv/lib/main.js:102:11)

FAIL src/app/api/auth/recovery/stats/__tests__/route.test.ts
  ‚óè Test suite failed to run

    Cannot find module '/api/auth/recovery/stats' from 'src/app/api/auth/recovery/stats/__tests__/route.test.ts'

      at Resolver._throwModNotFoundError (node_modules/jest-resolve/build/resolver.js:427:11)

  console.log
    [dotenv@17.0.1] injecting env (31) from .env.test ‚Äì [tip] encrypt with dotenvx: https://dotenvx.com

      at _log (node_modules/dotenv/lib/main.js:102:11)


ReferenceError: You are trying to `import` a file after the Jest environment has been torn down. From src/app/api/auth/recovery/initiate/__tests__/route.test.ts.



ReferenceError: You are trying to `import` a file after the Jest environment has been torn down. From src/app/api/auth/recovery/initiate/__tests__/route.test.ts.



ReferenceError: You are trying to `import` a file after the Jest environment has been torn down. From src/app/api/auth/recovery/initiate/__tests__/route.test.ts.



ReferenceError: You are trying to `import` a file after the Jest environment has been torn down. From src/app/api/auth/recovery/initiate/__tests__/route.test.ts.


FAIL src/app/api/auth/recovery/initiate/__tests__/route.test.ts
  ‚óè Test suite failed to run

    ReferenceError: Request is not defined

      at Object.Request (node_modules/next/src/server/web/spec-extension/request.ts:15:34)
      at Object.<anonymous> (node_modules/next/server.js:2:16)

  console.log
    [dotenv@17.0.1] injecting env (31) from .env.test ‚Äì [tip] encrypt with dotenvx: https://dotenvx.com

      at _log (node_modules/dotenv/lib/main.js:102:11)

FAIL src/app/api/auth/mfa/verify/__tests__/route.test.ts
  ‚óè Test suite failed to run

    Cannot find module '/api/auth/mfa/verify' from 'src/app/api/auth/mfa/verify/__tests__/route.test.ts'

      at Resolver._throwModNotFoundError (node_modules/jest-resolve/build/resolver.js:427:11)

  console.log
    [dotenv@17.0.1] injecting env (31) from .env.test ‚Äì [tip] encrypt with dotenvx: https://dotenvx.com

      at _log (node_modules/dotenv/lib/main.js:102:11)


ReferenceError: You are trying to `import` a file after the Jest environment has been torn down. From src/app/api/auth/mfa/setup/__tests__/route.test.ts.



ReferenceError: You are trying to `import` a file after the Jest environment has been torn down. From src/app/api/auth/mfa/setup/__tests__/route.test.ts.



ReferenceError: You are trying to `import` a file after the Jest environment has been torn down. From src/app/api/auth/mfa/setup/__tests__/route.test.ts.



ReferenceError: You are trying to `import` a file after the Jest environment has been torn down. From src/app/api/auth/mfa/setup/__tests__/route.test.ts.


FAIL src/app/api/auth/mfa/setup/__tests__/route.test.ts
  ‚óè Test suite failed to run

    ReferenceError: Request is not defined

      at Object.Request (node_modules/next/src/server/web/spec-extension/request.ts:15:34)
      at Object.<anonymous> (node_modules/next/server.js:2:16)

  console.log
    [dotenv@17.0.1] injecting env (31) from .env.test ‚Äì [tip] encrypt with dotenvx: https://dotenvx.com

      at _log (node_modules/dotenv/lib/main.js:102:11)

FAIL src/app/api/auth/mfa/disable/__tests__/route.test.ts
  ‚óè Test suite failed to run

    Cannot find module '/api/auth/mfa/disable' from 'src/app/api/auth/mfa/disable/__tests__/route.test.ts'

      at Resolver._throwModNotFoundError (node_modules/jest-resolve/build/resolver.js:427:11)

  console.log
    [dotenv@17.0.1] injecting env (31) from .env.test ‚Äì [tip] encrypt with dotenvx: https://dotenvx.com

      at _log (node_modules/dotenv/lib/main.js:102:11)

FAIL src/app/api/auth/mfa/confirm/__tests__/route.test.ts
  ‚óè Test suite failed to run

    Cannot find module '/api/auth/mfa/confirm' from 'src/app/api/auth/mfa/confirm/__tests__/route.test.ts'

      at Resolver._throwModNotFoundError (node_modules/jest-resolve/build/resolver.js:427:11)

  console.log
    [dotenv@17.0.1] injecting env (31) from .env.test ‚Äì [tip] encrypt with dotenvx: https://dotenvx.com

      at _log (node_modules/dotenv/lib/main.js:102:11)

FAIL src/lib/security/encryption/providers/__tests__/vault.test.ts
  ‚óè Test suite failed to run

    SyntaxError: The requested module '../vault' does not provide an export named 'vault'

      at Runtime.linkAndEvaluateModule (node_modules/jest-runtime/build/index.js:708:5)

  console.log
    [dotenv@17.0.1] injecting env (31) from .env.test ‚Äì [tip] encrypt with dotenvx: https://dotenvx.com

      at _log (node_modules/dotenv/lib/main.js:102:11)

FAIL src/lib/security/encryption/providers/__tests__/local.test.ts
  ‚óè Test suite failed to run

    SyntaxError: The requested module '../local' does not provide an export named 'local'

      at Runtime.linkAndEvaluateModule (node_modules/jest-runtime/build/index.js:708:5)

  console.log
    [dotenv@17.0.1] injecting env (31) from .env.test ‚Äì [tip] encrypt with dotenvx: https://dotenvx.com

      at _log (node_modules/dotenv/lib/main.js:102:11)

FAIL src/lib/security/encryption/providers/__tests__/aws-kms-loader.test.ts
  ‚óè Test suite failed to run

      x Expected ',', got '-'
       ,-[/workspaces/blipee-os/src/lib/security/encryption/providers/__tests__/aws-kms-loader.test.ts:2:1]
     1 | import { jest } from '@jest/globals';
     2 | import { aws-kms-loader } from './aws-kms-loader';
       :             ^
     3 | 
     4 | // Mock dependencies
     5 | jest.mock('@supabase/supabase-js');
       `----


    Caused by:
        Syntax Error

         ,-[/workspaces/blipee-os/src/lib/security/encryption/providers/__tests__/aws-kms-loader.test.ts:2:1]
       1 | import { jest } from '@jest/globals';
       2 | import { aws-kms-loader } from './aws-kms-loader';
         :             ^
       3 | 
       4 | // Mock dependencies
       5 | jest.mock('@supabase/supabase-js');
         `----
      Caused by:
          Syntax Error

  console.log
    [dotenv@17.0.1] injecting env (31) from .env.test ‚Äì [tip] encrypt with dotenvx: https://dotenvx.com

      at _log (node_modules/dotenv/lib/main.js:102:11)


ReferenceError: You are trying to `import` a file after the Jest environment has been torn down. From src/app/api/ai/stream/__tests__/route.test.ts.



ReferenceError: You are trying to `import` a file after the Jest environment has been torn down. From src/app/api/ai/stream/__tests__/route.test.ts.


FAIL src/app/api/ai/stream/__tests__/route.test.ts
  ‚óè Test suite failed to run

    ReferenceError: Request is not defined

      at Object.Request (node_modules/next/src/server/web/spec-extension/request.ts:15:34)
      at Object.<anonymous> (node_modules/next/server.js:2:16)

  console.log
    [dotenv@17.0.1] injecting env (31) from .env.test ‚Äì [tip] encrypt with dotenvx: https://dotenvx.com

      at _log (node_modules/dotenv/lib/main.js:102:11)

FAIL src/app/api/ai/chat-enhanced/__tests__/route.test.ts
  ‚óè Test suite failed to run

    Cannot find module '/api/ai/chat-enhanced' from 'src/app/api/ai/chat-enhanced/__tests__/route.test.ts'

      at Resolver._throwModNotFoundError (node_modules/jest-resolve/build/resolver.js:427:11)

  console.log
    [dotenv@17.0.1] injecting env (31) from .env.test ‚Äì [tip] encrypt with dotenvx: https://dotenvx.com

      at _log (node_modules/dotenv/lib/main.js:102:11)


ReferenceError: You are trying to `import` a file after the Jest environment has been torn down. From src/app/api/ai/chat/__tests__/route.test.ts.



ReferenceError: You are trying to `import` a file after the Jest environment has been torn down. From src/app/api/ai/chat/__tests__/route.test.ts.



ReferenceError: You are trying to `import` a file after the Jest environment has been torn down. From src/app/api/ai/chat/__tests__/route.test.ts.



ReferenceError: You are trying to `import` a file after the Jest environment has been torn down. From src/app/api/ai/chat/__tests__/route.test.ts.



ReferenceError: You are trying to `import` a file after the Jest environment has been torn down. From src/app/api/ai/chat/__tests__/route.test.ts.



ReferenceError: You are trying to `import` a file after the Jest environment has been torn down. From src/app/api/ai/chat/__tests__/route.test.ts.



ReferenceError: You are trying to `import` a file after the Jest environment has been torn down. From src/app/api/ai/chat/__tests__/route.test.ts.



ReferenceError: You are trying to `import` a file after the Jest environment has been torn down. From src/app/api/ai/chat/__tests__/route.test.ts.



ReferenceError: You are trying to `import` a file after the Jest environment has been torn down. From src/app/api/ai/chat/__tests__/route.test.ts.



ReferenceError: You are trying to `import` a file after the Jest environment has been torn down. From src/app/api/ai/chat/__tests__/route.test.ts.



ReferenceError: You are trying to `import` a file after the Jest environment has been torn down. From src/app/api/ai/chat/__tests__/route.test.ts.



ReferenceError: You are trying to `import` a file after the Jest environment has been torn down. From src/app/api/ai/chat/__tests__/route.test.ts.


FAIL src/app/api/ai/chat/__tests__/route.test.ts
  ‚óè Test suite failed to run

    ReferenceError: Request is not defined

      at Object.Request (node_modules/next/src/server/web/spec-extension/request.ts:15:34)
      at Object.<anonymous> (node_modules/next/server.js:2:16)

  console.log
    [dotenv@17.0.1] injecting env (31) from .env.test ‚Äì [tip] encrypt with dotenvx: https://dotenvx.com

      at _log (node_modules/dotenv/lib/main.js:102:11)

FAIL src/app/api/webhooks/stats/__tests__/route.test.ts
  ‚óè Test suite failed to run

    Cannot find module '/api/webhooks/stats' from 'src/app/api/webhooks/stats/__tests__/route.test.ts'

      at Resolver._throwModNotFoundError (node_modules/jest-resolve/build/resolver.js:427:11)

  console.log
    [dotenv@17.0.1] injecting env (31) from .env.test ‚Äì [tip] encrypt with dotenvx: https://dotenvx.com

      at _log (node_modules/dotenv/lib/main.js:102:11)

FAIL src/app/api/webhooks/[id]/__tests__/route.test.ts
  ‚óè Test suite failed to run

    Cannot find module '/api/webhooks/[id]' from 'src/app/api/webhooks/[id]/__tests__/route.test.ts'

      at Resolver._throwModNotFoundError (node_modules/jest-resolve/build/resolver.js:427:11)

  console.log
    [dotenv@17.0.1] injecting env (31) from .env.test ‚Äì [tip] encrypt with dotenvx: https://dotenvx.com

      at _log (node_modules/dotenv/lib/main.js:102:11)

FAIL src/app/api/v1/organizations/__tests__/route.test.ts
  ‚óè Test suite failed to run

    Cannot find module '/api/v1/organizations' from 'src/app/api/v1/organizations/__tests__/route.test.ts'

      at Resolver._throwModNotFoundError (node_modules/jest-resolve/build/resolver.js:427:11)

  console.log
    [dotenv@17.0.1] injecting env (31) from .env.test ‚Äì [tip] encrypt with dotenvx: https://dotenvx.com

      at _log (node_modules/dotenv/lib/main.js:102:11)

FAIL src/app/api/security/stats/__tests__/route.test.ts
  ‚óè Test suite failed to run

    Cannot find module '/api/security/stats' from 'src/app/api/security/stats/__tests__/route.test.ts'

      at Resolver._throwModNotFoundError (node_modules/jest-resolve/build/resolver.js:427:11)

  console.log
    [dotenv@17.0.1] injecting env (31) from .env.test ‚Äì [tip] encrypt with dotenvx: https://dotenvx.com

      at _log (node_modules/dotenv/lib/main.js:102:11)


ReferenceError: You are trying to `import` a file after the Jest environment has been torn down. From src/app/api/organizations/[id]/__tests__/route.test.ts.



ReferenceError: You are trying to `import` a file after the Jest environment has been torn down. From src/app/api/organizations/[id]/__tests__/route.test.ts.



ReferenceError: You are trying to `import` a file after the Jest environment has been torn down. From src/app/api/organizations/[id]/__tests__/route.test.ts.


FAIL src/app/api/organizations/[id]/__tests__/route.test.ts
  ‚óè Test suite failed to run

    ReferenceError: Request is not defined

      at Object.Request (node_modules/next/src/server/web/spec-extension/request.ts:15:34)
      at Object.<anonymous> (node_modules/next/server.js:2:16)

  console.log
    [dotenv@17.0.1] injecting env (31) from .env.test ‚Äì [tip] encrypt with dotenvx: https://dotenvx.com

      at _log (node_modules/dotenv/lib/main.js:102:11)

FAIL src/app/api/onboarding/step/__tests__/route.test.ts
  ‚óè Test suite failed to run

    Cannot find module '/api/onboarding/step' from 'src/app/api/onboarding/step/__tests__/route.test.ts'

      at Resolver._throwModNotFoundError (node_modules/jest-resolve/build/resolver.js:427:11)

  console.log
    [dotenv@17.0.1] injecting env (31) from .env.test ‚Äì [tip] encrypt with dotenvx: https://dotenvx.com

      at _log (node_modules/dotenv/lib/main.js:102:11)

FAIL src/app/api/onboarding/start/__tests__/route.test.ts
  ‚óè Test suite failed to run

    Cannot find module '/api/onboarding/start' from 'src/app/api/onboarding/start/__tests__/route.test.ts'

      at Resolver._throwModNotFoundError (node_modules/jest-resolve/build/resolver.js:427:11)

  console.log
    [dotenv@17.0.1] injecting env (31) from .env.test ‚Äì [tip] encrypt with dotenvx: https://dotenvx.com

      at _log (node_modules/dotenv/lib/main.js:102:11)

FAIL src/app/api/monitoring/performance/__tests__/route.test.ts
  ‚óè Test suite failed to run

    Cannot find module '/api/monitoring/performance' from 'src/app/api/monitoring/performance/__tests__/route.test.ts'

      at Resolver._throwModNotFoundError (node_modules/jest-resolve/build/resolver.js:427:11)

  console.log
    [dotenv@17.0.1] injecting env (31) from .env.test ‚Äì [tip] encrypt with dotenvx: https://dotenvx.com

      at _log (node_modules/dotenv/lib/main.js:102:11)


ReferenceError: You are trying to `import` a file after the Jest environment has been torn down. From src/app/api/monitoring/metrics/__tests__/route.test.ts.



ReferenceError: You are trying to `import` a file after the Jest environment has been torn down. From src/app/api/monitoring/metrics/__tests__/route.test.ts.



ReferenceError: You are trying to `import` a file after the Jest environment has been torn down. From src/app/api/monitoring/metrics/__tests__/route.test.ts.



ReferenceError: You are trying to `import` a file after the Jest environment has been torn down. From src/app/api/monitoring/metrics/__tests__/route.test.ts.


FAIL src/app/api/monitoring/metrics/__tests__/route.test.ts
  ‚óè Test suite failed to run

    ReferenceError: Request is not defined

      at Object.Request (node_modules/next/src/server/web/spec-extension/request.ts:15:34)
      at Object.<anonymous> (node_modules/next/server.js:2:16)

  console.log
    [dotenv@17.0.1] injecting env (31) from .env.test ‚Äì [tip] encrypt with dotenvx: https://dotenvx.com

      at _log (node_modules/dotenv/lib/main.js:102:11)


ReferenceError: You are trying to `import` a file after the Jest environment has been torn down. From src/app/api/monitoring/health/__tests__/route.test.ts.



ReferenceError: You are trying to `import` a file after the Jest environment has been torn down. From src/app/api/monitoring/health/__tests__/route.test.ts.



ReferenceError: You are trying to `import` a file after the Jest environment has been torn down. From src/app/api/monitoring/health/__tests__/route.test.ts.


FAIL src/app/api/monitoring/health/__tests__/route.test.ts
  ‚óè Test suite failed to run

    ReferenceError: Request is not defined

      at Object.Request (node_modules/next/src/server/web/spec-extension/request.ts:15:34)
      at Object.<anonymous> (node_modules/next/server.js:2:16)

  console.log
    [dotenv@17.0.1] injecting env (31) from .env.test ‚Äì [tip] encrypt with dotenvx: https://dotenvx.com

      at _log (node_modules/dotenv/lib/main.js:102:11)

FAIL src/app/api/monitoring/dashboard/__tests__/route.test.ts
  ‚óè Test suite failed to run

    Cannot find module '/api/monitoring/dashboard' from 'src/app/api/monitoring/dashboard/__tests__/route.test.ts'

      at Resolver._throwModNotFoundError (node_modules/jest-resolve/build/resolver.js:427:11)

  console.log
    [dotenv@17.0.1] injecting env (31) from .env.test ‚Äì [tip] encrypt with dotenvx: https://dotenvx.com

      at _log (node_modules/dotenv/lib/main.js:102:11)

FAIL src/app/api/monitoring/alerts/__tests__/route.test.ts
  ‚óè Test suite failed to run

    Cannot find module '/api/monitoring/alerts' from 'src/app/api/monitoring/alerts/__tests__/route.test.ts'

      at Resolver._throwModNotFoundError (node_modules/jest-resolve/build/resolver.js:427:11)

  console.log
    [dotenv@17.0.1] injecting env (31) from .env.test ‚Äì [tip] encrypt with dotenvx: https://dotenvx.com

      at _log (node_modules/dotenv/lib/main.js:102:11)

FAIL src/app/api/import/sustainability-report/__tests__/route.test.ts
  ‚óè Test suite failed to run

    Cannot find module '/api/import/sustainability-report' from 'src/app/api/import/sustainability-report/__tests__/route.test.ts'

      at Resolver._throwModNotFoundError (node_modules/jest-resolve/build/resolver.js:427:11)

  console.log
    [dotenv@17.0.1] injecting env (31) from .env.test ‚Äì [tip] encrypt with dotenvx: https://dotenvx.com

      at _log (node_modules/dotenv/lib/main.js:102:11)

FAIL src/app/api/gateway/usage/__tests__/route.test.ts
  ‚óè Test suite failed to run

    Cannot find module '/api/gateway/usage' from 'src/app/api/gateway/usage/__tests__/route.test.ts'

      at Resolver._throwModNotFoundError (node_modules/jest-resolve/build/resolver.js:427:11)

  console.log
    [dotenv@17.0.1] injecting env (31) from .env.test ‚Äì [tip] encrypt with dotenvx: https://dotenvx.com

      at _log (node_modules/dotenv/lib/main.js:102:11)


ReferenceError: You are trying to `import` a file after the Jest environment has been torn down. From src/app/api/gateway/keys/__tests__/route.test.ts.



ReferenceError: You are trying to `import` a file after the Jest environment has been torn down. From src/app/api/gateway/keys/__tests__/route.test.ts.



ReferenceError: You are trying to `import` a file after the Jest environment has been torn down. From src/app/api/gateway/keys/__tests__/route.test.ts.


FAIL src/app/api/gateway/keys/__tests__/route.test.ts
  ‚óè Test suite failed to run

    ReferenceError: Request is not defined

      at Object.Request (node_modules/next/src/server/web/spec-extension/request.ts:15:34)
      at Object.<anonymous> (node_modules/next/server.js:2:16)

  console.log
    [dotenv@17.0.1] injecting env (31) from .env.test ‚Äì [tip] encrypt with dotenvx: https://dotenvx.com

      at _log (node_modules/dotenv/lib/main.js:102:11)


ReferenceError: You are trying to `import` a file after the Jest environment has been torn down. From src/app/api/files/upload/__tests__/route.test.ts.



ReferenceError: You are trying to `import` a file after the Jest environment has been torn down. From src/app/api/files/upload/__tests__/route.test.ts.



ReferenceError: You are trying to `import` a file after the Jest environment has been torn down. From src/app/api/files/upload/__tests__/route.test.ts.



ReferenceError: You are trying to `import` a file after the Jest environment has been torn down. From src/app/api/files/upload/__tests__/route.test.ts.



ReferenceError: You are trying to `import` a file after the Jest environment has been torn down. From src/app/api/files/upload/__tests__/route.test.ts.



ReferenceError: You are trying to `import` a file after the Jest environment has been torn down. From src/app/api/files/upload/__tests__/route.test.ts.



ReferenceError: You are trying to `import` a file after the Jest environment has been torn down. From src/app/api/files/upload/__tests__/route.test.ts.



ReferenceError: You are trying to `import` a file after the Jest environment has been torn down. From src/app/api/files/upload/__tests__/route.test.ts.



ReferenceError: You are trying to `import` a file after the Jest environment has been torn down. From src/app/api/files/upload/__tests__/route.test.ts.


FAIL src/app/api/files/upload/__tests__/route.test.ts
  ‚óè Test suite failed to run

    ReferenceError: Request is not defined

      at Object.Request (node_modules/next/src/server/web/spec-extension/request.ts:15:34)
      at Object.<anonymous> (node_modules/next/server.js:2:16)

  console.log
    [dotenv@17.0.1] injecting env (31) from .env.test ‚Äì [tip] encrypt with dotenvx: https://dotenvx.com

      at _log (node_modules/dotenv/lib/main.js:102:11)

FAIL src/app/api/documents/sustainability-report/__tests__/route.test.ts
  ‚óè Test suite failed to run

    Cannot find module '/api/documents/sustainability-report' from 'src/app/api/documents/sustainability-report/__tests__/route.test.ts'

      at Resolver._throwModNotFoundError (node_modules/jest-resolve/build/resolver.js:427:11)

  console.log
    [dotenv@17.0.1] injecting env (31) from .env.test ‚Äì [tip] encrypt with dotenvx: https://dotenvx.com

      at _log (node_modules/dotenv/lib/main.js:102:11)


ReferenceError: You are trying to `import` a file after the Jest environment has been torn down. From src/app/api/compliance/status/__tests__/route.test.ts.



ReferenceError: You are trying to `import` a file after the Jest environment has been torn down. From src/app/api/compliance/status/__tests__/route.test.ts.



ReferenceError: You are trying to `import` a file after the Jest environment has been torn down. From src/app/api/compliance/status/__tests__/route.test.ts.


FAIL src/app/api/compliance/status/__tests__/route.test.ts
  ‚óè Test suite failed to run

    ReferenceError: Request is not defined

      at Object.Request (node_modules/next/src/server/web/spec-extension/request.ts:15:34)
      at Object.<anonymous> (node_modules/next/server.js:2:16)

  console.log
    [dotenv@17.0.1] injecting env (31) from .env.test ‚Äì [tip] encrypt with dotenvx: https://dotenvx.com

      at _log (node_modules/dotenv/lib/main.js:102:11)

FAIL src/app/api/compliance/report/__tests__/route.test.ts
  ‚óè Test suite failed to run

    Cannot find module '/api/compliance/report' from 'src/app/api/compliance/report/__tests__/route.test.ts'

      at Resolver._throwModNotFoundError (node_modules/jest-resolve/build/resolver.js:427:11)

  console.log
    [dotenv@17.0.1] injecting env (31) from .env.test ‚Äì [tip] encrypt with dotenvx: https://dotenvx.com

      at _log (node_modules/dotenv/lib/main.js:102:11)

FAIL src/app/api/compliance/privacy-settings/__tests__/route.test.ts
  ‚óè Test suite failed to run

    Cannot find module '/api/compliance/privacy-settings' from 'src/app/api/compliance/privacy-settings/__tests__/route.test.ts'

      at Resolver._throwModNotFoundError (node_modules/jest-resolve/build/resolver.js:427:11)

  console.log
    [dotenv@17.0.1] injecting env (31) from .env.test ‚Äì [tip] encrypt with dotenvx: https://dotenvx.com

      at _log (node_modules/dotenv/lib/main.js:102:11)

FAIL src/app/api/compliance/deletion/__tests__/route.test.ts
  ‚óè Test suite failed to run

    Cannot find module '/api/compliance/deletion' from 'src/app/api/compliance/deletion/__tests__/route.test.ts'

      at Resolver._throwModNotFoundError (node_modules/jest-resolve/build/resolver.js:427:11)

  console.log
    [dotenv@17.0.1] injecting env (31) from .env.test ‚Äì [tip] encrypt with dotenvx: https://dotenvx.com

      at _log (node_modules/dotenv/lib/main.js:102:11)

FAIL src/app/api/compliance/data-export/__tests__/route.test.ts
  ‚óè Test suite failed to run

    Cannot find module '/api/compliance/data-export' from 'src/app/api/compliance/data-export/__tests__/route.test.ts'

      at Resolver._throwModNotFoundError (node_modules/jest-resolve/build/resolver.js:427:11)

  console.log
    [dotenv@17.0.1] injecting env (31) from .env.test ‚Äì [tip] encrypt with dotenvx: https://dotenvx.com

      at _log (node_modules/dotenv/lib/main.js:102:11)

FAIL src/app/api/compliance/consent/__tests__/route.test.ts
  ‚óè Test suite failed to run

    Cannot find module '/api/compliance/consent' from 'src/app/api/compliance/consent/__tests__/route.test.ts'

      at Resolver._throwModNotFoundError (node_modules/jest-resolve/build/resolver.js:427:11)

  console.log
    [dotenv@17.0.1] injecting env (31) from .env.test ‚Äì [tip] encrypt with dotenvx: https://dotenvx.com

      at _log (node_modules/dotenv/lib/main.js:102:11)

FAIL src/app/api/auth/signup/__tests__/route.test.ts
  ‚óè Test suite failed to run

    ReferenceError: Request is not defined

      at Object.Request (node_modules/next/src/server/web/spec-extension/request.ts:15:34)
      at Object.<anonymous> (node_modules/next/server.js:2:16)


ReferenceError: You are trying to `import` a file after the Jest environment has been torn down. From src/app/api/auth/signup/__tests__/route.test.ts.


  console.log
    [dotenv@17.0.1] injecting env (31) from .env.test ‚Äì [tip] encrypt with dotenvx: https://dotenvx.com

      at _log (node_modules/dotenv/lib/main.js:102:11)

FAIL src/app/api/auth/signout/__tests__/route.test.ts
  ‚óè Test suite failed to run

    Cannot find module '/api/auth/signout' from 'src/app/api/auth/signout/__tests__/route.test.ts'

      at Resolver._throwModNotFoundError (node_modules/jest-resolve/build/resolver.js:427:11)

  console.log
    [dotenv@17.0.1] injecting env (31) from .env.test ‚Äì [tip] encrypt with dotenvx: https://dotenvx.com

      at _log (node_modules/dotenv/lib/main.js:102:11)

FAIL src/app/api/auth/signin/__tests__/route.test.ts
  ‚óè Test suite failed to run

    ReferenceError: Request is not defined

      at Object.Request (node_modules/next/src/server/web/spec-extension/request.ts:15:34)
      at Object.<anonymous> (node_modules/next/server.js:2:16)


ReferenceError: You are trying to `import` a file after the Jest environment has been torn down. From src/app/api/auth/signin/__tests__/route.test.ts.


  console.log
    [dotenv@17.0.1] injecting env (31) from .env.test ‚Äì [tip] encrypt with dotenvx: https://dotenvx.com

      at _log (node_modules/dotenv/lib/main.js:102:11)

FAIL src/app/api/auth/sessions/__tests__/route.test.ts
  ‚óè Test suite failed to run

    Cannot find module '/api/auth/sessions' from 'src/app/api/auth/sessions/__tests__/route.test.ts'

      at Resolver._throwModNotFoundError (node_modules/jest-resolve/build/resolver.js:427:11)

  console.log
    [dotenv@17.0.1] injecting env (31) from .env.test ‚Äì [tip] encrypt with dotenvx: https://dotenvx.com

      at _log (node_modules/dotenv/lib/main.js:102:11)

FAIL src/app/api/auth/session/__tests__/route.test.ts
  ‚óè Test suite failed to run

    Cannot find module '/api/auth/session' from 'src/app/api/auth/session/__tests__/route.test.ts'

      at Resolver._throwModNotFoundError (node_modules/jest-resolve/build/resolver.js:427:11)

  console.log
    [dotenv@17.0.1] injecting env (31) from .env.test ‚Äì [tip] encrypt with dotenvx: https://dotenvx.com

      at _log (node_modules/dotenv/lib/main.js:102:11)

FAIL src/app/api/auth/reset-password/__tests__/route.test.ts
  ‚óè Test suite failed to run

    Cannot find module '/api/auth/reset-password' from 'src/app/api/auth/reset-password/__tests__/route.test.ts'

      at Resolver._throwModNotFoundError (node_modules/jest-resolve/build/resolver.js:427:11)

  console.log
    [dotenv@17.0.1] injecting env (31) from .env.test ‚Äì [tip] encrypt with dotenvx: https://dotenvx.com

      at _log (node_modules/dotenv/lib/main.js:102:11)

FAIL src/app/api/auth/oauth/__tests__/route.test.ts
  ‚óè Test suite failed to run

    Cannot find module '/api/auth/oauth' from 'src/app/api/auth/oauth/__tests__/route.test.ts'

      at Resolver._throwModNotFoundError (node_modules/jest-resolve/build/resolver.js:427:11)

  console.log
    [dotenv@17.0.1] injecting env (31) from .env.test ‚Äì [tip] encrypt with dotenvx: https://dotenvx.com

      at _log (node_modules/dotenv/lib/main.js:102:11)

FAIL src/app/api/audit/summary/__tests__/route.test.ts
  ‚óè Test suite failed to run

    Cannot find module '/api/audit/summary' from 'src/app/api/audit/summary/__tests__/route.test.ts'

      at Resolver._throwModNotFoundError (node_modules/jest-resolve/build/resolver.js:427:11)

  console.log
    [dotenv@17.0.1] injecting env (31) from .env.test ‚Äì [tip] encrypt with dotenvx: https://dotenvx.com

      at _log (node_modules/dotenv/lib/main.js:102:11)


ReferenceError: You are trying to `import` a file after the Jest environment has been torn down. From src/app/api/audit/logs/__tests__/route.test.ts.



ReferenceError: You are trying to `import` a file after the Jest environment has been torn down. From src/app/api/audit/logs/__tests__/route.test.ts.



ReferenceError: You are trying to `import` a file after the Jest environment has been torn down. From src/app/api/audit/logs/__tests__/route.test.ts.


FAIL src/app/api/audit/logs/__tests__/route.test.ts
  ‚óè Test suite failed to run

    ReferenceError: Request is not defined

      at Object.Request (node_modules/next/src/server/web/spec-extension/request.ts:15:34)
      at Object.<anonymous> (node_modules/next/server.js:2:16)

  console.log
    [dotenv@17.0.1] injecting env (31) from .env.test ‚Äì [tip] encrypt with dotenvx: https://dotenvx.com

      at _log (node_modules/dotenv/lib/main.js:102:11)

FAIL src/app/api/audit/export/__tests__/route.test.ts
  ‚óè Test suite failed to run

    Cannot find module '/api/audit/export' from 'src/app/api/audit/export/__tests__/route.test.ts'

      at Resolver._throwModNotFoundError (node_modules/jest-resolve/build/resolver.js:427:11)

  console.log
    [dotenv@17.0.1] injecting env (31) from .env.test ‚Äì [tip] encrypt with dotenvx: https://dotenvx.com

      at _log (node_modules/dotenv/lib/main.js:102:11)

FAIL src/lib/security/encryption/__tests__/factory.test.ts
  ‚óè Test suite failed to run

    SyntaxError: The requested module '../factory' does not provide an export named 'factory'

      at Runtime.linkAndEvaluateModule (node_modules/jest-runtime/build/index.js:708:5)

  console.log
    [dotenv@17.0.1] injecting env (31) from .env.test ‚Äì [tip] encrypt with dotenvx: https://dotenvx.com

      at _log (node_modules/dotenv/lib/main.js:102:11)

FAIL src/lib/security/middleware/__tests__/protection.test.ts
  ‚óè Test suite failed to run

    ReferenceError: Request is not defined

      at Object.Request (node_modules/next/src/server/web/spec-extension/request.ts:15:34)
      at Object.<anonymous> (node_modules/next/server.js:2:16)

  console.log
    [dotenv@17.0.1] injecting env (31) from .env.test ‚Äì [tip] encrypt with dotenvx: https://dotenvx.com

      at _log (node_modules/dotenv/lib/main.js:102:11)

FAIL src/lib/security/api/__tests__/wrapper.test.ts
  ‚óè Test suite failed to run

    Cannot find module '/api/wrapper.ts' from 'src/lib/security/api/__tests__/wrapper.test.ts'

      at Resolver._throwModNotFoundError (node_modules/jest-resolve/build/resolver.js:427:11)

  console.log
    [dotenv@17.0.1] injecting env (31) from .env.test ‚Äì [tip] encrypt with dotenvx: https://dotenvx.com

      at _log (node_modules/dotenv/lib/main.js:102:11)

FAIL src/lib/security/ddos/__tests__/protection.test.ts
  ‚óè Test suite failed to run

    SyntaxError: The requested module '../protection' does not provide an export named 'protection'

      at Runtime.linkAndEvaluateModule (node_modules/jest-runtime/build/index.js:708:5)

  console.log
    [dotenv@17.0.1] injecting env (31) from .env.test ‚Äì [tip] encrypt with dotenvx: https://dotenvx.com

      at _log (node_modules/dotenv/lib/main.js:102:11)

FAIL src/lib/onboarding/flows/__tests__/group-manager.test.ts
  ‚óè Test suite failed to run

      x Expected ',', got '-'
       ,-[/workspaces/blipee-os/src/lib/onboarding/flows/__tests__/group-manager.test.ts:2:1]
     1 | import { jest } from '@jest/globals';
     2 | import { group-manager } from './group-manager';
       :               ^
     3 | 
     4 | // Mock dependencies
     5 | jest.mock('@supabase/supabase-js');
       `----


    Caused by:
        Syntax Error

         ,-[/workspaces/blipee-os/src/lib/onboarding/flows/__tests__/group-manager.test.ts:2:1]
       1 | import { jest } from '@jest/globals';
       2 | import { group-manager } from './group-manager';
         :               ^
       3 | 
       4 | // Mock dependencies
       5 | jest.mock('@supabase/supabase-js');
         `----
      Caused by:
          Syntax Error

  console.log
    [dotenv@17.0.1] injecting env (31) from .env.test ‚Äì [tip] encrypt with dotenvx: https://dotenvx.com

      at _log (node_modules/dotenv/lib/main.js:102:11)

FAIL src/lib/onboarding/flows/__tests__/tenant.test.ts
  ‚óè Test suite failed to run

    SyntaxError: The requested module '../tenant' does not provide an export named 'tenant'

      at Runtime.linkAndEvaluateModule (node_modules/jest-runtime/build/index.js:708:5)

  console.log
    [dotenv@17.0.1] injecting env (31) from .env.test ‚Äì [tip] encrypt with dotenvx: https://dotenvx.com

      at _log (node_modules/dotenv/lib/main.js:102:11)

FAIL src/lib/onboarding/flows/__tests__/technician.test.ts
  ‚óè Test suite failed to run

    SyntaxError: The requested module '../technician' does not provide an export named 'technician'

      at Runtime.linkAndEvaluateModule (node_modules/jest-runtime/build/index.js:708:5)

  console.log
    [dotenv@17.0.1] injecting env (31) from .env.test ‚Äì [tip] encrypt with dotenvx: https://dotenvx.com

      at _log (node_modules/dotenv/lib/main.js:102:11)

FAIL src/lib/onboarding/flows/__tests__/subscription-owner.test.ts
  ‚óè Test suite failed to run

      x Expected ',', got '-'
       ,-[/workspaces/blipee-os/src/lib/onboarding/flows/__tests__/subscription-owner.test.ts:2:1]
     1 | import { jest } from '@jest/globals';
     2 | import { subscription-owner } from './subscription-owner';
       :                      ^
     3 | 
     4 | // Mock dependencies
     5 | jest.mock('@supabase/supabase-js');
       `----


    Caused by:
        Syntax Error

         ,-[/workspaces/blipee-os/src/lib/onboarding/flows/__tests__/subscription-owner.test.ts:2:1]
       1 | import { jest } from '@jest/globals';
       2 | import { subscription-owner } from './subscription-owner';
         :                      ^
       3 | 
       4 | // Mock dependencies
       5 | jest.mock('@supabase/supabase-js');
         `----
      Caused by:
          Syntax Error

  console.log
    [dotenv@17.0.1] injecting env (31) from .env.test ‚Äì [tip] encrypt with dotenvx: https://dotenvx.com

      at _log (node_modules/dotenv/lib/main.js:102:11)

FAIL src/lib/onboarding/flows/__tests__/site-manager.test.ts
  ‚óè Test suite failed to run

      x Expected ',', got '-'
       ,-[/workspaces/blipee-os/src/lib/onboarding/flows/__tests__/site-manager.test.ts:2:1]
     1 | import { jest } from '@jest/globals';
     2 | import { site-manager } from './site-manager';
       :              ^
     3 | 
     4 | // Mock dependencies
     5 | jest.mock('@supabase/supabase-js');
       `----


    Caused by:
        Syntax Error

         ,-[/workspaces/blipee-os/src/lib/onboarding/flows/__tests__/site-manager.test.ts:2:1]
       1 | import { jest } from '@jest/globals';
       2 | import { site-manager } from './site-manager';
         :              ^
       3 | 
       4 | // Mock dependencies
       5 | jest.mock('@supabase/supabase-js');
         `----
      Caused by:
          Syntax Error

  console.log
    [dotenv@17.0.1] injecting env (31) from .env.test ‚Äì [tip] encrypt with dotenvx: https://dotenvx.com

      at _log (node_modules/dotenv/lib/main.js:102:11)

FAIL src/lib/onboarding/flows/__tests__/index.test.ts
  ‚óè Test suite failed to run

    SyntaxError: The requested module '../index' does not provide an export named 'index'

      at Runtime.linkAndEvaluateModule (node_modules/jest-runtime/build/index.js:708:5)

  console.log
    [dotenv@17.0.1] injecting env (31) from .env.test ‚Äì [tip] encrypt with dotenvx: https://dotenvx.com

      at _log (node_modules/dotenv/lib/main.js:102:11)

FAIL src/lib/auth/sso/__tests__/saml.test.ts
  ‚óè Test suite failed to run

    SyntaxError: The requested module '../saml' does not provide an export named 'saml'

      at Runtime.linkAndEvaluateModule (node_modules/jest-runtime/build/index.js:708:5)

  console.log
    [dotenv@17.0.1] injecting env (31) from .env.test ‚Äì [tip] encrypt with dotenvx: https://dotenvx.com

      at _log (node_modules/dotenv/lib/main.js:102:11)

FAIL src/lib/auth/sso/__tests__/oidc.test.ts
  ‚óè Test suite failed to run

    SyntaxError: The requested module '../oidc' does not provide an export named 'oidc'

      at Runtime.linkAndEvaluateModule (node_modules/jest-runtime/build/index.js:708:5)

  console.log
    [dotenv@17.0.1] injecting env (31) from .env.test ‚Äì [tip] encrypt with dotenvx: https://dotenvx.com

      at _log (node_modules/dotenv/lib/main.js:102:11)

FAIL src/lib/auth/mfa/__tests__/types.test.ts
  ‚óè Test suite failed to run

    SyntaxError: The requested module '../types' does not provide an export named 'types'

      at Runtime.linkAndEvaluateModule (node_modules/jest-runtime/build/index.js:708:5)

  console.log
    [dotenv@17.0.1] injecting env (31) from .env.test ‚Äì [tip] encrypt with dotenvx: https://dotenvx.com

      at _log (node_modules/dotenv/lib/main.js:102:11)

FAIL src/lib/auth/mfa/__tests__/totp.test.ts
  ‚óè Test suite failed to run

    SyntaxError: The requested module '../totp' does not provide an export named 'totp'

      at Runtime.linkAndEvaluateModule (node_modules/jest-runtime/build/index.js:708:5)

  console.log
    [dotenv@17.0.1] injecting env (31) from .env.test ‚Äì [tip] encrypt with dotenvx: https://dotenvx.com

      at _log (node_modules/dotenv/lib/main.js:102:11)

FAIL src/lib/auth/mfa/__tests__/sms.test.ts
  ‚óè Test suite failed to run

    SyntaxError: The requested module '@supabase/ssr' does not provide an export named 'createBrowserClient'

      at Runtime.linkAndEvaluateModule (node_modules/jest-runtime/build/index.js:708:5)

  console.log
    [dotenv@17.0.1] injecting env (31) from .env.test ‚Äì [tip] encrypt with dotenvx: https://dotenvx.com

      at _log (node_modules/dotenv/lib/main.js:102:11)

FAIL src/lib/auth/mfa/__tests__/service-old.test.ts
  ‚óè Test suite failed to run

      x Expected ',', got '-'
       ,-[/workspaces/blipee-os/src/lib/auth/mfa/__tests__/service-old.test.ts:2:1]
     1 | import { jest } from '@jest/globals';
     2 | import { service-old } from './service-old';
       :                 ^
     3 | 
     4 | // Mock dependencies
     5 | jest.mock('@supabase/supabase-js');
       `----


    Caused by:
        Syntax Error

         ,-[/workspaces/blipee-os/src/lib/auth/mfa/__tests__/service-old.test.ts:2:1]
       1 | import { jest } from '@jest/globals';
       2 | import { service-old } from './service-old';
         :                 ^
       3 | 
       4 | // Mock dependencies
       5 | jest.mock('@supabase/supabase-js');
         `----
      Caused by:
          Syntax Error

  console.log
    [dotenv@17.0.1] injecting env (31) from .env.test ‚Äì [tip] encrypt with dotenvx: https://dotenvx.com

      at _log (node_modules/dotenv/lib/main.js:102:11)

FAIL src/lib/auth/mfa/__tests__/email.test.ts
  ‚óè Test suite failed to run

    SyntaxError: The requested module '@supabase/ssr' does not provide an export named 'createBrowserClient'

      at Runtime.linkAndEvaluateModule (node_modules/jest-runtime/build/index.js:708:5)

  console.log
    [dotenv@17.0.1] injecting env (31) from .env.test ‚Äì [tip] encrypt with dotenvx: https://dotenvx.com

      at _log (node_modules/dotenv/lib/main.js:102:11)

FAIL src/lib/api/gateway/__tests__/rate-limit-service.test.ts
  ‚óè Test suite failed to run

    Cannot find module '/api/gateway/rate-limit-service.ts' from 'src/lib/api/gateway/__tests__/rate-limit-service.test.ts'

      at Resolver._throwModNotFoundError (node_modules/jest-resolve/build/resolver.js:427:11)

  console.log
    [dotenv@17.0.1] injecting env (31) from .env.test ‚Äì [tip] encrypt with dotenvx: https://dotenvx.com

      at _log (node_modules/dotenv/lib/main.js:102:11)

FAIL src/lib/api/gateway/__tests__/middleware.test.ts
  ‚óè Test suite failed to run

    Cannot find module '/api/gateway/middleware.ts' from 'src/lib/api/gateway/__tests__/middleware.test.ts'

      at Resolver._throwModNotFoundError (node_modules/jest-resolve/build/resolver.js:427:11)

  console.log
    [dotenv@17.0.1] injecting env (31) from .env.test ‚Äì [tip] encrypt with dotenvx: https://dotenvx.com

      at _log (node_modules/dotenv/lib/main.js:102:11)

FAIL src/lib/api/gateway/__tests__/api-key-service.test.ts
  ‚óè Test suite failed to run

    SyntaxError: The requested module '@supabase/ssr' does not provide an export named 'createServerClient'

      at Runtime.linkAndEvaluateModule (node_modules/jest-runtime/build/index.js:708:5)

  console.log
    [dotenv@17.0.1] injecting env (31) from .env.test ‚Äì [tip] encrypt with dotenvx: https://dotenvx.com

      at _log (node_modules/dotenv/lib/main.js:102:11)

FAIL src/lib/ai/providers/__tests__/openai.test.ts
  ‚óè Test suite failed to run

    SyntaxError: The requested module '../openai' does not provide an export named 'openai'

      at Runtime.linkAndEvaluateModule (node_modules/jest-runtime/build/index.js:708:5)

  console.log
    [dotenv@17.0.1] injecting env (31) from .env.test ‚Äì [tip] encrypt with dotenvx: https://dotenvx.com

      at _log (node_modules/dotenv/lib/main.js:102:11)

FAIL src/lib/ai/providers/__tests__/deepseek.test.ts
  ‚óè Test suite failed to run

    SyntaxError: The requested module '../deepseek' does not provide an export named 'deepseek'

      at Runtime.linkAndEvaluateModule (node_modules/jest-runtime/build/index.js:708:5)

  console.log
    [dotenv@17.0.1] injecting env (31) from .env.test ‚Äì [tip] encrypt with dotenvx: https://dotenvx.com

      at _log (node_modules/dotenv/lib/main.js:102:11)

FAIL src/lib/ai/providers/__tests__/anthropic.test.ts
  ‚óè Test suite failed to run

    SyntaxError: The requested module '../anthropic' does not provide an export named 'anthropic'

      at Runtime.linkAndEvaluateModule (node_modules/jest-runtime/build/index.js:708:5)

  console.log
    [dotenv@17.0.1] injecting env (31) from .env.test ‚Äì [tip] encrypt with dotenvx: https://dotenvx.com

      at _log (node_modules/dotenv/lib/main.js:102:11)

FAIL src/components/auth/webauthn/__tests__/WebAuthnDashboard.test.tsx
  ‚óè Test suite failed to run

    SyntaxError: The requested module '../WebAuthnDashboard' does not provide an export named 'WebAuthnDashboard'

      at Runtime.linkAndEvaluateModule (node_modules/jest-runtime/build/index.js:708:5)

  console.log
    [dotenv@17.0.1] injecting env (31) from .env.test ‚Äì [tip] encrypt with dotenvx: https://dotenvx.com

      at _log (node_modules/dotenv/lib/main.js:102:11)

FAIL src/components/auth/sso/__tests__/SSOTestInterface.test.tsx
  ‚óè Test suite failed to run

    SyntaxError: The requested module './is-browser.mjs' does not provide an export named 'isBrowser'

      at Runtime.linkAndEvaluateModule (node_modules/jest-runtime/build/index.js:708:5)

  console.log
    [dotenv@17.0.1] injecting env (31) from .env.test ‚Äì [tip] encrypt with dotenvx: https://dotenvx.com

      at _log (node_modules/dotenv/lib/main.js:102:11)

FAIL src/components/auth/sso/__tests__/SSOConfigurationForm.test.tsx
  ‚óè Test suite failed to run

    SyntaxError: The requested module './is-browser.mjs' does not provide an export named 'isBrowser'

      at Runtime.linkAndEvaluateModule (node_modules/jest-runtime/build/index.js:708:5)

  console.log
    [dotenv@17.0.1] injecting env (31) from .env.test ‚Äì [tip] encrypt with dotenvx: https://dotenvx.com

      at _log (node_modules/dotenv/lib/main.js:102:11)

PASS src/components/auth/recovery/__tests__/RecoverySettings.test.tsx
  RecoverySettings
    Rendering
      ‚úì should render without crashing (31 ms)
      ‚úì should match snapshot (4 ms)
    Props
      ‚úì should handle all prop combinations
    Interactions
      ‚úì should handle user interactions correctly (1 ms)
    Accessibility
      ‚úì should have no accessibility violations (3 ms)
      ‚úì should support keyboard navigation
    Edge Cases
      ‚úì should handle error states gracefully
      ‚úì should handle loading states
    Performance
      ‚úì should not cause unnecessary re-renders

  console.log
    [dotenv@17.0.1] injecting env (31) from .env.test ‚Äì [tip] encrypt with dotenvx: https://dotenvx.com

      at _log (node_modules/dotenv/lib/main.js:102:11)

PASS src/components/auth/recovery/__tests__/RecoveryDashboard.test.tsx
  RecoveryDashboard
    Rendering
      ‚úì should render without crashing (21 ms)
      ‚úì should match snapshot (5 ms)
    Props
      ‚úì should handle all prop combinations
    Interactions
      ‚úì should handle user interactions correctly (1 ms)
    Accessibility
      ‚úì should have no accessibility violations (2 ms)
      ‚úì should support keyboard navigation
    Edge Cases
      ‚úì should handle error states gracefully
      ‚úì should handle loading states
    Performance
      ‚úì should not cause unnecessary re-renders

  console.log
    [dotenv@17.0.1] injecting env (31) from .env.test ‚Äì [tip] encrypt with dotenvx: https://dotenvx.com

      at _log (node_modules/dotenv/lib/main.js:102:11)

FAIL src/components/auth/mfa/__tests__/MFAVerification.test.tsx
  ‚óè Test suite failed to run

    SyntaxError: The requested module './is-browser.mjs' does not provide an export named 'isBrowser'

      at Runtime.linkAndEvaluateModule (node_modules/jest-runtime/build/index.js:708:5)

  console.log
    [dotenv@17.0.1] injecting env (31) from .env.test ‚Äì [tip] encrypt with dotenvx: https://dotenvx.com

      at _log (node_modules/dotenv/lib/main.js:102:11)

FAIL src/components/auth/mfa/__tests__/MFASetup.test.tsx
  ‚óè Test suite failed to run

    SyntaxError: The requested module './is-browser.mjs' does not provide an export named 'isBrowser'

      at Runtime.linkAndEvaluateModule (node_modules/jest-runtime/build/index.js:708:5)

  console.log
    [dotenv@17.0.1] injecting env (31) from .env.test ‚Äì [tip] encrypt with dotenvx: https://dotenvx.com

      at _log (node_modules/dotenv/lib/main.js:102:11)

FAIL src/app/api/ai/__tests__/chat.test.ts
  ‚óè Test suite failed to run

    ReferenceError: Request is not defined

      at Object.Request (node_modules/next/src/server/web/spec-extension/request.ts:15:34)
      at Object.<anonymous> (node_modules/next/server.js:2:16)


ReferenceError: You are trying to `import` a file after the Jest environment has been torn down. From src/app/api/ai/__tests__/chat.test.ts.


  console.log
    [dotenv@17.0.1] injecting env (31) from .env.test ‚Äì [tip] encrypt with dotenvx: https://dotenvx.com

      at _log (node_modules/dotenv/lib/main.js:102:11)

FAIL src/app/api/webhooks/__tests__/route.test.ts
  ‚óè Test suite failed to run

    ReferenceError: Request is not defined

      at Object.Request (node_modules/next/src/server/web/spec-extension/request.ts:15:34)
      at Object.<anonymous> (node_modules/next/server.js:2:16)


ReferenceError: You are trying to `import` a file after the Jest environment has been torn down. From src/app/api/webhooks/__tests__/route.test.ts.


  console.log
    [dotenv@17.0.1] injecting env (31) from .env.test ‚Äì [tip] encrypt with dotenvx: https://dotenvx.com

      at _log (node_modules/dotenv/lib/main.js:102:11)

FAIL src/app/api/health/__tests__/route.test.ts
  ‚óè Test suite failed to run

    ReferenceError: Request is not defined

      at Object.Request (node_modules/next/src/server/web/spec-extension/request.ts:15:34)
      at Object.<anonymous> (node_modules/next/server.js:2:16)


ReferenceError: You are trying to `import` a file after the Jest environment has been torn down. From src/app/api/health/__tests__/route.test.ts.


  console.log
    [dotenv@17.0.1] injecting env (31) from .env.test ‚Äì [tip] encrypt with dotenvx: https://dotenvx.com

      at _log (node_modules/dotenv/lib/main.js:102:11)


ReferenceError: You are trying to `import` a file after the Jest environment has been torn down. From src/app/api/graphql/__tests__/route.test.ts.


FAIL src/app/api/graphql/__tests__/route.test.ts
  ‚óè Test suite failed to run

    ReferenceError: Request is not defined

      at Object.Request (node_modules/next/src/server/web/spec-extension/request.ts:15:34)
      at Object.<anonymous> (node_modules/next/server.js:2:16)

  console.log
    [dotenv@17.0.1] injecting env (31) from .env.test ‚Äì [tip] encrypt with dotenvx: https://dotenvx.com

      at _log (node_modules/dotenv/lib/main.js:102:11)


ReferenceError: You are trying to `import` a file after the Jest environment has been torn down. From src/app/api/auth/__tests__/signin.test.ts.



ReferenceError: You are trying to `import` a file after the Jest environment has been torn down. From src/app/api/auth/__tests__/signin.test.ts.



ReferenceError: You are trying to `import` a file after the Jest environment has been torn down. From src/app/api/auth/__tests__/signin.test.ts.



ReferenceError: You are trying to `import` a file after the Jest environment has been torn down. From src/app/api/auth/__tests__/signin.test.ts.



ReferenceError: You are trying to `import` a file after the Jest environment has been torn down. From src/app/api/auth/__tests__/signin.test.ts.



ReferenceError: You are trying to `import` a file after the Jest environment has been torn down. From src/app/api/auth/__tests__/signin.test.ts.


FAIL src/app/api/auth/__tests__/signin.test.ts
  ‚óè Test suite failed to run

    ReferenceError: Request is not defined

      at Object.Request (node_modules/next/src/server/web/spec-extension/request.ts:15:34)
      at Object.<anonymous> (node_modules/next/server.js:2:16)


ReferenceError: You are trying to `import` a file after the Jest environment has been torn down. From src/app/api/auth/__tests__/signin.test.ts.



ReferenceError: You are trying to `import` a file after the Jest environment has been torn down. From src/app/api/auth/__tests__/signin.test.ts.


  console.log
    [dotenv@17.0.1] injecting env (31) from .env.test ‚Äì [tip] encrypt with dotenvx: https://dotenvx.com

      at _log (node_modules/dotenv/lib/main.js:102:11)

FAIL src/lib/webhooks/__tests__/webhook-verifier.test.ts
  ‚óè Test suite failed to run

      x Expected ',', got '-'
       ,-[/workspaces/blipee-os/src/lib/webhooks/__tests__/webhook-verifier.test.ts:2:1]
     1 | import { jest } from '@jest/globals';
     2 | import { webhook-verifier } from './webhook-verifier';
       :                 ^
     3 | 
     4 | // Mock dependencies
     5 | jest.mock('@supabase/supabase-js');
       `----


    Caused by:
        Syntax Error

         ,-[/workspaces/blipee-os/src/lib/webhooks/__tests__/webhook-verifier.test.ts:2:1]
       1 | import { jest } from '@jest/globals';
       2 | import { webhook-verifier } from './webhook-verifier';
         :                 ^
       3 | 
       4 | // Mock dependencies
       5 | jest.mock('@supabase/supabase-js');
         `----
      Caused by:
          Syntax Error

  console.log
    [dotenv@17.0.1] injecting env (31) from .env.test ‚Äì [tip] encrypt with dotenvx: https://dotenvx.com

      at _log (node_modules/dotenv/lib/main.js:102:11)

FAIL src/lib/webhooks/__tests__/webhook-service.test.ts
  ‚óè Test suite failed to run

      x Expected ',', got '-'
       ,-[/workspaces/blipee-os/src/lib/webhooks/__tests__/webhook-service.test.ts:2:1]
     1 | import { jest } from '@jest/globals';
     2 | import { webhook-service } from './webhook-service';
       :                 ^
     3 | 
     4 | // Mock dependencies
     5 | jest.mock('@supabase/supabase-js');
       `----


    Caused by:
        Syntax Error

         ,-[/workspaces/blipee-os/src/lib/webhooks/__tests__/webhook-service.test.ts:2:1]
       1 | import { jest } from '@jest/globals';
       2 | import { webhook-service } from './webhook-service';
         :                 ^
       3 | 
       4 | // Mock dependencies
       5 | jest.mock('@supabase/supabase-js');
         `----
      Caused by:
          Syntax Error

  console.log
    [dotenv@17.0.1] injecting env (31) from .env.test ‚Äì [tip] encrypt with dotenvx: https://dotenvx.com

      at _log (node_modules/dotenv/lib/main.js:102:11)

FAIL src/lib/webhooks/__tests__/webhook-processor.test.ts
  ‚óè Test suite failed to run

      x Expected ',', got '-'
       ,-[/workspaces/blipee-os/src/lib/webhooks/__tests__/webhook-processor.test.ts:2:1]
     1 | import { jest } from '@jest/globals';
     2 | import { webhook-processor } from './webhook-processor';
       :                 ^
     3 | 
     4 | // Mock dependencies
     5 | jest.mock('@supabase/supabase-js');
       `----


    Caused by:
        Syntax Error

         ,-[/workspaces/blipee-os/src/lib/webhooks/__tests__/webhook-processor.test.ts:2:1]
       1 | import { jest } from '@jest/globals';
       2 | import { webhook-processor } from './webhook-processor';
         :                 ^
       3 | 
       4 | // Mock dependencies
       5 | jest.mock('@supabase/supabase-js');
         `----
      Caused by:
          Syntax Error

  console.log
    [dotenv@17.0.1] injecting env (31) from .env.test ‚Äì [tip] encrypt with dotenvx: https://dotenvx.com

      at _log (node_modules/dotenv/lib/main.js:102:11)

FAIL src/lib/webhooks/__tests__/integration-example.test.ts
  ‚óè Test suite failed to run

      x Expected ',', got '-'
       ,-[/workspaces/blipee-os/src/lib/webhooks/__tests__/integration-example.test.ts:2:1]
     1 | import { jest } from '@jest/globals';
     2 | import { integration-example } from './integration-example';
       :                     ^
     3 | 
     4 | // Mock dependencies
     5 | jest.mock('@supabase/supabase-js');
       `----


    Caused by:
        Syntax Error

      ,-[/workspaces/blipee-os/src/lib/webhooks/__tests__/integration-example.test.ts:2:1]
       1 | import { jest } from '@jest/globals';
       2 | import { integration-example } from './integration-example';
         :                     ^
       3 | 
       4 | // Mock dependencies
       5 | jest.mock('@supabase/supabase-js');
         `----
      Caused by:
          Syntax Error

  console.log
    [dotenv@17.0.1] injecting env (31) from .env.test ‚Äì [tip] encrypt with dotenvx: https://dotenvx.com

      at _log (node_modules/dotenv/lib/main.js:102:11)

FAIL src/lib/webhooks/__tests__/event-publisher.test.ts
  ‚óè Test suite failed to run

      x Expected ',', got '-'
       ,-[/workspaces/blipee-os/src/lib/webhooks/__tests__/event-publisher.test.ts:2:1]
     1 | import { jest } from '@jest/globals';
     2 | import { event-publisher } from './event-publisher';
       :               ^
     3 | 
     4 | // Mock dependencies
     5 | jest.mock('@supabase/supabase-js');
       `----


    Caused by:
        Syntax Error

         ,-[/workspaces/blipee-os/src/lib/webhooks/__tests__/event-publisher.test.ts:2:1]
       1 | import { jest } from '@jest/globals';
       2 | import { event-publisher } from './event-publisher';
         :               ^
       3 | 
       4 | // Mock dependencies
       5 | jest.mock('@supabase/supabase-js');
         `----
      Caused by:
          Syntax Error

  console.log
    [dotenv@17.0.1] injecting env (31) from .env.test ‚Äì [tip] encrypt with dotenvx: https://dotenvx.com

      at _log (node_modules/dotenv/lib/main.js:102:11)

FAIL src/lib/team/__tests__/permissions.test.ts
  ‚óè Test suite failed to run

    SyntaxError: The requested module '@supabase/supabase-js' does not provide an export named 'createClient'

      at Runtime.linkAndEvaluateModule (node_modules/jest-runtime/build/index.js:708:5)

  console.log
    [dotenv@17.0.1] injecting env (31) from .env.test ‚Äì [tip] encrypt with dotenvx: https://dotenvx.com

      at _log (node_modules/dotenv/lib/main.js:102:11)

FAIL src/lib/sustainability/__tests__/import-report-data.test.ts
  ‚óè Test suite failed to run

      x Expected ',', got '-'
       ,-[/workspaces/blipee-os/src/lib/sustainability/__tests__/import-report-data.test.ts:2:1]
     1 | import { jest } from '@jest/globals';
     2 | import { import-report-data } from './import-report-data';
       :                ^
     3 | 
     4 | // Mock dependencies
     5 | jest.mock('@supabase/supabase-js');
       `----


    Caused by:
        Syntax Error

      ,-[/workspaces/blipee-os/src/lib/sustainability/__tests__/import-report-data.test.ts:2:1]
       1 | import { jest } from '@jest/globals';
       2 | import { import-report-data } from './import-report-data';
         :                ^
       3 | 
       4 | // Mock dependencies
       5 | jest.mock('@supabase/supabase-js');
         `----
      Caused by:
          Syntax Error

  console.log
    [dotenv@17.0.1] injecting env (31) from .env.test ‚Äì [tip] encrypt with dotenvx: https://dotenvx.com

      at _log (node_modules/dotenv/lib/main.js:102:11)

FAIL src/lib/supabase/__tests__/server.test.ts
  ‚óè Test suite failed to run

    SyntaxError: The requested module '@supabase/ssr' does not provide an export named 'createServerClient'

      at Runtime.linkAndEvaluateModule (node_modules/jest-runtime/build/index.js:708:5)

  console.log
    [dotenv@17.0.1] injecting env (31) from .env.test ‚Äì [tip] encrypt with dotenvx: https://dotenvx.com

      at _log (node_modules/dotenv/lib/main.js:102:11)

FAIL src/lib/supabase/__tests__/client.test.ts
  ‚óè Test suite failed to run

    SyntaxError: The requested module '@supabase/ssr' does not provide an export named 'createBrowserClient'

      at Runtime.linkAndEvaluateModule (node_modules/jest-runtime/build/index.js:708:5)

  console.log
    [dotenv@17.0.1] injecting env (31) from .env.test ‚Äì [tip] encrypt with dotenvx: https://dotenvx.com

      at _log (node_modules/dotenv/lib/main.js:102:11)

FAIL src/lib/supabase/__tests__/auth.test.ts
  ‚óè Test suite failed to run

    SyntaxError: The requested module '@supabase/supabase-js' does not provide an export named 'createClient'

      at Runtime.linkAndEvaluateModule (node_modules/jest-runtime/build/index.js:708:5)

  console.log
    [dotenv@17.0.1] injecting env (31) from .env.test ‚Äì [tip] encrypt with dotenvx: https://dotenvx.com

      at _log (node_modules/dotenv/lib/main.js:102:11)

FAIL src/lib/supabase/__tests__/admin.test.ts
  ‚óè Test suite failed to run

    SyntaxError: The requested module '@supabase/supabase-js' does not provide an export named 'createClient'

      at Runtime.linkAndEvaluateModule (node_modules/jest-runtime/build/index.js:708:5)

  console.log
    [dotenv@17.0.1] injecting env (31) from .env.test ‚Äì [tip] encrypt with dotenvx: https://dotenvx.com

      at _log (node_modules/dotenv/lib/main.js:102:11)

FAIL src/lib/session/__tests__/manager.test.ts
  ‚óè Test suite failed to run

    ReferenceError: Request is not defined

      at Object.Request (node_modules/next/src/server/web/spec-extension/request.ts:15:34)
      at Object.<anonymous> (node_modules/next/server.js:2:16)

  console.log
    [dotenv@17.0.1] injecting env (31) from .env.test ‚Äì [tip] encrypt with dotenvx: https://dotenvx.com

      at _log (node_modules/dotenv/lib/main.js:102:11)

FAIL src/lib/session/__tests__/manager-real.test.ts
  ‚óè Test suite failed to run

    ReferenceError: Request is not defined

      at Object.Request (node_modules/next/src/server/web/spec-extension/request.ts:15:34)
      at Object.<anonymous> (node_modules/next/server.js:2:16)

  console.log
    [dotenv@17.0.1] injecting env (31) from .env.test ‚Äì [tip] encrypt with dotenvx: https://dotenvx.com

      at _log (node_modules/dotenv/lib/main.js:102:11)

FAIL src/lib/security/__tests__/integration.test.ts
  ‚óè Test suite failed to run

    SyntaxError: The requested module '@supabase/supabase-js' does not provide an export named 'createClient'

      at Runtime.linkAndEvaluateModule (node_modules/jest-runtime/build/index.js:708:5)

  console.log
    [dotenv@17.0.1] injecting env (31) from .env.test ‚Äì [tip] encrypt with dotenvx: https://dotenvx.com

      at _log (node_modules/dotenv/lib/main.js:102:11)

FAIL src/lib/performance/__tests__/optimize.test.ts
  ‚óè Test suite failed to run

    SyntaxError: The requested module '../optimize' does not provide an export named 'batchRequests'

      at Runtime.linkAndEvaluateModule (node_modules/jest-runtime/build/index.js:708:5)

  console.log
    [dotenv@17.0.1] injecting env (31) from .env.test ‚Äì [tip] encrypt with dotenvx: https://dotenvx.com

      at _log (node_modules/dotenv/lib/main.js:102:11)

FAIL src/lib/organizations/__tests__/service.test.ts
  ‚óè Test suite failed to run

    SyntaxError: The requested module '@supabase/ssr' does not provide an export named 'createBrowserClient'

      at Runtime.linkAndEvaluateModule (node_modules/jest-runtime/build/index.js:708:5)

  console.log
    [dotenv@17.0.1] injecting env (31) from .env.test ‚Äì [tip] encrypt with dotenvx: https://dotenvx.com

      at _log (node_modules/dotenv/lib/main.js:102:11)

FAIL src/lib/onboarding/__tests__/quick-setup.test.ts
  ‚óè Test suite failed to run

      x Expected ',', got '-'
       ,-[/workspaces/blipee-os/src/lib/onboarding/__tests__/quick-setup.test.ts:2:1]
     1 | import { jest } from '@jest/globals';
     2 | import { quick-setup } from './quick-setup';
       :               ^
     3 | 
     4 | // Mock dependencies
     5 | jest.mock('@supabase/supabase-js');
       `----


    Caused by:
        Syntax Error

         ,-[/workspaces/blipee-os/src/lib/onboarding/__tests__/quick-setup.test.ts:2:1]
       1 | import { jest } from '@jest/globals';
       2 | import { quick-setup } from './quick-setup';
         :               ^
       3 | 
       4 | // Mock dependencies
       5 | jest.mock('@supabase/supabase-js');
         `----
      Caused by:
          Syntax Error

  console.log
    [dotenv@17.0.1] injecting env (31) from .env.test ‚Äì [tip] encrypt with dotenvx: https://dotenvx.com

      at _log (node_modules/dotenv/lib/main.js:102:11)

FAIL src/lib/onboarding/__tests__/parsers.test.ts
  parsers
    Initialization
      ‚úï should initialize correctly
      ‚úï should handle configuration options
    Core Functionality
      ‚úï should perform primary function correctly
      ‚úï should handle concurrent operations
    Error Handling
      ‚úï should handle network errors gracefully
      ‚úï should handle invalid input (1 ms)
      ‚úï should retry failed operations
    Security
      ‚úï should sanitize user input
      ‚úï should handle authentication correctly
    Performance
      ‚úï should cache results appropriately
      ‚úï should handle rate limiting
    Integration
      ‚úï should integrate with external services (1 ms)

  ‚óè parsers ‚Ä∫ Initialization ‚Ä∫ should initialize correctly

    TypeError: parsers is not a constructor

    [0m [90m 11 |[39m   beforeEach(() [33m=>[39m {
     [90m 12 |[39m     jest[33m.[39mclearAllMocks()[33m;[39m
    [31m[1m>[22m[39m[90m 13 |[39m     service [33m=[39m [36mnew[39m parsers()[33m;[39m
     [90m    |[39m               [31m[1m^[22m[39m
     [90m 14 |[39m   })[33m;[39m
     [90m 15 |[39m
     [90m 16 |[39m   describe([32m'Initialization'[39m[33m,[39m () [33m=>[39m {[0m

      at Object.<anonymous> (src/lib/onboarding/__tests__/parsers.test.ts:13:15)

  ‚óè parsers ‚Ä∫ Initialization ‚Ä∫ should handle configuration options

    TypeError: parsers is not a constructor

    [0m [90m 11 |[39m   beforeEach(() [33m=>[39m {
     [90m 12 |[39m     jest[33m.[39mclearAllMocks()[33m;[39m
    [31m[1m>[22m[39m[90m 13 |[39m     service [33m=[39m [36mnew[39m parsers()[33m;[39m
     [90m    |[39m               [31m[1m^[22m[39m
     [90m 14 |[39m   })[33m;[39m
     [90m 15 |[39m
     [90m 16 |[39m   describe([32m'Initialization'[39m[33m,[39m () [33m=>[39m {[0m

      at Object.<anonymous> (src/lib/onboarding/__tests__/parsers.test.ts:13:15)

  ‚óè parsers ‚Ä∫ Core Functionality ‚Ä∫ should perform primary function correctly

    TypeError: parsers is not a constructor

    [0m [90m 11 |[39m   beforeEach(() [33m=>[39m {
     [90m 12 |[39m     jest[33m.[39mclearAllMocks()[33m;[39m
    [31m[1m>[22m[39m[90m 13 |[39m     service [33m=[39m [36mnew[39m parsers()[33m;[39m
     [90m    |[39m               [31m[1m^[22m[39m
     [90m 14 |[39m   })[33m;[39m
     [90m 15 |[39m
     [90m 16 |[39m   describe([32m'Initialization'[39m[33m,[39m () [33m=>[39m {[0m

      at Object.<anonymous> (src/lib/onboarding/__tests__/parsers.test.ts:13:15)

  ‚óè parsers ‚Ä∫ Core Functionality ‚Ä∫ should handle concurrent operations

    TypeError: parsers is not a constructor

    [0m [90m 11 |[39m   beforeEach(() [33m=>[39m {
     [90m 12 |[39m     jest[33m.[39mclearAllMocks()[33m;[39m
    [31m[1m>[22m[39m[90m 13 |[39m     service [33m=[39m [36mnew[39m parsers()[33m;[39m
     [90m    |[39m               [31m[1m^[22m[39m
     [90m 14 |[39m   })[33m;[39m
     [90m 15 |[39m
     [90m 16 |[39m   describe([32m'Initialization'[39m[33m,[39m () [33m=>[39m {[0m

      at Object.<anonymous> (src/lib/onboarding/__tests__/parsers.test.ts:13:15)

  ‚óè parsers ‚Ä∫ Error Handling ‚Ä∫ should handle network errors gracefully

    TypeError: parsers is not a constructor

    [0m [90m 11 |[39m   beforeEach(() [33m=>[39m {
     [90m 12 |[39m     jest[33m.[39mclearAllMocks()[33m;[39m
    [31m[1m>[22m[39m[90m 13 |[39m     service [33m=[39m [36mnew[39m parsers()[33m;[39m
     [90m    |[39m               [31m[1m^[22m[39m
     [90m 14 |[39m   })[33m;[39m
     [90m 15 |[39m
     [90m 16 |[39m   describe([32m'Initialization'[39m[33m,[39m () [33m=>[39m {[0m

      at Object.<anonymous> (src/lib/onboarding/__tests__/parsers.test.ts:13:15)

  ‚óè parsers ‚Ä∫ Error Handling ‚Ä∫ should handle invalid input

    TypeError: parsers is not a constructor

    [0m [90m 11 |[39m   beforeEach(() [33m=>[39m {
     [90m 12 |[39m     jest[33m.[39mclearAllMocks()[33m;[39m
    [31m[1m>[22m[39m[90m 13 |[39m     service [33m=[39m [36mnew[39m parsers()[33m;[39m
     [90m    |[39m               [31m[1m^[22m[39m
     [90m 14 |[39m   })[33m;[39m
     [90m 15 |[39m
     [90m 16 |[39m   describe([32m'Initialization'[39m[33m,[39m () [33m=>[39m {[0m

      at Object.<anonymous> (src/lib/onboarding/__tests__/parsers.test.ts:13:15)

  ‚óè parsers ‚Ä∫ Error Handling ‚Ä∫ should retry failed operations

    TypeError: parsers is not a constructor

    [0m [90m 11 |[39m   beforeEach(() [33m=>[39m {
     [90m 12 |[39m     jest[33m.[39mclearAllMocks()[33m;[39m
    [31m[1m>[22m[39m[90m 13 |[39m     service [33m=[39m [36mnew[39m parsers()[33m;[39m
     [90m    |[39m               [31m[1m^[22m[39m
     [90m 14 |[39m   })[33m;[39m
     [90m 15 |[39m
     [90m 16 |[39m   describe([32m'Initialization'[39m[33m,[39m () [33m=>[39m {[0m

      at Object.<anonymous> (src/lib/onboarding/__tests__/parsers.test.ts:13:15)

  ‚óè parsers ‚Ä∫ Security ‚Ä∫ should sanitize user input

    TypeError: parsers is not a constructor

    [0m [90m 11 |[39m   beforeEach(() [33m=>[39m {
     [90m 12 |[39m     jest[33m.[39mclearAllMocks()[33m;[39m
    [31m[1m>[22m[39m[90m 13 |[39m     service [33m=[39m [36mnew[39m parsers()[33m;[39m
     [90m    |[39m               [31m[1m^[22m[39m
     [90m 14 |[39m   })[33m;[39m
     [90m 15 |[39m
     [90m 16 |[39m   describe([32m'Initialization'[39m[33m,[39m () [33m=>[39m {[0m

      at Object.<anonymous> (src/lib/onboarding/__tests__/parsers.test.ts:13:15)

  ‚óè parsers ‚Ä∫ Security ‚Ä∫ should handle authentication correctly

    TypeError: parsers is not a constructor

    [0m [90m 11 |[39m   beforeEach(() [33m=>[39m {
     [90m 12 |[39m     jest[33m.[39mclearAllMocks()[33m;[39m
    [31m[1m>[22m[39m[90m 13 |[39m     service [33m=[39m [36mnew[39m parsers()[33m;[39m
     [90m    |[39m               [31m[1m^[22m[39m
     [90m 14 |[39m   })[33m;[39m
     [90m 15 |[39m
     [90m 16 |[39m   describe([32m'Initialization'[39m[33m,[39m () [33m=>[39m {[0m

      at Object.<anonymous> (src/lib/onboarding/__tests__/parsers.test.ts:13:15)

  ‚óè parsers ‚Ä∫ Performance ‚Ä∫ should cache results appropriately

    TypeError: parsers is not a constructor

    [0m [90m 11 |[39m   beforeEach(() [33m=>[39m {
     [90m 12 |[39m     jest[33m.[39mclearAllMocks()[33m;[39m
    [31m[1m>[22m[39m[90m 13 |[39m     service [33m=[39m [36mnew[39m parsers()[33m;[39m
     [90m    |[39m               [31m[1m^[22m[39m
     [90m 14 |[39m   })[33m;[39m
     [90m 15 |[39m
     [90m 16 |[39m   describe([32m'Initialization'[39m[33m,[39m () [33m=>[39m {[0m

      at Object.<anonymous> (src/lib/onboarding/__tests__/parsers.test.ts:13:15)

  ‚óè parsers ‚Ä∫ Performance ‚Ä∫ should handle rate limiting

    TypeError: parsers is not a constructor

    [0m [90m 11 |[39m   beforeEach(() [33m=>[39m {
     [90m 12 |[39m     jest[33m.[39mclearAllMocks()[33m;[39m
    [31m[1m>[22m[39m[90m 13 |[39m     service [33m=[39m [36mnew[39m parsers()[33m;[39m
     [90m    |[39m               [31m[1m^[22m[39m
     [90m 14 |[39m   })[33m;[39m
     [90m 15 |[39m
     [90m 16 |[39m   describe([32m'Initialization'[39m[33m,[39m () [33m=>[39m {[0m

      at Object.<anonymous> (src/lib/onboarding/__tests__/parsers.test.ts:13:15)

  ‚óè parsers ‚Ä∫ Integration ‚Ä∫ should integrate with external services

    TypeError: parsers is not a constructor

    [0m [90m 11 |[39m   beforeEach(() [33m=>[39m {
     [90m 12 |[39m     jest[33m.[39mclearAllMocks()[33m;[39m
    [31m[1m>[22m[39m[90m 13 |[39m     service [33m=[39m [36mnew[39m parsers()[33m;[39m
     [90m    |[39m               [31m[1m^[22m[39m
     [90m 14 |[39m   })[33m;[39m
     [90m 15 |[39m
     [90m 16 |[39m   describe([32m'Initialization'[39m[33m,[39m () [33m=>[39m {[0m

      at Object.<anonymous> (src/lib/onboarding/__tests__/parsers.test.ts:13:15)

  console.log
    [dotenv@17.0.1] injecting env (31) from .env.test ‚Äì [tip] encrypt with dotenvx: https://dotenvx.com

      at _log (node_modules/dotenv/lib/main.js:102:11)

FAIL src/lib/monitoring/__tests__/performance.test.ts
  ‚óè Test suite failed to run

    ReferenceError: Request is not defined

      at Object.Request (node_modules/next/src/server/web/spec-extension/request.ts:15:34)
      at Object.<anonymous> (node_modules/next/server.js:2:16)


ReferenceError: You are trying to `import` a file after the Jest environment has been torn down. From src/lib/monitoring/__tests__/performance.test.ts.


  console.log
    [dotenv@17.0.1] injecting env (31) from .env.test ‚Äì [tip] encrypt with dotenvx: https://dotenvx.com

      at _log (node_modules/dotenv/lib/main.js:102:11)

FAIL src/lib/monitoring/__tests__/monitoring.test.ts
  ‚óè Test suite failed to run

    SyntaxError: The requested module '@supabase/ssr' does not provide an export named 'createBrowserClient'

      at Runtime.linkAndEvaluateModule (node_modules/jest-runtime/build/index.js:708:5)

  console.log
    [dotenv@17.0.1] injecting env (31) from .env.test ‚Äì [tip] encrypt with dotenvx: https://dotenvx.com

      at _log (node_modules/dotenv/lib/main.js:102:11)

FAIL src/lib/monitoring/__tests__/middleware.test.ts
  ‚óè Test suite failed to run

    SyntaxError: The requested module '@supabase/ssr' does not provide an export named 'createBrowserClient'

      at Runtime.linkAndEvaluateModule (node_modules/jest-runtime/build/index.js:708:5)

  console.log
    [dotenv@17.0.1] injecting env (31) from .env.test ‚Äì [tip] encrypt with dotenvx: https://dotenvx.com

      at _log (node_modules/dotenv/lib/main.js:102:11)

FAIL src/lib/monitoring/__tests__/metrics.test.ts
  ‚óè Test suite failed to run

    SyntaxError: The requested module '../metrics' does not provide an export named 'calculateAverage'

      at Runtime.linkAndEvaluateModule (node_modules/jest-runtime/build/index.js:708:5)

  console.log
    [dotenv@17.0.1] injecting env (31) from .env.test ‚Äì [tip] encrypt with dotenvx: https://dotenvx.com

      at _log (node_modules/dotenv/lib/main.js:102:11)

FAIL src/lib/monitoring/__tests__/index.test.ts
  ‚óè Test suite failed to run

    SyntaxError: The requested module '@supabase/ssr' does not provide an export named 'createBrowserClient'

      at Runtime.linkAndEvaluateModule (node_modules/jest-runtime/build/index.js:708:5)

  console.log
    [dotenv@17.0.1] injecting env (31) from .env.test ‚Äì [tip] encrypt with dotenvx: https://dotenvx.com

      at _log (node_modules/dotenv/lib/main.js:102:11)

FAIL src/lib/monitoring/__tests__/health.test.ts
  ‚óè Test suite failed to run

    SyntaxError: The requested module '@supabase/ssr' does not provide an export named 'createBrowserClient'

      at Runtime.linkAndEvaluateModule (node_modules/jest-runtime/build/index.js:708:5)

  console.log
    [dotenv@17.0.1] injecting env (31) from .env.test ‚Äì [tip] encrypt with dotenvx: https://dotenvx.com

      at _log (node_modules/dotenv/lib/main.js:102:11)

FAIL src/lib/monitoring/__tests__/collector.test.ts
  ‚óè Test suite failed to run

    SyntaxError: The requested module '@supabase/ssr' does not provide an export named 'createBrowserClient'

      at Runtime.linkAndEvaluateModule (node_modules/jest-runtime/build/index.js:708:5)

  console.log
    [dotenv@17.0.1] injecting env (31) from .env.test ‚Äì [tip] encrypt with dotenvx: https://dotenvx.com

      at _log (node_modules/dotenv/lib/main.js:102:11)

FAIL src/lib/monitoring/__tests__/api-middleware.test.ts
  ‚óè Test suite failed to run

      x Expected ',', got '-'
       ,-[/workspaces/blipee-os/src/lib/monitoring/__tests__/api-middleware.test.ts:2:1]
     1 | import { jest } from '@jest/globals';
     2 | import { api-middleware } from './api-middleware';
       :             ^
     3 | 
     4 | // Mock dependencies
     5 | jest.mock('@supabase/supabase-js');
       `----


    Caused by:
        Syntax Error

         ,-[/workspaces/blipee-os/src/lib/monitoring/__tests__/api-middleware.test.ts:2:1]
       1 | import { jest } from '@jest/globals';
       2 | import { api-middleware } from './api-middleware';
         :             ^
       3 | 
       4 | // Mock dependencies
       5 | jest.mock('@supabase/supabase-js');
         `----
      Caused by:
          Syntax Error

  console.log
    [dotenv@17.0.1] injecting env (31) from .env.test ‚Äì [tip] encrypt with dotenvx: https://dotenvx.com

      at _log (node_modules/dotenv/lib/main.js:102:11)

FAIL src/lib/hooks/__tests__/useAuth.test.ts
  ‚óè Test suite failed to run

    SyntaxError: The requested module '@supabase/ssr' does not provide an export named 'createBrowserClient'

      at Runtime.linkAndEvaluateModule (node_modules/jest-runtime/build/index.js:708:5)

  console.log
    [dotenv@17.0.1] injecting env (31) from .env.test ‚Äì [tip] encrypt with dotenvx: https://dotenvx.com

      at _log (node_modules/dotenv/lib/main.js:102:11)

FAIL src/lib/graphql/__tests__/resolvers.test.ts
  ‚óè Test suite failed to run

    SyntaxError: The requested module '@supabase/ssr' does not provide an export named 'createServerClient'

      at Runtime.linkAndEvaluateModule (node_modules/jest-runtime/build/index.js:708:5)

  console.log
    [dotenv@17.0.1] injecting env (31) from .env.test ‚Äì [tip] encrypt with dotenvx: https://dotenvx.com

      at _log (node_modules/dotenv/lib/main.js:102:11)

FAIL src/lib/graphql/__tests__/server.test.ts
  ‚óè Test suite failed to run

    SyntaxError: The requested module '@supabase/ssr' does not provide an export named 'createServerClient'

      at Runtime.linkAndEvaluateModule (node_modules/jest-runtime/build/index.js:708:5)

  console.log
    [dotenv@17.0.1] injecting env (31) from .env.test ‚Äì [tip] encrypt with dotenvx: https://dotenvx.com

      at _log (node_modules/dotenv/lib/main.js:102:11)

FAIL src/lib/graphql/__tests__/schema.test.ts
  ‚óè Test suite failed to run

    SyntaxError: The requested module '../schema' does not provide an export named 'schema'

      at Runtime.linkAndEvaluateModule (node_modules/jest-runtime/build/index.js:708:5)

  console.log
    [dotenv@17.0.1] injecting env (31) from .env.test ‚Äì [tip] encrypt with dotenvx: https://dotenvx.com

      at _log (node_modules/dotenv/lib/main.js:102:11)

FAIL src/lib/graphql/__tests__/client.test.ts
  ‚óè Test suite failed to run

    SyntaxError: The requested module 'graphql-ws' does not provide an export named 'createClient'

      at Runtime.linkAndEvaluateModule (node_modules/jest-runtime/build/index.js:708:5)

  console.log
    [dotenv@17.0.1] injecting env (31) from .env.test ‚Äì [tip] encrypt with dotenvx: https://dotenvx.com

      at _log (node_modules/dotenv/lib/main.js:102:11)

FAIL src/lib/documents/__tests__/universal-processor.test.ts
  ‚óè Test suite failed to run

      x Expected ',', got '-'
       ,-[/workspaces/blipee-os/src/lib/documents/__tests__/universal-processor.test.ts:2:1]
     1 | import { jest } from '@jest/globals';
     2 | import { universal-processor } from './universal-processor';
       :                   ^
     3 | 
     4 | // Mock dependencies
     5 | jest.mock('@supabase/supabase-js');
       `----


    Caused by:
        Syntax Error

         ,-[/workspaces/blipee-os/src/lib/documents/__tests__/universal-processor.test.ts:2:1]
       1 | import { jest } from '@jest/globals';
       2 | import { universal-processor } from './universal-processor';
         :                   ^
       3 | 
       4 | // Mock dependencies
       5 | jest.mock('@supabase/supabase-js');
         `----
      Caused by:
          Syntax Error

  console.log
    [dotenv@17.0.1] injecting env (31) from .env.test ‚Äì [tip] encrypt with dotenvx: https://dotenvx.com

      at _log (node_modules/dotenv/lib/main.js:102:11)

FAIL src/lib/db/__tests__/supabase.test.ts
  ‚óè Test suite failed to run

    Cannot find module '../supabase' from 'src/lib/db/__tests__/supabase.test.ts'

      at Resolver._throwModNotFoundError (node_modules/jest-resolve/build/resolver.js:427:11)

  console.log
    [dotenv@17.0.1] injecting env (31) from .env.test ‚Äì [tip] encrypt with dotenvx: https://dotenvx.com

      at _log (node_modules/dotenv/lib/main.js:102:11)

FAIL src/lib/db/__tests__/connection-pool.test.ts
  ‚óè Test suite failed to run

    SyntaxError: The requested module '@supabase/supabase-js' does not provide an export named 'createClient'

      at Runtime.linkAndEvaluateModule (node_modules/jest-runtime/build/index.js:708:5)

  console.log
    [dotenv@17.0.1] injecting env (31) from .env.test ‚Äì [tip] encrypt with dotenvx: https://dotenvx.com

      at _log (node_modules/dotenv/lib/main.js:102:11)

FAIL src/lib/data/__tests__/unified-ingestion.test.ts
  ‚óè Test suite failed to run

      x Expected ',', got '-'
       ,-[/workspaces/blipee-os/src/lib/data/__tests__/unified-ingestion.test.ts:2:1]
     1 | import { jest } from '@jest/globals';
     2 | import { unified-ingestion } from './unified-ingestion';
       :                 ^
     3 | 
     4 | // Mock dependencies
     5 | jest.mock('@supabase/supabase-js');
       `----


    Caused by:
        Syntax Error

      ,-[/workspaces/blipee-os/src/lib/data/__tests__/unified-ingestion.test.ts:2:1]
       1 | import { jest } from '@jest/globals';
       2 | import { unified-ingestion } from './unified-ingestion';
         :                 ^
       3 | 
       4 | // Mock dependencies
       5 | jest.mock('@supabase/supabase-js');
         `----
      Caused by:
          Syntax Error

  console.log
    [dotenv@17.0.1] injecting env (31) from .env.test ‚Äì [tip] encrypt with dotenvx: https://dotenvx.com

      at _log (node_modules/dotenv/lib/main.js:102:11)

FAIL src/lib/data/__tests__/free-apis.test.ts
  ‚óè Test suite failed to run

      x Expected ',', got '-'
       ,-[/workspaces/blipee-os/src/lib/data/__tests__/free-apis.test.ts:2:1]
     1 | import { jest } from '@jest/globals';
     2 | import { free-apis } from './free-apis';
       :              ^
     3 | 
     4 | // Mock dependencies
     5 | jest.mock('@supabase/supabase-js');
       `----


    Caused by:
        Syntax Error

      ,-[/workspaces/blipee-os/src/lib/data/__tests__/free-apis.test.ts:2:1]
       1 | import { jest } from '@jest/globals';
       2 | import { free-apis } from './free-apis';
         :              ^
       3 | 
       4 | // Mock dependencies
       5 | jest.mock('@supabase/supabase-js');
         `----
      Caused by:
          Syntax Error

  console.log
    [dotenv@17.0.1] injecting env (31) from .env.test ‚Äì [tip] encrypt with dotenvx: https://dotenvx.com

      at _log (node_modules/dotenv/lib/main.js:102:11)

FAIL src/lib/data/__tests__/external-apis.test.ts
  ‚óè Test suite failed to run

      x Expected ',', got '-'
       ,-[/workspaces/blipee-os/src/lib/data/__tests__/external-apis.test.ts:2:1]
     1 | import { jest } from '@jest/globals';
     2 | import { external-apis } from './external-apis';
       :                  ^
     3 | 
     4 | // Mock dependencies
     5 | jest.mock('@supabase/supabase-js');
       `----


    Caused by:
        Syntax Error

      ,-[/workspaces/blipee-os/src/lib/data/__tests__/external-apis.test.ts:2:1]
       1 | import { jest } from '@jest/globals';
       2 | import { external-apis } from './external-apis';
         :                  ^
       3 | 
       4 | // Mock dependencies
       5 | jest.mock('@supabase/supabase-js');
         `----
      Caused by:
          Syntax Error

  console.log
    [dotenv@17.0.1] injecting env (31) from .env.test ‚Äì [tip] encrypt with dotenvx: https://dotenvx.com

      at _log (node_modules/dotenv/lib/main.js:102:11)

FAIL src/lib/data/__tests__/electricity-maps.test.ts
  ‚óè Test suite failed to run

      x Expected ',', got '-'
       ,-[/workspaces/blipee-os/src/lib/data/__tests__/electricity-maps.test.ts:2:1]
     1 | import { jest } from '@jest/globals';
     2 | import { electricity-maps } from './electricity-maps';
       :                     ^
     3 | 
     4 | // Mock dependencies
     5 | jest.mock('@supabase/supabase-js');
       `----


    Caused by:
        Syntax Error

      ,-[/workspaces/blipee-os/src/lib/data/__tests__/electricity-maps.test.ts:2:1]
       1 | import { jest } from '@jest/globals';
       2 | import { electricity-maps } from './electricity-maps';
         :                     ^
       3 | 
       4 | // Mock dependencies
       5 | jest.mock('@supabase/supabase-js');
         `----
      Caused by:
          Syntax Error

  console.log
    [dotenv@17.0.1] injecting env (31) from .env.test ‚Äì [tip] encrypt with dotenvx: https://dotenvx.com

      at _log (node_modules/dotenv/lib/main.js:102:11)

FAIL src/lib/data/__tests__/emission-factors.test.ts
  ‚óè Test suite failed to run

      x Expected ',', got '-'
       ,-[/workspaces/blipee-os/src/lib/data/__tests__/emission-factors.test.ts:2:1]
     1 | import { jest } from '@jest/globals';
     2 | import { emission-factors } from './emission-factors';
       :                  ^
     3 | 
     4 | // Mock dependencies
     5 | jest.mock('@supabase/supabase-js');
       `----


    Caused by:
        Syntax Error

      ,-[/workspaces/blipee-os/src/lib/data/__tests__/emission-factors.test.ts:2:1]
       1 | import { jest } from '@jest/globals';
       2 | import { emission-factors } from './emission-factors';
         :                  ^
       3 | 
       4 | // Mock dependencies
       5 | jest.mock('@supabase/supabase-js');
         `----
      Caused by:
          Syntax Error

  console.log
    [dotenv@17.0.1] injecting env (31) from .env.test ‚Äì [tip] encrypt with dotenvx: https://dotenvx.com

      at _log (node_modules/dotenv/lib/main.js:102:11)

FAIL src/lib/data/__tests__/document-parser.test.ts
  ‚óè Test suite failed to run

      x Expected ',', got '-'
       ,-[/workspaces/blipee-os/src/lib/data/__tests__/document-parser.test.ts:2:1]
     1 | import { jest } from '@jest/globals';
     2 | import { document-parser } from './document-parser';
       :                  ^
     3 | 
     4 | // Mock dependencies
     5 | jest.mock('@supabase/supabase-js');
       `----


    Caused by:
        Syntax Error

      ,-[/workspaces/blipee-os/src/lib/data/__tests__/document-parser.test.ts:2:1]
       1 | import { jest } from '@jest/globals';
       2 | import { document-parser } from './document-parser';
         :                  ^
       3 | 
       4 | // Mock dependencies
       5 | jest.mock('@supabase/supabase-js');
         `----
      Caused by:
          Syntax Error

  console.log
    [dotenv@17.0.1] injecting env (31) from .env.test ‚Äì [tip] encrypt with dotenvx: https://dotenvx.com

      at _log (node_modules/dotenv/lib/main.js:102:11)

FAIL src/lib/conversations/__tests__/utils.test.ts
  ‚óè Test suite failed to run

    SyntaxError: The requested module '../utils' does not provide an export named 'extractKeywords'

      at Runtime.linkAndEvaluateModule (node_modules/jest-runtime/build/index.js:708:5)

  console.log
    [dotenv@17.0.1] injecting env (31) from .env.test ‚Äì [tip] encrypt with dotenvx: https://dotenvx.com

      at _log (node_modules/dotenv/lib/main.js:102:11)

FAIL src/lib/config/__tests__/env.test.ts
  ‚óè Test suite failed to run

    SyntaxError: The requested module '../env' does not provide an export named 'getEnvVar'

      at Runtime.linkAndEvaluateModule (node_modules/jest-runtime/build/index.js:708:5)

  console.log
    [dotenv@17.0.1] injecting env (31) from .env.test ‚Äì [tip] encrypt with dotenvx: https://dotenvx.com

      at _log (node_modules/dotenv/lib/main.js:102:11)

FAIL src/lib/compliance/__tests__/soc2.test.ts
  ‚óè Test suite failed to run

    SyntaxError: The requested module '@supabase/supabase-js' does not provide an export named 'createClient'

      at Runtime.linkAndEvaluateModule (node_modules/jest-runtime/build/index.js:708:5)

  console.log
    [dotenv@17.0.1] injecting env (31) from .env.test ‚Äì [tip] encrypt with dotenvx: https://dotenvx.com

      at _log (node_modules/dotenv/lib/main.js:102:11)

FAIL src/lib/compliance/__tests__/index.test.ts
  ‚óè Test suite failed to run

    SyntaxError: The requested module '@supabase/supabase-js' does not provide an export named 'createClient'

      at Runtime.linkAndEvaluateModule (node_modules/jest-runtime/build/index.js:708:5)

  console.log
    [dotenv@17.0.1] injecting env (31) from .env.test ‚Äì [tip] encrypt with dotenvx: https://dotenvx.com

      at _log (node_modules/dotenv/lib/main.js:102:11)

FAIL src/lib/compliance/__tests__/gdpr.test.ts
  ‚óè Test suite failed to run

    SyntaxError: The requested module '@supabase/supabase-js' does not provide an export named 'createClient'

      at Runtime.linkAndEvaluateModule (node_modules/jest-runtime/build/index.js:708:5)

  console.log
    [dotenv@17.0.1] injecting env (31) from .env.test ‚Äì [tip] encrypt with dotenvx: https://dotenvx.com

      at _log (node_modules/dotenv/lib/main.js:102:11)

FAIL src/lib/compliance/__tests__/compliance.test.ts
  ‚óè Test suite failed to run

    SyntaxError: The requested module '@supabase/supabase-js' does not provide an export named 'createClient'

      at Runtime.linkAndEvaluateModule (node_modules/jest-runtime/build/index.js:708:5)

  console.log
    [dotenv@17.0.1] injecting env (31) from .env.test ‚Äì [tip] encrypt with dotenvx: https://dotenvx.com

      at _log (node_modules/dotenv/lib/main.js:102:11)

FAIL src/lib/cache/__tests__/redis.test.ts
  ‚óè Test suite failed to run

    SyntaxError: The requested module '../redis' does not provide an export named 'redis'

      at Runtime.linkAndEvaluateModule (node_modules/jest-runtime/build/index.js:708:5)

  console.log
    [dotenv@17.0.1] injecting env (31) from .env.test ‚Äì [tip] encrypt with dotenvx: https://dotenvx.com

      at _log (node_modules/dotenv/lib/main.js:102:11)

FAIL src/lib/cache/__tests__/redis-simple.test.ts
  ‚óè Test suite failed to run

    Cannot find module '../service' from 'src/lib/cache/__tests__/redis-simple.test.ts'

      at Resolver._throwModNotFoundError (node_modules/jest-resolve/build/resolver.js:427:11)

  console.log
    [dotenv@17.0.1] injecting env (31) from .env.test ‚Äì [tip] encrypt with dotenvx: https://dotenvx.com

      at _log (node_modules/dotenv/lib/main.js:102:11)

FAIL src/lib/cache/__tests__/edge-cache.test.ts
  ‚óè Test suite failed to run

    ReferenceError: Request is not defined

      at Object.Request (node_modules/next/src/server/web/spec-extension/request.ts:15:34)
      at Object.<anonymous> (node_modules/next/server.js:2:16)

  console.log
    [dotenv@17.0.1] injecting env (31) from .env.test ‚Äì [tip] encrypt with dotenvx: https://dotenvx.com

      at _log (node_modules/dotenv/lib/main.js:102:11)

FAIL src/lib/cache/__tests__/data-cache.test.ts
  ‚óè Test suite failed to run

      x Expected ',', got '-'
       ,-[/workspaces/blipee-os/src/lib/cache/__tests__/data-cache.test.ts:2:1]
     1 | import { jest } from '@jest/globals';
     2 | import { data-cache } from './data-cache';
       :              ^
     3 | 
     4 | // Mock dependencies
     5 | jest.mock('@supabase/supabase-js');
       `----


    Caused by:
        Syntax Error

      ,-[/workspaces/blipee-os/src/lib/cache/__tests__/data-cache.test.ts:2:1]
       1 | import { jest } from '@jest/globals';
       2 | import { data-cache } from './data-cache';
         :              ^
       3 | 
       4 | // Mock dependencies
       5 | jest.mock('@supabase/supabase-js');
         `----
      Caused by:
          Syntax Error

  console.log
    [dotenv@17.0.1] injecting env (31) from .env.test ‚Äì [tip] encrypt with dotenvx: https://dotenvx.com

      at _log (node_modules/dotenv/lib/main.js:102:11)

FAIL src/lib/cache/__tests__/cache-new.test.ts
  ‚óè Test suite failed to run

    Cannot find module '../service' from 'src/lib/cache/__tests__/cache-new.test.ts'

      at Resolver._throwModNotFoundError (node_modules/jest-resolve/build/resolver.js:427:11)

  console.log
    [dotenv@17.0.1] injecting env (31) from .env.test ‚Äì [tip] encrypt with dotenvx: https://dotenvx.com

      at _log (node_modules/dotenv/lib/main.js:102:11)

FAIL src/lib/cache/__tests__/ai-cache.test.ts
  ‚óè Test suite failed to run

    SyntaxError: The requested module '../ai-cache' does not provide an export named 'cacheAIResponse'

      at Runtime.linkAndEvaluateModule (node_modules/jest-runtime/build/index.js:708:5)

  console.log
    [dotenv@17.0.1] injecting env (31) from .env.test ‚Äì [tip] encrypt with dotenvx: https://dotenvx.com

      at _log (node_modules/dotenv/lib/main.js:102:11)

FAIL src/lib/auth/__tests__/webauthn.test.ts
  ‚óè Test suite failed to run

    SyntaxError: The requested module '@supabase/ssr' does not provide an export named 'createBrowserClient'

      at Runtime.linkAndEvaluateModule (node_modules/jest-runtime/build/index.js:708:5)

  console.log
    [dotenv@17.0.1] injecting env (31) from .env.test ‚Äì [tip] encrypt with dotenvx: https://dotenvx.com

      at _log (node_modules/dotenv/lib/main.js:102:11)

FAIL src/lib/auth/__tests__/session.test.ts
  ‚óè Test suite failed to run

    SyntaxError: The requested module '@supabase/ssr' does not provide an export named 'createBrowserClient'

      at Runtime.linkAndEvaluateModule (node_modules/jest-runtime/build/index.js:708:5)

  console.log
    [dotenv@17.0.1] injecting env (31) from .env.test ‚Äì [tip] encrypt with dotenvx: https://dotenvx.com

      at _log (node_modules/dotenv/lib/main.js:102:11)

FAIL src/lib/auth/__tests__/session-store.test.ts
  ‚óè Test suite failed to run

      x Expected ',', got '-'
       ,-[/workspaces/blipee-os/src/lib/auth/__tests__/session-store.test.ts:2:1]
     1 | import { jest } from '@jest/globals';
     2 | import { session-store } from './session-store';
       :                 ^
     3 | 
     4 | // Mock dependencies
     5 | jest.mock('@supabase/supabase-js');
       `----


    Caused by:
        Syntax Error

         ,-[/workspaces/blipee-os/src/lib/auth/__tests__/session-store.test.ts:2:1]
       1 | import { jest } from '@jest/globals';
       2 | import { session-store } from './session-store';
         :                 ^
       3 | 
       4 | // Mock dependencies
       5 | jest.mock('@supabase/supabase-js');
         `----
      Caused by:
          Syntax Error

  console.log
    [dotenv@17.0.1] injecting env (31) from .env.test ‚Äì [tip] encrypt with dotenvx: https://dotenvx.com

      at _log (node_modules/dotenv/lib/main.js:102:11)

FAIL src/lib/auth/__tests__/session-auth.test.ts
  ‚óè Test suite failed to run

      x Expected ',', got '-'
       ,-[/workspaces/blipee-os/src/lib/auth/__tests__/session-auth.test.ts:2:1]
     1 | import { jest } from '@jest/globals';
     2 | import { session-auth } from './session-auth';
       :                 ^
     3 | 
     4 | // Mock dependencies
     5 | jest.mock('@supabase/supabase-js');
       `----


    Caused by:
        Syntax Error

         ,-[/workspaces/blipee-os/src/lib/auth/__tests__/session-auth.test.ts:2:1]
       1 | import { jest } from '@jest/globals';
       2 | import { session-auth } from './session-auth';
         :                 ^
       3 | 
       4 | // Mock dependencies
       5 | jest.mock('@supabase/supabase-js');
         `----
      Caused by:
          Syntax Error

  console.log
    [dotenv@17.0.1] injecting env (31) from .env.test ‚Äì [tip] encrypt with dotenvx: https://dotenvx.com

      at _log (node_modules/dotenv/lib/main.js:102:11)

FAIL src/lib/auth/__tests__/require-role.test.ts
  ‚óè Test suite failed to run

      x Expected ',', got '-'
       ,-[/workspaces/blipee-os/src/lib/auth/__tests__/require-role.test.ts:2:1]
     1 | import { jest } from '@jest/globals';
     2 | import { require-role } from './require-role';
       :                 ^
     3 | 
     4 | // Mock dependencies
     5 | jest.mock('@supabase/supabase-js');
       `----


    Caused by:
        Syntax Error

         ,-[/workspaces/blipee-os/src/lib/auth/__tests__/require-role.test.ts:2:1]
       1 | import { jest } from '@jest/globals';
       2 | import { require-role } from './require-role';
         :                 ^
       3 | 
       4 | // Mock dependencies
       5 | jest.mock('@supabase/supabase-js');
         `----
      Caused by:
          Syntax Error

  console.log
    [dotenv@17.0.1] injecting env (31) from .env.test ‚Äì [tip] encrypt with dotenvx: https://dotenvx.com

      at _log (node_modules/dotenv/lib/main.js:102:11)


ReferenceError: You are trying to `import` a file after the Jest environment has been torn down. From src/lib/auth/__tests__/middleware.test.ts.


FAIL src/lib/auth/__tests__/middleware.test.ts
  ‚óè Test suite failed to run

    ReferenceError: Request is not defined

      at Object.Request (node_modules/next/src/server/web/spec-extension/request.ts:15:34)
      at Object.<anonymous> (node_modules/next/server.js:2:16)

  console.log
    [dotenv@17.0.1] injecting env (31) from .env.test ‚Äì [tip] encrypt with dotenvx: https://dotenvx.com

      at _log (node_modules/dotenv/lib/main.js:102:11)


ReferenceError: You are trying to `import` a file after the Jest environment has been torn down. From src/lib/auth/__tests__/middleware-real.test.ts.



ReferenceError: You are trying to `import` a file after the Jest environment has been torn down. From src/lib/auth/__tests__/middleware-real.test.ts.


FAIL src/lib/auth/__tests__/middleware-real.test.ts
  ‚óè Test suite failed to run

    ReferenceError: Request is not defined

      at Object.Request (node_modules/next/src/server/web/spec-extension/request.ts:15:34)
      at Object.<anonymous> (node_modules/next/server.js:2:16)

  console.log
    [dotenv@17.0.1] injecting env (31) from .env.test ‚Äì [tip] encrypt with dotenvx: https://dotenvx.com

      at _log (node_modules/dotenv/lib/main.js:102:11)

FAIL src/lib/auth/__tests__/mfa.test.ts
  ‚óè Test suite failed to run

    SyntaxError: The requested module '@supabase/supabase-js' does not provide an export named 'createClient'

      at Runtime.linkAndEvaluateModule (node_modules/jest-runtime/build/index.js:708:5)

  console.log
    [dotenv@17.0.1] injecting env (31) from .env.test ‚Äì [tip] encrypt with dotenvx: https://dotenvx.com

      at _log (node_modules/dotenv/lib/main.js:102:11)

FAIL src/lib/auth/__tests__/context.test.ts
  ‚óè Test suite failed to run

    SyntaxError: The requested module '../context' does not provide an export named 'context'

      at Runtime.linkAndEvaluateModule (node_modules/jest-runtime/build/index.js:708:5)

  console.log
    [dotenv@17.0.1] injecting env (31) from .env.test ‚Äì [tip] encrypt with dotenvx: https://dotenvx.com

      at _log (node_modules/dotenv/lib/main.js:102:11)

FAIL src/lib/auth/__tests__/auth.test.ts
  ‚óè Test suite failed to run

    Cannot find module '../utils' from 'src/lib/auth/__tests__/auth.test.ts'

      at Resolver._throwModNotFoundError (node_modules/jest-resolve/build/resolver.js:427:11)

  console.log
    [dotenv@17.0.1] injecting env (31) from .env.test ‚Äì [tip] encrypt with dotenvx: https://dotenvx.com

      at _log (node_modules/dotenv/lib/main.js:102:11)

FAIL src/lib/auth/__tests__/auth-service.test.ts
  ‚óè Test suite failed to run

    SyntaxError: The requested module '@supabase/ssr' does not provide an export named 'createBrowserClient'

      at Runtime.linkAndEvaluateModule (node_modules/jest-runtime/build/index.js:708:5)

  console.log
    [dotenv@17.0.1] injecting env (31) from .env.test ‚Äì [tip] encrypt with dotenvx: https://dotenvx.com

      at _log (node_modules/dotenv/lib/main.js:102:11)

FAIL src/lib/audit/__tests__/types.test.ts
  ‚óè Test suite failed to run

    SyntaxError: The requested module '../types' does not provide an export named 'types'

      at Runtime.linkAndEvaluateModule (node_modules/jest-runtime/build/index.js:708:5)

  console.log
    [dotenv@17.0.1] injecting env (31) from .env.test ‚Äì [tip] encrypt with dotenvx: https://dotenvx.com

      at _log (node_modules/dotenv/lib/main.js:102:11)

FAIL src/lib/audit/__tests__/logger.test.ts
  ‚óè Test suite failed to run

    SyntaxError: The requested module '@supabase/ssr' does not provide an export named 'createBrowserClient'

      at Runtime.linkAndEvaluateModule (node_modules/jest-runtime/build/index.js:708:5)

  console.log
    [dotenv@17.0.1] injecting env (31) from .env.test ‚Äì [tip] encrypt with dotenvx: https://dotenvx.com

      at _log (node_modules/dotenv/lib/main.js:102:11)

FAIL src/lib/api/__tests__/rate-limit.test.ts
  ‚óè Test suite failed to run

    Cannot find module '/api/rate-limit.ts' from 'src/lib/api/__tests__/rate-limit.test.ts'

      at Resolver._throwModNotFoundError (node_modules/jest-resolve/build/resolver.js:427:11)

  console.log
    [dotenv@17.0.1] injecting env (31) from .env.test ‚Äì [tip] encrypt with dotenvx: https://dotenvx.com

      at _log (node_modules/dotenv/lib/main.js:102:11)


ReferenceError: You are trying to `import` a file after the Jest environment has been torn down. From src/lib/api/__tests__/error-handler.test.ts.



ReferenceError: You are trying to `import` a file after the Jest environment has been torn down. From src/lib/api/__tests__/error-handler.test.ts.



ReferenceError: You are trying to `import` a file after the Jest environment has been torn down. From src/lib/api/__tests__/error-handler.test.ts.



ReferenceError: You are trying to `import` a file after the Jest environment has been torn down. From src/lib/api/__tests__/error-handler.test.ts.



ReferenceError: You are trying to `import` a file after the Jest environment has been torn down. From src/lib/api/__tests__/error-handler.test.ts.



ReferenceError: You are trying to `import` a file after the Jest environment has been torn down. From src/lib/api/__tests__/error-handler.test.ts.


FAIL src/lib/api/__tests__/error-handler.test.ts
  ‚óè Test suite failed to run

    ReferenceError: Request is not defined

      at Object.Request (node_modules/next/src/server/web/spec-extension/request.ts:15:34)
      at Object.<anonymous> (node_modules/next/server.js:2:16)

  console.log
    [dotenv@17.0.1] injecting env (31) from .env.test ‚Äì [tip] encrypt with dotenvx: https://dotenvx.com

      at _log (node_modules/dotenv/lib/main.js:102:11)

FAIL src/lib/ai/__tests__/visual-intelligence.test.ts
  ‚óè Test suite failed to run

      x Expected ',', got '-'
       ,-[/workspaces/blipee-os/src/lib/ai/__tests__/visual-intelligence.test.ts:2:1]
     1 | import { jest } from '@jest/globals';
     2 | import { visual-intelligence } from './visual-intelligence';
       :                ^
     3 | 
     4 | // Mock dependencies
     5 | jest.mock('@supabase/supabase-js');
       `----


    Caused by:
        Syntax Error

         ,-[/workspaces/blipee-os/src/lib/ai/__tests__/visual-intelligence.test.ts:2:1]
       1 | import { jest } from '@jest/globals';
       2 | import { visual-intelligence } from './visual-intelligence';
         :                ^
       3 | 
       4 | // Mock dependencies
       5 | jest.mock('@supabase/supabase-js');
         `----
      Caused by:
          Syntax Error

  console.log
    [dotenv@17.0.1] injecting env (31) from .env.test ‚Äì [tip] encrypt with dotenvx: https://dotenvx.com

      at _log (node_modules/dotenv/lib/main.js:102:11)

FAIL src/lib/ai/__tests__/sustainability-intelligence.test.ts
  ‚óè Test suite failed to run

      x Expected ',', got '-'
       ,-[/workspaces/blipee-os/src/lib/ai/__tests__/sustainability-intelligence.test.ts:2:1]
     1 | import { jest } from '@jest/globals';
     2 | import { sustainability-intelligence } from './sustainability-intelligence';
       :                        ^
     3 | 
     4 | // Mock dependencies
     5 | jest.mock('@supabase/supabase-js');
       `----


    Caused by:
        Syntax Error

         ,-[/workspaces/blipee-os/src/lib/ai/__tests__/sustainability-intelligence.test.ts:2:1]
       1 | import { jest } from '@jest/globals';
       2 | import { sustainability-intelligence } from './sustainability-intelligence';
         :                        ^
       3 | 
       4 | // Mock dependencies
       5 | jest.mock('@supabase/supabase-js');
         `----
      Caused by:
          Syntax Error

  console.log
    [dotenv@17.0.1] injecting env (31) from .env.test ‚Äì [tip] encrypt with dotenvx: https://dotenvx.com

      at _log (node_modules/dotenv/lib/main.js:102:11)

FAIL src/lib/ai/__tests__/sustainability-context.test.ts
  ‚óè Test suite failed to run

      x Expected ',', got '-'
       ,-[/workspaces/blipee-os/src/lib/ai/__tests__/sustainability-context.test.ts:2:1]
     1 | import { jest } from '@jest/globals';
     2 | import { sustainability-context } from './sustainability-context';
       :                        ^
     3 | 
     4 | // Mock dependencies
     5 | jest.mock('@supabase/supabase-js');
       `----


    Caused by:
        Syntax Error

         ,-[/workspaces/blipee-os/src/lib/ai/__tests__/sustainability-context.test.ts:2:1]
       1 | import { jest } from '@jest/globals';
       2 | import { sustainability-context } from './sustainability-context';
         :                        ^
       3 | 
       4 | // Mock dependencies
       5 | jest.mock('@supabase/supabase-js');
         `----
      Caused by:
          Syntax Error

  console.log
    [dotenv@17.0.1] injecting env (31) from .env.test ‚Äì [tip] encrypt with dotenvx: https://dotenvx.com

      at _log (node_modules/dotenv/lib/main.js:102:11)

FAIL src/lib/ai/__tests__/response-parser.test.ts
  ‚óè Test suite failed to run

      x Expected ',', got '-'
       ,-[/workspaces/blipee-os/src/lib/ai/__tests__/response-parser.test.ts:2:1]
     1 | import { jest } from '@jest/globals';
     2 | import { response-parser } from './response-parser';
       :                  ^
     3 | 
     4 | // Mock dependencies
     5 | jest.mock('@supabase/supabase-js');
       `----


    Caused by:
        Syntax Error

         ,-[/workspaces/blipee-os/src/lib/ai/__tests__/response-parser.test.ts:2:1]
       1 | import { jest } from '@jest/globals';
       2 | import { response-parser } from './response-parser';
         :                  ^
       3 | 
       4 | // Mock dependencies
       5 | jest.mock('@supabase/supabase-js');
         `----
      Caused by:
          Syntax Error

  console.log
    [dotenv@17.0.1] injecting env (31) from .env.test ‚Äì [tip] encrypt with dotenvx: https://dotenvx.com

      at _log (node_modules/dotenv/lib/main.js:102:11)

Terminated
